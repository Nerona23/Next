/**
 *	8.2.0
 *	Generation date: 2021-04-21T14:24:03.673Z
 *	Client name: sam p fintech
 *	Package Type: Technical Analysis 8.2
 *	License type: trial
 *	Expiration date: "2021/05/06"
 *	iFrame lock: true
 */

/***********************************************************
 * Copyright by ChartIQ, Inc.
 * Licensed under the ChartIQ, Inc. Developer License Agreement https://www.chartiq.com/developer-license-agreement
*************************************************************/
/*************************************** DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! **************************************/
/* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting */
/* and load that file right after the library has been loaded, but before the chart engine is instantiated.              */
/* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          */
/*************************************************************************************************************************/
/* eslint-disable no-extra-parens */


/* eslint-disable */ /* jshint ignore:start */ /* ignore jslint start */
o233[502948]=(function(){var V=2;for(;V !== 9;){switch(V){case 2:V=typeof globalThis === '\u006f\u0062\u006a\x65\u0063\x74'?1:5;break;case 1:return globalThis;break;case 5:var H;try{var j=2;for(;j !== 6;){switch(j){case 9:delete H['\x69\u006d\u0053\x55\x72'];var D=Object['\x70\x72\x6f\x74\x6f\u0074\x79\x70\x65'];delete D['\x67\x48\u0052\x4b\u0049'];j=6;break;case 3:throw "";j=9;break;case 4:j=typeof imSUr === '\u0075\x6e\u0064\x65\x66\x69\u006e\x65\u0064'?3:9;break;case 2:Object['\x64\x65\x66\u0069\x6e\u0065\x50\x72\x6f\x70\u0065\x72\x74\x79'](Object['\x70\x72\x6f\x74\u006f\u0074\u0079\x70\u0065'],'\x67\u0048\x52\u004b\x49',{'\x67\x65\x74':function(){var f=2;for(;f !== 1;){switch(f){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});H=gHRKI;H['\u0069\x6d\x53\x55\x72']=H;j=4;break;}}}catch(h){H=window;}return H;break;}}})();o233[511077]=c188(o233[502948]);o233[110204]=y1ww(o233[502948]);o233.z9u=function(){return typeof o233[89363].h2j === 'function'?o233[89363].h2j.apply(o233[89363],arguments):o233[89363].h2j;};o233.f1T=function(){return typeof o233[526695].Q7T === 'function'?o233[526695].Q7T.apply(o233[526695],arguments):o233[526695].Q7T;};o233.Y9u=function(){return typeof o233[89363].h2j === 'function'?o233[89363].h2j.apply(o233[89363],arguments):o233[89363].h2j;};o233.n1T=function(){return typeof o233[526695].Q7T === 'function'?o233[526695].Q7T.apply(o233[526695],arguments):o233[526695].Q7T;};o233[526695]=(function(S1T){return {Q7T:function(){var J1T,N1T=arguments;switch(S1T){case 186:J1T=(-N1T[2] + N1T[0]) / N1T[1] / N1T[4] - N1T[3];break;case 81:J1T=N1T[3] * (+N1T[0] * N1T[2] + N1T[4]) / N1T[1];break;case 184:J1T=N1T[2] + (N1T[1] / N1T[3] - N1T[0] / N1T[4]);break;case 23:J1T=N1T[1] * N1T[0];break;case 136:J1T=N1T[3] * N1T[2] / (N1T[1] + N1T[0]);break;case 139:J1T=N1T[0] / N1T[2] / N1T[1] - N1T[3];break;case 65:J1T=(N1T[4] - N1T[0] + N1T[3]) * N1T[1] + N1T[2];break;case 6:J1T=N1T[3] + N1T[0] - N1T[1] - N1T[2];break;case 25:J1T=N1T[1] - (N1T[0] - N1T[2]);break;case 78:J1T=N1T[3] - N1T[0] * (N1T[2] - N1T[1]);break;case 93:J1T=-N1T[1] - N1T[3] + N1T[2] + N1T[0];break;case 120:J1T=N1T[0] * N1T[1] / N1T[2] + N1T[3];break;case 54:J1T=(N1T[1] - N1T[3]) * N1T[0] + N1T[4] - N1T[2];break;case 183:J1T=(N1T[4] - N1T[2]) * N1T[3] + N1T[1] + N1T[0];break;case 91:J1T=(-N1T[2] + N1T[0]) * N1T[1] - N1T[3];break;case 31:J1T=N1T[4] - N1T[1] - N1T[3] + N1T[0] + N1T[2];break;case 140:J1T=N1T[1] - +N1T[4] / (N1T[0] + N1T[2] / N1T[3]);break;case 49:J1T=(N1T[0] - N1T[1]) / (N1T[3] - N1T[4]) > N1T[2];break;case 105:J1T=(N1T[2] / N1T[3] + N1T[4]) * N1T[0] - N1T[1];break;case 122:J1T=(N1T[2] - N1T[3]) * N1T[0] - N1T[4] + N1T[1];break;case 112:J1T=(N1T[2] / N1T[3] - N1T[0]) * N1T[1] + N1T[4];break;case 180:J1T=N1T[0] + N1T[1] / N1T[3] + N1T[2];break;case 33:J1T=-N1T[0] / N1T[2] / N1T[1] + N1T[3];break;case 103:J1T=N1T[2] + N1T[3] + N1T[0] + N1T[1];break;case 126:J1T=(N1T[0] + N1T[3]) / N1T[4] + N1T[2] - N1T[1];break;case 77:J1T=N1T[2] + (N1T[1] - N1T[0]) / N1T[3];break;case 107:J1T=(N1T[4] + N1T[1]) / N1T[2] * N1T[3] - N1T[0];break;case 28:J1T=N1T[4] - N1T[0] + N1T[1] - N1T[2] + N1T[3];break;case 118:J1T=N1T[3] / N1T[0] * N1T[1] + N1T[2];break;case 123:J1T=(N1T[4] - N1T[2] - N1T[0]) / N1T[3] + N1T[1];break;case 43:J1T=N1T[2] + N1T[3] / (N1T[1] & N1T[0]);break;case 110:J1T=(N1T[2] * N1T[3] - N1T[0]) * N1T[4] - N1T[1];break;case 16:J1T=N1T[2] * N1T[0] - N1T[4] - N1T[1] - N1T[3];break;case 75:J1T=+N1T[1] / N1T[0];break;case 3:J1T=N1T[2] - N1T[0] + N1T[3] + N1T[1];break;case 48:J1T=N1T[1] * N1T[2] / N1T[3] - N1T[0];break;case 116:J1T=N1T[1] / N1T[3] / N1T[2] - N1T[0] + N1T[4];break;case 164:J1T=N1T[2] / N1T[0] / N1T[1] * N1T[3] - N1T[4];break;case 101:J1T=N1T[6] + N1T[7] + N1T[5] + N1T[1] + N1T[2] + N1T[4] + N1T[0] + N1T[3];break;case 130:J1T=-N1T[1] / N1T[3] / N1T[2] + N1T[4] + N1T[0];break;case 61:J1T=-N1T[3] * N1T[2] * N1T[1] + N1T[0];break;case 20:J1T=(N1T[2] - N1T[0]) / N1T[1] - N1T[4] + N1T[3];break;case 44:J1T=N1T[1] + N1T[2] / +N1T[0];break;case 71:J1T=N1T[2] / N1T[0] - N1T[1];break;case 115:J1T=(N1T[1] + N1T[2]) * N1T[0];break;case 113:J1T=N1T[1] * N1T[3] * N1T[0] - N1T[2];break;case 166:J1T=N1T[2] - N1T[0] + N1T[4] - N1T[1] - N1T[3];break;case 132:J1T=-N1T[3] * N1T[1] * N1T[2] - N1T[4] + N1T[0];break;case 185:J1T=(-N1T[1] - N1T[3]) / N1T[0] + N1T[2];break;case 21:J1T=N1T[2] * N1T[1] - N1T[0] - N1T[3];break;case 57:J1T=N1T[0] < N1T[1];break;case 74:J1T=N1T[3] * N1T[2] / N1T[0] - N1T[4] - N1T[1];break;case 148:J1T=-N1T[1] - N1T[0] + N1T[3] - N1T[2];break;case 125:J1T=(-N1T[3] + N1T[0]) / N1T[1] + N1T[2];break;case 58:J1T=(N1T[0] - N1T[3]) / (N1T[2] - N1T[1]);break;case 41:J1T=-N1T[0] / N1T[3] / N1T[1] + N1T[4] - N1T[2];break;case 162:J1T=(N1T[1] - N1T[2]) * N1T[0] - N1T[3];break;case 137:J1T=N1T[1] * N1T[0] * N1T[2];break;case 53:J1T=N1T[0] ^ N1T[1];break;case 121:J1T=(N1T[4] / N1T[2] + N1T[3]) * N1T[0] + N1T[1];break;case 168:J1T=N1T[3] + N1T[2] + N1T[4] + N1T[0] - N1T[1];break;case 18:J1T=N1T[0] + +N1T[2] * N1T[1];break;case 151:J1T=N1T[3] / N1T[4] * N1T[0] + N1T[1] + N1T[2];break;case 8:J1T=-N1T[1] + N1T[0];break;case 88:J1T=N1T[2] / N1T[0] / N1T[3] + N1T[1];break;case 131:J1T=N1T[0] + (N1T[2] << N1T[1]);break;case 47:J1T=N1T[1] / N1T[3] + N1T[2] - N1T[0];break;case 174:J1T=-N1T[2] - N1T[4] + N1T[1] - N1T[0] + N1T[3];break;case 55:J1T=(N1T[2] - N1T[1]) * N1T[0] * N1T[4] + N1T[3];break;case 102:J1T=(N1T[1] - (N1T[3] + N1T[0])) / +N1T[2];break;case 7:J1T=N1T[1] & N1T[0];break;case 96:J1T=(N1T[2] * N1T[0] + N1T[3]) / N1T[1];break;case 153:J1T=N1T[3] / N1T[0] - N1T[1] + N1T[2];break;case 37:J1T=+N1T[2] * N1T[0] - N1T[3] - N1T[1];break;case 72:J1T=(N1T[1] + N1T[4] + N1T[3]) * N1T[2] - N1T[0];break;case 26:J1T=(N1T[0] - N1T[1]) / N1T[2];break;case 83:J1T=(N1T[2] - N1T[1] * N1T[0]) / N1T[3];break;case 173:J1T=(-N1T[0] - N1T[2]) * N1T[3] + N1T[1];break;case 12:J1T=N1T[1] - +N1T[0];break;case 32:J1T=(N1T[3] - N1T[1] - N1T[2]) * N1T[0] + N1T[4];break;case 66:J1T=(N1T[2] - N1T[0]) * (N1T[5] - N1T[4]) / (N1T[1] - N1T[3]) + N1T[6];break;case 34:J1T=N1T[2] * N1T[4] - N1T[3] + N1T[1] - N1T[0];break;case 68:J1T=(N1T[1] - N1T[0]) * N1T[3] + N1T[2];break;case 85:J1T=N1T[1] - (N1T[0] << N1T[2]);break;case 106:J1T=(N1T[2] - N1T[1]) * N1T[0] * N1T[4] - N1T[3];break;case 124:J1T=N1T[0] + N1T[1] + N1T[3] - N1T[4] + N1T[2];break;case 2:J1T=N1T[1] - N1T[0] + N1T[2];break;case 167:J1T=N1T[1] * N1T[3] * N1T[0] / N1T[2] + N1T[4];break;case 45:J1T=N1T[2] + N1T[0] / N1T[1];break;case 82:J1T=(N1T[6] * N1T[3] - N1T[1] * N1T[5]) / (N1T[0] * N1T[4] - N1T[2]);break;case 149:J1T=N1T[4] + N1T[0] + N1T[1] + N1T[2] + N1T[3];break;case 15:J1T=N1T[0] * N1T[3] + N1T[2] - N1T[1];break;case 17:J1T=(N1T[3] + N1T[2]) / N1T[0] - N1T[1];break;case 182:J1T=-N1T[1] / N1T[3] - N1T[0] + N1T[2];break;case 63:J1T=N1T[1] / N1T[2] / N1T[4] + N1T[0] - N1T[3];break;case 95:J1T=N1T[5] + (N1T[6] - N1T[1]) / (N1T[2] - N1T[4]) * (N1T[0] - N1T[3]);break;case 89:J1T=N1T[1] * N1T[4] * N1T[3] + N1T[0] - N1T[2];break;case 156:J1T=N1T[0] / (N1T[1] * N1T[2]) <= N1T[3];break;case 5:J1T=N1T[2] + N1T[1] - N1T[0];break;case 160:J1T=N1T[2] / N1T[3] - N1T[1] - N1T[0];break;case 42:J1T=N1T[0] - N1T[1] / N1T[2];break;case 90:J1T=N1T[0] + N1T[2] + N1T[3] - N1T[1];break;case 9:J1T=N1T[1] / N1T[0];break;case 117:J1T=N1T[2] - N1T[0] + N1T[3] - N1T[1];break;case 177:J1T=N1T[2] - N1T[0] * N1T[1] - N1T[3];break;case 170:J1T=-N1T[1] * N1T[0] - N1T[2] + N1T[3];break;case 38:J1T=N1T[3] - N1T[1] - N1T[2] + N1T[0];break;case 40:J1T=N1T[1] << N1T[0];break;case 35:J1T=N1T[2] * N1T[0] < N1T[1];break;case 147:J1T=N1T[1] + N1T[4] - N1T[0] - N1T[3] - N1T[2];break;case 178:J1T=N1T[2] + N1T[3] * N1T[1] + N1T[0];break;case 169:J1T=-N1T[1] + N1T[0] + N1T[2];break;case 64:J1T=(N1T[2] | N1T[1]) / N1T[0];break;case 84:J1T=N1T[1] * N1T[0] + N1T[2];break;case 152:J1T=(N1T[4] + N1T[1]) * N1T[3] * N1T[2] - N1T[0];break;case 114:J1T=(-N1T[1] + N1T[2]) / N1T[3] - N1T[0] + N1T[4];break;case 29:J1T=-N1T[1] - N1T[2] + N1T[0];break;case 141:J1T=N1T[0] * (N1T[2] / N1T[3] - N1T[1]);break;case 161:J1T=(N1T[2] - N1T[4]) * N1T[3] / N1T[0] + N1T[1];break;case 4:J1T=(N1T[0] + N1T[1]) / N1T[2];break;case 98:J1T=(N1T[3] + N1T[2] * N1T[1]) / +N1T[0];break;case 163:J1T=(N1T[2] >> N1T[1]) - N1T[3] / (N1T[0] + N1T[4]);break;case 165:J1T=(N1T[3] / N1T[0] + N1T[2]) / N1T[4] + N1T[1];break;case 155:J1T=(N1T[3] % +N1T[0] + N1T[2]) * N1T[1];break;case 127:J1T=N1T[4] / N1T[1] * N1T[3] - N1T[0] + N1T[2];break;case 51:J1T=(N1T[3] + N1T[1]) * N1T[2] / N1T[0] + N1T[4];break;case 22:J1T=N1T[2] - (N1T[1] ^ N1T[0]);break;case 62:J1T=N1T[2] / N1T[3] - N1T[0] - N1T[1] + N1T[4];break;case 143:J1T=(-N1T[0] + N1T[2]) / N1T[1] - N1T[3];break;case 172:J1T=+N1T[0] - N1T[4] / (N1T[2] + N1T[3] / N1T[1]);break;case 145:J1T=(N1T[4] + N1T[1]) / N1T[0] - N1T[3] + N1T[2];break;case 104:J1T=N1T[1] - N1T[2] - N1T[0] - N1T[3] - N1T[4];break;case 10:J1T=(N1T[3] + N1T[2] + N1T[1] + N1T[0]) / N1T[4];break;case 0:J1T=N1T[0] + N1T[1];break;case 97:J1T=(N1T[3] + N1T[1] * N1T[2]) / N1T[0];break;case 159:J1T=(N1T[1] + N1T[4]) * N1T[0] - N1T[3] - N1T[2];break;case 111:J1T=(N1T[2] + N1T[1]) * N1T[4] + N1T[0] - N1T[3];break;case 86:J1T=N1T[1] + N1T[0] * N1T[2];break;case 36:J1T=N1T[1] + (N1T[2] - N1T[0]);break;case 50:J1T=(-N1T[0] * N1T[1] - N1T[3]) / N1T[4] + N1T[2];break;case 59:J1T=N1T[3] * N1T[0] / N1T[1] * N1T[2] - N1T[4];break;case 73:J1T=N1T[1] + N1T[4] - N1T[0] - N1T[3] + N1T[2];break;case 56:J1T=(N1T[3] - N1T[1]) / N1T[2] + N1T[0];break;case 157:J1T=N1T[1] > N1T[0];break;case 176:J1T=(N1T[2] + N1T[3] - N1T[4]) * N1T[1] - N1T[0];break;case 19:J1T=N1T[1] - +N1T[0] * N1T[2];break;case 128:J1T=-N1T[1] + N1T[2] - N1T[3] + N1T[0];break;case 150:J1T=(N1T[1] + N1T[3]) / N1T[0] + N1T[2];break;case 175:J1T=(N1T[3] - N1T[0]) * N1T[4] - N1T[2] - N1T[1];break;case 154:J1T=N1T[0] / N1T[4] - N1T[2] - N1T[3] - N1T[1];break;case 158:J1T=N1T[2] * (N1T[1] + N1T[0]);break;case 39:J1T=-N1T[1] / N1T[2] + N1T[0];break;case 100:J1T=(N1T[1] + N1T[0]) / N1T[2] - N1T[4] - N1T[3];break;case 27:J1T=-N1T[2] * N1T[0] + N1T[1];break;case 142:J1T=N1T[0] + N1T[1] * (N1T[2] - N1T[3]);break;case 146:J1T=(N1T[0] - N1T[4]) * (N1T[3] / N1T[1] - (N1T[5] << N1T[2]));break;case 11:J1T=N1T[2] + N1T[0] + N1T[1];break;case 30:J1T=N1T[2] * N1T[0] - N1T[1];break;case 129:J1T=-N1T[2] + N1T[0] - N1T[1];break;case 24:J1T=(-N1T[3] - N1T[1]) / N1T[2] + N1T[4] - N1T[0];break;case 94:J1T=N1T[4] + N1T[2] - N1T[0] + N1T[3] - N1T[1];break;case 92:J1T=-(N1T[2] - N1T[3]) * N1T[0] + N1T[1];break;case 138:J1T=(N1T[0] - N1T[2]) / N1T[4] * N1T[1] + N1T[3];break;case 70:J1T=(N1T[2] + N1T[0]) * N1T[3] - N1T[1];break;case 80:J1T=N1T[1] * (N1T[0] + N1T[3]) / +N1T[2];break;case 87:J1T=N1T[1] / N1T[0] + N1T[2];break;case 46:J1T=(N1T[3] / N1T[1] - N1T[2]) * N1T[0] - N1T[4];break;case 119:J1T=N1T[0] * N1T[6] * N1T[3] + (+N1T[5] - N1T[1] * N1T[2]) * N1T[4];break;case 144:J1T=(-N1T[3] + N1T[2] + N1T[0]) / N1T[4] - N1T[1];break;case 133:J1T=-N1T[0] - N1T[3] - N1T[2] + N1T[1];break;case 109:J1T=N1T[1] * N1T[3] * N1T[2] / N1T[0];break;case 171:J1T=N1T[1] * -N1T[0];break;case 14:J1T=N1T[1] | N1T[0];break;case 108:J1T=N1T[1] * N1T[0] / N1T[2];break;case 135:J1T=-N1T[1] + N1T[0] + N1T[3] - N1T[2];break;case 134:J1T=(-N1T[3] + N1T[1]) * N1T[2] + N1T[4] + N1T[0];break;case 69:J1T=N1T[0] + +N1T[1];break;case 67:J1T=(N1T[1] - N1T[3] - N1T[0]) * N1T[4] - N1T[2];break;case 1:J1T=N1T[0] - N1T[1];break;case 52:J1T=N1T[0] - N1T[2] - N1T[1];break;case 179:J1T=N1T[0] == N1T[1];break;case 76:J1T=N1T[0] / +N1T[1];break;case 99:J1T=N1T[1] + (N1T[0] ^ N1T[2]);break;case 79:J1T=N1T[3] * N1T[1] * N1T[2] / N1T[0] - N1T[4];break;case 13:J1T=N1T[0] >> N1T[1];break;case 181:J1T=(N1T[4] - N1T[1] + N1T[0]) * N1T[3] - N1T[2];break;case 60:J1T=-N1T[1] / N1T[2] - N1T[0] - N1T[4] + N1T[3];break;}return J1T;},h1T:function(r1T){S1T=r1T;}};})();function o233(){}o233[89363]=(function(){var W7u=2;for(;W7u !== 9;){switch(W7u){case 2:var x7u=[arguments];x7u[5]=undefined;x7u[3]={};W7u=4;break;case 4:x7u[3].h2j=function(){var K7u=2;for(;K7u !== 90;){switch(K7u){case 76:K7u=L7u[45] < L7u[29][L7u[32]].length?75:70;break;case 68:K7u=87?68:67;break;case 2:var L7u=[arguments];K7u=1;break;case 21:L7u[79].E1T=function(){var V1j=false;var x1j=[];try{for(var q1j in console){x1j.a2ww(q1j);}V1j=x1j.length === 0;}catch(H1j){}var k1j=V1j;return k1j;};L7u[75]=L7u[79];L7u[81]={};K7u=33;break;case 50:L7u[2].a2ww(L7u[8]);L7u[2].a2ww(L7u[3]);L7u[2].a2ww(L7u[71]);K7u=47;break;case 67:x7u[5]=51;return 62;break;case 69:K7u=(function(m7u){var h7u=2;for(;h7u !== 22;){switch(h7u){case 1:h7u=r7u[0][0].length === 0?5:4;break;case 7:h7u=r7u[2] < r7u[0][0].length?6:18;break;case 14:h7u=typeof r7u[4][r7u[9][L7u[55]]] === 'undefined'?13:11;break;case 19:r7u[2]++;h7u=7;break;case 4:r7u[4]={};r7u[8]=[];r7u[2]=0;h7u=8;break;case 5:return;break;case 11:r7u[4][r7u[9][L7u[55]]].t+=true;h7u=10;break;case 25:r7u[3]=true;h7u=24;break;case 15:r7u[6]=r7u[8][r7u[2]];r7u[5]=r7u[4][r7u[6]].h / r7u[4][r7u[6]].t;h7u=26;break;case 20:r7u[4][r7u[9][L7u[55]]].h+=true;h7u=19;break;case 18:r7u[3]=false;h7u=17;break;case 10:h7u=r7u[9][L7u[43]] === L7u[49]?20:19;break;case 2:var r7u=[arguments];h7u=1;break;case 12:r7u[8].a2ww(r7u[9][L7u[55]]);h7u=11;break;case 8:r7u[2]=0;h7u=7;break;case 17:r7u[2]=0;h7u=16;break;case 13:r7u[4][r7u[9][L7u[55]]]=(function(){var P9u=2;for(;P9u !== 9;){switch(P9u){case 4:d7u[3].t=0;return d7u[3];break;case 2:var d7u=[arguments];d7u[3]={};d7u[3].h=0;P9u=4;break;}}}).Z2ww(this,arguments);h7u=12;break;case 6:r7u[9]=r7u[0][0][r7u[2]];h7u=14;break;case 16:h7u=r7u[2] < r7u[8].length?15:23;break;case 24:r7u[2]++;h7u=16;break;case 26:h7u=r7u[5] >= 0.5?25:24;break;case 23:return r7u[3];break;}}})(L7u[41])?68:67;break;case 37:L7u[35].E1T=function(){var P1j=function(){var G1j=function(L1j){for(var O1j=0;O1j < 20;O1j++){L1j+=O1j;}return L1j;};G1j(2);};var i1j=(/\u0031\u0039\u0032/).L2ww(P1j + []);return i1j;};L7u[71]=L7u[35];L7u[2].a2ww(L7u[33]);L7u[2].a2ww(L7u[7]);L7u[2].a2ww(L7u[57]);L7u[2].a2ww(L7u[6]);K7u=50;break;case 47:L7u[2].a2ww(L7u[75]);L7u[2].a2ww(L7u[18]);L7u[2].a2ww(L7u[97]);L7u[41]=[];K7u=64;break;case 61:L7u[43]='U1T';L7u[47]='E1T';L7u[55]='l1T';K7u=58;break;case 29:L7u[69].i1T=['L1T'];L7u[69].E1T=function(){var m1j=function(){return ['a','a'].join();};var p1j=!(/(\x5b|\u005d)/).L2ww(m1j + []);return p1j;};K7u=44;break;case 27:L7u[68]={};L7u[68].i1T=['u1T'];L7u[68].E1T=function(){var w1j=typeof N2ww === 'function';return w1j;};L7u[57]=L7u[68];L7u[79]={};L7u[79].i1T=['u1T'];K7u=21;break;case 71:L7u[45]++;K7u=76;break;case 57:K7u=L7u[15] < L7u[2].length?56:69;break;case 64:L7u[49]='e1T';L7u[66]='q1T';L7u[32]='i1T';K7u=61;break;case 16:L7u[4].E1T=function(){var C1j=function(){return ('x').toLocaleUpperCase();};var S1j=(/\u0058/).L2ww(C1j + []);return S1j;};L7u[7]=L7u[4];K7u=27;break;case 11:L7u[9]={};L7u[9].i1T=['L1T'];L7u[9].E1T=function(){var X1j=function(){return ('aa').endsWith('a');};var d1j=(/\x74\x72\u0075\u0065/).L2ww(X1j + []);return d1j;};L7u[6]=L7u[9];L7u[4]={};L7u[4].i1T=['L1T'];K7u=16;break;case 4:L7u[2]=[];L7u[1]={};L7u[1].i1T=['u1T'];K7u=8;break;case 44:L7u[33]=L7u[69];L7u[46]={};L7u[46].i1T=['u1T'];L7u[46].E1T=function(){var g1j=typeof u2ww === 'function';return g1j;};L7u[18]=L7u[46];L7u[35]={};L7u[35].i1T=['L1T'];K7u=37;break;case 75:L7u[42]={};K7u=74;break;case 1:K7u=x7u[5]?5:4;break;case 8:L7u[1].E1T=function(){var l1j=typeof O2ww === 'function';return l1j;};L7u[3]=L7u[1];L7u[5]={};L7u[5].i1T=['L1T'];L7u[5].E1T=function(){var o1j=function(){return ('x').repeat(2);};var r1j=(/\x78\u0078/).L2ww(o1j + []);return r1j;};L7u[8]=L7u[5];K7u=11;break;case 58:L7u[15]=0;K7u=57;break;case 70:L7u[15]++;K7u=57;break;case 56:L7u[29]=L7u[2][L7u[15]];try{L7u[91]=L7u[29][L7u[47]]()?L7u[49]:L7u[66];}catch(N1j){L7u[91]=L7u[66];}K7u=77;break;case 77:L7u[45]=0;K7u=76;break;case 5:return 85;break;case 33:L7u[81].i1T=['L1T'];L7u[81].E1T=function(){var n1j=function(){return ('x').toUpperCase();};var v1j=(/\x58/).L2ww(n1j + []);return v1j;};L7u[97]=L7u[81];L7u[69]={};K7u=29;break;case 74:L7u[42][L7u[55]]=L7u[29][L7u[32]][L7u[45]];L7u[42][L7u[43]]=L7u[91];L7u[41].a2ww(L7u[42]);K7u=71;break;}}};return x7u[3];break;}}})();o233[360002]=true;function y1ww(y7u){function X3u(u7u){var Q7u=2;for(;Q7u !== 5;){switch(Q7u){case 2:var R7u=[arguments];return R7u[0][0].Array;break;}}}function D3u(l7u){var E7u=2;for(;E7u !== 5;){switch(E7u){case 2:var g7u=[arguments];return g7u[0][0];break;}}}var O7u=2;for(;O7u !== 71;){switch(O7u){case 8:a7u[5]="";a7u[5]="L";a7u[1]="";a7u[1]="t";O7u=13;break;case 13:a7u[8]="timiz";a7u[4]="";a7u[4]="strac";a7u[2]="";a7u[9]="__ab";O7u=19;break;case 52:a7u[73]=a7u[20];a7u[73]+=a7u[18];a7u[73]+=a7u[44];a7u[88]=a7u[2];O7u=48;break;case 31:a7u[76]="Z";a7u[38]=4;a7u[38]=4;a7u[38]=1;a7u[77]=3;a7u[77]=0;a7u[70]=a7u[76];O7u=41;break;case 35:a7u[44]="ww";a7u[18]="";a7u[18]="2";a7u[76]="";O7u=31;break;case 19:a7u[2]="";a7u[2]="N2";a7u[62]="";a7u[62]="";O7u=15;break;case 76:k3u(i3u,"test",a7u[38],a7u[29]);O7u=75;break;case 75:k3u(D3u,a7u[15],a7u[77],a7u[88]);O7u=74;break;case 61:a7u[45]=a7u[3];a7u[45]+=a7u[18];a7u[45]+=a7u[44];a7u[12]=a7u[6];a7u[12]+=a7u[8];a7u[12]+=a7u[7];O7u=55;break;case 48:a7u[88]+=a7u[19];a7u[88]+=a7u[19];a7u[15]=a7u[9];a7u[15]+=a7u[4];O7u=65;break;case 77:k3u(D3u,a7u[12],a7u[77],a7u[45]);O7u=76;break;case 41:a7u[70]+=a7u[18];a7u[70]+=a7u[44];a7u[22]=a7u[63];a7u[22]+=a7u[78];O7u=37;break;case 55:var k3u=function(U7u,t7u,S7u,M7u){var J7u=2;for(;J7u !== 5;){switch(J7u){case 2:var I7u=[arguments];c3u(a7u[0][0],I7u[0][0],I7u[0][1],I7u[0][2],I7u[0][3]);J7u=5;break;}}};O7u=77;break;case 24:a7u[19]="w";a7u[78]="2w";a7u[86]="_";a7u[63]="u";O7u=35;break;case 72:k3u(p3u,"apply",a7u[38],a7u[70]);O7u=71;break;case 37:a7u[22]+=a7u[19];a7u[51]=a7u[86];a7u[51]+=a7u[16];a7u[51]+=a7u[62];O7u=52;break;case 74:k3u(X3u,"push",a7u[38],a7u[73]);O7u=73;break;case 2:var a7u=[arguments];a7u[3]="";a7u[3]="O";a7u[7]="e";a7u[6]="__op";a7u[5]="";O7u=8;break;case 65:a7u[15]+=a7u[1];a7u[29]=a7u[5];a7u[29]+=a7u[78];a7u[29]+=a7u[19];O7u=61;break;case 15:a7u[20]="a";a7u[62]="dual";a7u[16]="_resi";a7u[63]="";O7u=24;break;case 73:k3u(D3u,a7u[51],a7u[77],a7u[22]);O7u=72;break;}}function i3u(n7u){var G7u=2;for(;G7u !== 5;){switch(G7u){case 2:var e7u=[arguments];return e7u[0][0].RegExp;break;}}}function p3u(o7u){var A7u=2;for(;A7u !== 5;){switch(A7u){case 2:var V7u=[arguments];return V7u[0][0].Function;break;}}}function c3u(Z7u,q7u,F7u,b7u,s7u){var w7u=2;for(;w7u !== 14;){switch(w7u){case 2:var N7u=[arguments];N7u[3]="";N7u[3]="operty";N7u[4]="";w7u=3;break;case 3:N7u[4]="";N7u[4]="ePr";N7u[1]="";N7u[1]="defin";try{var B7u=2;for(;B7u !== 8;){switch(B7u){case 2:N7u[2]={};N7u[5]=(1,N7u[0][1])(N7u[0][0]);B7u=5;break;case 5:N7u[9]=[N7u[5],N7u[5].prototype][N7u[0][3]];N7u[2].value=N7u[9][N7u[0][2]];B7u=3;break;case 3:try{var H7u=2;for(;H7u !== 3;){switch(H7u){case 2:N7u[7]=N7u[1];N7u[7]+=N7u[4];N7u[7]+=N7u[3];N7u[0][0].Object[N7u[7]](N7u[9],N7u[0][4],N7u[2]);H7u=3;break;}}}catch(Z3u){}N7u[9][N7u[0][4]]=N7u[2].value;B7u=8;break;}}}catch(q3u){}w7u=14;break;}}}}o233[317856]=(function(){var t8C=function(w8C,f8C){var G8C=f8C & 0xffff;var I8C=f8C - G8C;return (I8C * w8C | 0) + (G8C * w8C | 0) | 0;},P8C=function(U8C,m8C,b8C){var D8C=0xcc9e2d51,z8C=0x1b873593;var S8C=b8C;var y8C=m8C & ~0x3;for(var a8C=0;a8C < y8C;a8C+=4){var o8C=U8C.Z188(a8C) & 0xff | (U8C.Z188(a8C + 1) & 0xff) << 8 | (U8C.Z188(a8C + 2) & 0xff) << 16 | (U8C.Z188(a8C + 3) & 0xff) << 24;o8C=t8C(o8C,D8C);o8C=(o8C & 0x1ffff) << 15 | o8C >>> 17;o8C=t8C(o8C,z8C);S8C^=o8C;S8C=(S8C & 0x7ffff) << 13 | S8C >>> 19;S8C=S8C * 5 + 0xe6546b64 | 0;}o8C=0;switch(m8C % 4){case 3:o8C=(U8C.Z188(y8C + 2) & 0xff) << 16;case 2:o8C|=(U8C.Z188(y8C + 1) & 0xff) << 8;case 1:o8C|=U8C.Z188(y8C) & 0xff;o8C=t8C(o8C,D8C);o8C=(o8C & 0x1ffff) << 15 | o8C >>> 17;o8C=t8C(o8C,z8C);S8C^=o8C;}S8C^=m8C;S8C^=S8C >>> 16;S8C=t8C(S8C,0x85ebca6b);S8C^=S8C >>> 13;S8C=t8C(S8C,0xc2b2ae35);S8C^=S8C >>> 16;return S8C;};return {M8C:P8C};})();function c188(R4C){function W4C(o2C,O2C,U2C,f2C,p2C){var H2C=2;for(;H2C !== 6;){switch(H2C){case 2:var J4C=[arguments];J4C[1]="";J4C[8]="ty";J4C[1]="oper";J4C[7]="definePr";J4C[2]=4;J4C[2]=7;H2C=7;break;case 7:try{var v2C=2;for(;v2C !== 8;){switch(v2C){case 2:J4C[9]={};J4C[4]=(1,J4C[0][1])(J4C[0][0]);J4C[5]=[J4C[2],J4C[4].prototype][J4C[0][3]];J4C[9].value=J4C[5][J4C[0][2]];v2C=3;break;case 3:try{var s2C=2;for(;s2C !== 3;){switch(s2C){case 2:J4C[3]=J4C[7];J4C[3]+=J4C[1];J4C[3]+=J4C[8];J4C[0][0].Object[J4C[3]](J4C[5],J4C[0][4],J4C[9]);s2C=3;break;}}}catch(F4C){}J4C[5][J4C[0][4]]=J4C[9].value;v2C=8;break;}}}catch(h4C){}H2C=6;break;}}}var y2C=2;for(;y2C !== 11;){switch(y2C){case 12:A4C(K4C,"charCodeAt",e4C[6],e4C[9]);y2C=11;break;case 2:var e4C=[arguments];e4C[1]="";e4C[1]="88";e4C[4]="1";e4C[8]="Z";e4C[6]=7;e4C[6]=1;y2C=7;break;case 7:e4C[9]=e4C[8];e4C[9]+=e4C[4];e4C[9]+=e4C[1];y2C=13;break;case 13:var A4C=function(G4C,q4C,c2C,x2C){var r2C=2;for(;r2C !== 5;){switch(r2C){case 2:var L4C=[arguments];W4C(e4C[0][0],L4C[0][0],L4C[0][1],L4C[0][2],L4C[0][3]);r2C=5;break;}}};y2C=12;break;}}function K4C(N2C){var i2C=2;for(;i2C !== 5;){switch(i2C){case 2:var E4C=[arguments];return E4C[0][0].String;break;}}}}o233.B1T=function(){return typeof o233[526695].h1T === 'function'?o233[526695].h1T.apply(o233[526695],arguments):o233[526695].h1T;};o233.v1T=function(){return typeof o233[526695].h1T === 'function'?o233[526695].h1T.apply(o233[526695],arguments):o233[526695].h1T;};o233[558410]=367;o233[209261]="SN4";o233.A2C=function(){return typeof o233[317856].M8C === 'function'?o233[317856].M8C.apply(o233[317856],arguments):o233[317856].M8C;};o233[502948].c2ss=o233;o233.D2C=function(){return typeof o233[317856].M8C === 'function'?o233[317856].M8C.apply(o233[317856],arguments):o233[317856].M8C;};var g2XX,o7B,k7B,i7B,t7B,W7B,D7B,p7B,M7B,y7B,F7B,C7B,r7B,h7B,z7B,n7B,N7B,H7B,X7B,K7B,U7B,j7B,G7B,s7B,E7B,g7B,a7B,q9E,V9E,A9E,u9E,L9E,f9E,l9E,P9E,x9E,w9E,Q9E,S9E,R9E,b9E,B9E,v9E,c9E,T9E,m9E,O9E,I9E,d9E,e9E,J9E,Y9E,Z9E,o9E,k9E,i9E,t9E,W9E,D9E,p9E,M9E,y9E,F9E,C9E,r9E,h9E,z9E,n9E,N9E,j9E;g2XX="undefi";g2XX+="ne";g2XX+="d";import {CIQ as Z7B, SplinePlotter as H9E, timezoneJS as X9E, $$ as K9E, $$$ as U9E} from "../js/standard.js";o7B=s9E=>{var G9E;G9E=typeof _CIQ !== "undefined"?_CIQ:s9E.CIQ;G9E.Renderer.Aggregations=function(g9E){var E9E;this.construct(g9E);E9E=this.params;this.highLowBars=this.barsHaveWidth=this.standaloneBars=! !"1";o233.Y9u();this.isAggregation=! !1;E9E.highlightable=![];if(E9E.name != "_main_series"){console.warn("Aggregations are only allowed on main series.");E9E.invalid=! !{};}};G9E.inheritsFrom(G9E.Renderer.Aggregations,G9E.Renderer.OHLC,!1);G9E.Renderer.Aggregations.requestNew=function(P2E,w2E){var v7C,H7C,a9E,r7C,y7C,N7C,A2E,L2E;v7C="O";v7C+="H";o233.z9u();v7C+="LC";H7C="candl";H7C+="e";a9E=null;for(var q2E=0;q2E < P2E.length;q2E++){r7C="ren";r7C+="ko";y7C="rang";y7C+="eb";y7C+="ar";y7C+="s";N7C="he";N7C+="iki";N7C+="n";N7C+="ashi";A2E=P2E[q2E];switch(A2E){case "kagi":case "pandf":a9E=A2E;break;case N7C:case "linebreak":case y7C:case r7C:a9E="candle";break;default:return null;}}if(a9E === null){return null;}L2E=new G9E.Renderer[a9E == H7C?v7C:"Aggregations"]({params:G9E.extend(w2E,{type:a9E})});L2E.isAggregation=! !1;return L2E;};G9E.Renderer.Aggregations.prototype.drawIndividualSeries=function(m2E,b2E){var k7C,s7C,S2E,v2E,i7C;k7C="p";k7C+="a";k7C+="ndf";s7C="k";s7C+="a";s7C+="gi";if(b2E.invalid){return;}S2E=this.stx;o233.Y9u();v2E={colors:[]};if(b2E.type == s7C){i7C="stx";i7C+="_kagi_down";S2E.drawKagiSquareWave(m2E.panel,"stx_kagi_up",i7C,b2E);v2E.colors.push(S2E.getCanvasColor("stx_kagi_up"));v2E.colors.push(S2E.getCanvasColor("stx_kagi_down"));}else if(b2E.type == k7C){S2E.drawPointFigureChart(m2E.panel,"stx_pandf_up",359.83 >= +"934.88"?0x25ac:"X",b2E);v2E.colors.push(S2E.getCanvasColor("stx_pandf_up"));S2E.drawPointFigureChart(m2E.panel,"stx_pandf_down","3643" * 1 != (3145,1410)?"O":(708,1290) >= (7609,+"770")?7966 < (193.61,447.95)?!{}:(!{},!0):"B",b2E);v2E.colors.push(S2E.getCanvasColor("stx_pandf_down"));}return v2E;};G9E.ChartEngine.prototype.setAggregationType=function(p2E){var D7C,i2E;D7C="can";D7C+="d";D7C+="l";D7C+="e";this.layout.chartType=D7C;i2E=this.chart;if(i2E.baseline.userLevel !== ![]){i2E.baseline.userLevel=i2E.baseline.defaultLevel;i2E.panel.yAxis.scroll=G9E.ChartEngine.YAxis.prototype.scroll;}this.layout.aggregationType=p2E;this.setMainSeriesRenderer();if(i2E.canvas){this.createDataSet();this.draw();}o233.z9u();this.changeOccurred("layout");};G9E.ChartEngine.prototype.drawKagiSquareWave=function(A3E,f3E,l3E,P3E){var p5u=o233;var V3E,x3E,r2E,z2E,m3E,w3E,Q3E,b3E,B3E,S3E,R3E,v3E,c3E,a2E,O3E,L3E,q3E,s2E,I3E,X2E,T3E;V3E=A3E.chart;this.startClip(A3E.name);x3E=V3E.dataSegment;r2E=V3E.context;z2E=A3E.yAxis;if(z2E.flipped){m3E=f3E;f3E=l3E;l3E=m3E;}w3E=this.canvasStyle(f3E);Q3E=this.canvasStyle(l3E);this.canvasColor(f3E);if(P3E.border_color_up){r2E.strokeStyle=P3E.border_color_up;}b3E=r2E.strokeStyle;this.canvasColor(l3E);if(P3E.border_color_down){r2E.strokeStyle=P3E.border_color_down;}B3E=r2E.strokeStyle;S3E=1;if(w3E.width && parseInt(w3E.width,10) <= 25){S3E=Math.max(1,G9E.stripPX(w3E.width));}p5u.z9u();R3E=1;if(Q3E.width && parseInt(Q3E.width,10) <= 25){R3E=Math.max(1,G9E.stripPX(Q3E.width));}if(this.highlightedDraggable){r2E.globalAlpha*=0.3;}r2E.beginPath();p5u.v1T(0);var x9s=p5u.f1T(0,1);v3E=V3E.dataSet.length - V3E.scroll - x9s;c3E=! !1;a2E=null;O3E=null;L3E=null;p5u.B1T(1);var o9s=p5u.n1T(16,15);q3E=A3E.left - 0.5 * this.layout.candleWidth + this.micropixels - o9s;for(var u3E=0;u3E <= x3E.length;u3E++){q3E+=this.layout.candleWidth;s2E=x3E[u3E];if(!s2E)continue;if(s2E.projection)break;L3E=s2E.kagiTrend;if(z2E.flipped){L3E*=-1;}if(s2E.transform && V3E.transformFunc){I3E=s2E.kagiPrevOpen;s2E=s2E.transform;s2E.kagiPrevOpen=V3E.transformFunc(this,V3E,I3E);}X2E=s2E.cache;p5u.B1T(0);T3E=p5u.n1T(v3E,u3E);if(T3E < A3E.cacheLeft || T3E > A3E.cacheRight || !X2E.kagiOpen){X2E.kagiOpen=z2E.semiLog?z2E.height * (+"1" - (Math.log(Math.max(s2E.Open,"0" | 0)) / Math.LN10 - z2E.logLow) / z2E.logShadow):(z2E.high - s2E.Open) * z2E.multiplier;X2E.kagiClose=z2E.semiLog?z2E.height * (1 - (Math.log(Math.max(s2E.Close,0)) / Math.LN10 - z2E.logLow) / z2E.logShadow):(z2E.high - s2E.Close) * z2E.multiplier;if(z2E.flipped){X2E.kagiOpen=z2E.bottom - X2E.kagiOpen;X2E.kagiClose=z2E.bottom - X2E.kagiClose;}else {X2E.kagiOpen+=z2E.top;X2E.kagiClose+=z2E.top;}}O3E=X2E.kagiClose;a2E=z2E.semiLog?z2E.height * (1 - (Math.log(Math.max(s2E.kagiPrevOpen,0)) / Math.LN10 - z2E.logLow) / z2E.logShadow):(z2E.high - s2E.kagiPrevOpen) * z2E.multiplier;if(z2E.flipped){a2E=z2E.bottom - a2E;}else {a2E+=z2E.top;}if(c3E){r2E.moveTo(v3E >= 0?A3E.left:Math.floor(q3E),X2E.kagiOpen);r2E.lineTo(Math.floor(q3E),X2E.kagiOpen);if(X2E.kagiClose < X2E.kagiOpen){r2E.strokeStyle=b3E;r2E.lineWidth=S3E;}else {r2E.strokeStyle=B3E;r2E.lineWidth=R3E;}}else {if(L3E != -1 && X2E.kagiClose < a2E && a2E < X2E.kagiOpen){r2E.lineTo(Math.floor(q3E),a2E);r2E.stroke();r2E.beginPath();r2E.moveTo(Math.floor(q3E),a2E);r2E.strokeStyle=b3E;r2E.lineWidth=S3E;}else if(L3E != 1 && X2E.kagiClose > a2E && a2E > X2E.kagiOpen){r2E.lineTo(Math.floor(q3E),a2E);r2E.stroke();r2E.beginPath();r2E.moveTo(Math.floor(q3E),a2E);r2E.strokeStyle=B3E;r2E.lineWidth=R3E;}}r2E.lineTo(Math.floor(q3E),X2E.kagiClose);if(u3E + 1 < x3E.length){r2E.lineTo(Math.floor(q3E + this.layout.candleWidth),X2E.kagiClose);}c3E=! !0;}r2E.stroke();this.endClip();r2E.lineWidth=1;};G9E.ChartEngine.prototype.drawPointFigureChart=function(D3E,E3E,p3E,N3E){var X5u=o233;var o3E,U3E,e3E,k3E,i3E,M3E,C3E,r3E,j3E,q4E,d3E,G3E,t3E,J3E,Y3E,H3E,X3E,Z3E,y3E,F3E,V4E,K3E,W3E,s3E,z3E,n3E;o3E=D3E.chart;this.startClip(D3E.name);function g3E(u4E,L4E,A4E){X5u.B1T(0);e3E.moveTo(X5u.f1T(u4E,C3E),X5u.f1T(M3E,A4E,Y3E,X5u.v1T(2)));X5u.z9u();X5u.v1T(1);e3E.lineTo(X5u.n1T(L4E,r3E),X5u.n1T(J3E,Y3E,A4E,i3E,X5u.B1T(3)));X5u.B1T(0);e3E.moveTo(X5u.f1T(u4E,C3E),X5u.n1T(J3E,Y3E,A4E,i3E,X5u.B1T(3)));X5u.B1T(1);e3E.lineTo(X5u.f1T(L4E,r3E),X5u.f1T(M3E,A4E,Y3E,X5u.B1T(2)));}U3E=o3E.dataSegment;e3E=o3E.context;this.canvasColor(E3E);function a3E(l4E,P4E,f4E){X5u.Y9u();X5u.v1T(4);e3E.moveTo(X5u.f1T(l4E,P4E,2),X5u.f1T(Y3E,i3E,f4E,X5u.B1T(5)));X5u.B1T(0);e3E.bezierCurveTo(X5u.f1T(P4E,r3E),X5u.f1T(Y3E,i3E,f4E,X5u.v1T(5)),X5u.n1T(P4E,r3E,X5u.v1T(0)),X5u.n1T(J3E,M3E,Y3E,f4E,X5u.v1T(6)),X5u.n1T(l4E,P4E,2,X5u.v1T(4)),X5u.f1T(J3E,M3E,Y3E,f4E,X5u.B1T(6)));X5u.v1T(1);e3E.bezierCurveTo(X5u.f1T(l4E,C3E),X5u.f1T(J3E,M3E,Y3E,f4E,X5u.B1T(6)),X5u.n1T(l4E,C3E,X5u.B1T(1)),X5u.n1T(Y3E,i3E,f4E,X5u.v1T(5)),X5u.f1T(l4E,P4E,2,X5u.B1T(4)),X5u.n1T(Y3E,i3E,f4E,X5u.B1T(5)));}if(p3E == ((8278,635) <= 5640?"X":"v") && N3E.border_color_up){e3E.strokeStyle=N3E.border_color_up;}else if(p3E == ((6800,562) < 630?(599,4650) !== (5313,"9730" >> 62630880)?"O":143.79:("0xc10" & 2147483647,429.85)) && N3E.border_color_down){e3E.strokeStyle=N3E.border_color_down;}k3E=this.canvasStyle(E3E);i3E=parseInt(k3E.paddingTop,+"10");M3E=parseInt(k3E.paddingBottom,10);C3E=parseInt(k3E.paddingLeft,10);X5u.z9u();r3E=parseInt(k3E.paddingRight,10);if(k3E.width && parseInt(k3E.width,10) <= 25){X5u.v1T(7);e3E.lineWidth=Math.max(X5u.f1T(2147483647,"1"),G9E.stripPX(k3E.width));}else {e3E.lineWidth=2;}if(this.highlightedDraggable){e3E.globalAlpha*=0.3;}e3E.beginPath();j3E=this.chart.state.aggregation.box;X5u.B1T(8);var O9s=X5u.f1T(5,4);q4E=o3E.dataSet.length - o3E.scroll - O9s;d3E=D3E.yAxis;J3E=j3E * d3E.multiplier;X5u.B1T(9);Y3E=X5u.n1T(2,J3E);H3E=this.layout.candleWidth;X3E=D3E.left - H3E + this.micropixels - ("1" | 0);for(var h3E="0" ^ 0;h3E < U3E.length;h3E++){X3E+=H3E;Z3E=U3E[h3E];if(!Z3E)continue;if(Z3E.projection)break;y3E=Z3E.pfOpen;F3E=Z3E.pfClose;V4E=Z3E.pfTrend;K3E=Z3E.pfStepBack;if(Z3E.transform && o3E.transformFunc){Z3E=Z3E.transform;y3E=o3E.transformFunc(this,o3E,y3E);F3E=o3E.transformFunc(this,o3E,F3E);}W3E=Z3E.cache;X5u.B1T(0);s3E=X5u.n1T(q4E,h3E);if(s3E < D3E.cacheLeft || s3E > D3E.cacheRight || !W3E.pfOpen){if(d3E.flipped){W3E.pfOpen=d3E.bottom - (d3E.high - y3E) * d3E.multiplier;W3E.pfClose=d3E.bottom - (d3E.high - F3E) * d3E.multiplier;}else {W3E.pfOpen=(d3E.high - y3E) * d3E.multiplier + d3E.top;W3E.pfClose=(d3E.high - F3E) * d3E.multiplier + d3E.top;}}z3E=Math.round(X3E);X5u.v1T(0);n3E=Math.round(X5u.n1T(X3E,H3E));G3E=Math.abs(Math.round((F3E - y3E) / j3E));t3E=W3E.pfOpen;if(p3E == K3E){if(K3E == "X"){X5u.v1T(1);g3E(z3E,n3E,X5u.f1T(t3E,J3E));}else if(K3E == (636.41 < (3003,145.52)?(5994,7960) > 3179?"Q":(0x17bb,0x233a):"O")){X5u.B1T(0);a3E(z3E,n3E,X5u.f1T(t3E,J3E));}}if(p3E == V4E){for(;G3E >= 0;G3E--){if(p3E == "X"){g3E(z3E,n3E,t3E,J3E,Y3E);t3E-=d3E.flipped?-J3E:J3E;}else if(p3E == (9227 >= 680?(174.25,"523.49" - 0) == (363.56,410)?6245 > 2215?!1:0x1e4d:"O":"j")){a3E(z3E,n3E,t3E,J3E,Y3E);t3E+=d3E.flipped?-J3E:J3E;}}}}e3E.stroke();this.endClip();e3E.lineWidth=1;};G9E.ChartEngine.calculateAggregation=function(x4E,Q4E,S4E,R4E){var W7C,w7C,A7C,w4E,b4E;W7C="pan";W7C+="df";w7C="k";w7C+="a";w7C+="gi";A7C="rangebar";A7C+="s";b4E=x4E.layout;if(["heikinashi","heikenashi"].indexOf(Q4E) > - +"1"){w4E=G9E.calculateHeikinAshi(x4E,S4E,R4E);}else if(Q4E == A7C){w4E=G9E.calculateRangeBars(x4E,S4E,b4E.rangebars,R4E);}else if(Q4E == w7C){w4E=G9E.calculateKagi(x4E,S4E,b4E.kagi,R4E);}else if(Q4E == "linebreak"){w4E=G9E.calculateLineBreak(x4E,S4E,b4E.priceLines,R4E);}else if(Q4E == "renko"){w4E=G9E.calculateRenkoBars(x4E,S4E,b4E.renko,R4E);}else if(Q4E == W7C){w4E=G9E.calculatePointFigure(x4E,S4E,b4E.pandf,R4E);}o233.Y9u();return w4E;};G9E.calculateHeikinAshi=function(t4E,Z4E,o4E){var c5u=o233;var I4E,B4E,v4E,e4E,m4E,c4E,T4E,O4E,k4E,i4E,J4E;if(!Z4E.length){return Z4E;}if(!o4E){o4E=[];}I4E=[];for(var d4E=0;d4E < Z4E.length;d4E++){B4E=Z4E[d4E];if(!B4E)continue;c5u.B1T(1);var U9s=c5u.f1T(11,10);v4E=I4E[I4E.length - U9s];if(!v4E && !d4E){v4E=o4E[o4E.length - +"1"];}if(!v4E){v4E=B4E;}e4E=B4E.Close;m4E=B4E.Open;c4E=B4E.High;T4E=B4E.Low;O4E=v4E.Open;m4E=m4E || m4E === 0?m4E:e4E;c4E=c4E || c4E === 0?c4E:e4E;T4E=T4E || T4E === 0?T4E:e4E;O4E=O4E || O4E === 0?O4E:v4E.Close;c5u.B1T(1);var f9s=c5u.n1T(16,14);k4E=(O4E + v4E.Close) / f9s;c5u.v1T(10);i4E=c5u.f1T(e4E,T4E,c4E,m4E,4);J4E={DT:B4E.DT,displayDate:B4E.displayDate,Date:B4E.Date,Open:k4E,Close:i4E,High:Math.max(c4E,Math.max(k4E,i4E)),Low:Math.min(T4E,Math.min(k4E,i4E)),Volume:B4E.Volume,iqPrevClose:v4E.Close};for(var Y4E in B4E){if(!J4E[Y4E] && J4E[Y4E] !== 0){J4E[Y4E]=B4E[Y4E];}}I4E.push(J4E);}return I4E;};G9E.calculateKagi=function(N4E,y4E,M4E,z4E){var T5u=o233;var n4E,r4E,C4E,W4E,X4E,p4E,H4E,D4E;if(!y4E.length){return y4E;}if(!z4E){z4E=[];}n4E=N4E.layout;r4E=N4E.chart;M4E=parseFloat(M4E);r4E.defaultChartStyleConfig.kagi=G9E.ChartEngine.isDailyInterval(n4E.interval)?4:0.4;if(isNaN(M4E) || M4E <= 0){M4E=r4E.defaultChartStyleConfig.kagi;if(G9E.Market.Symbology.isForexSymbol(r4E.symbol)){M4E/=4;}if(n4E.kagi !== null){n4E.kagi=null;N4E.changeOccurred("layout");}}M4E/=100;C4E=[];T5u.B1T(11);var p9s=T5u.n1T(17,1438451772,359612947);T5u.Y9u();W4E=z4E[z4E.length - ("1" >> p9s)];X4E=W4E?W4E.DT:0;for(var F4E="0" | 0;F4E < y4E.length;F4E++){p4E=y4E[F4E];if(!p4E)continue;if(!W4E){T5u.B1T(12);W4E=y4E[T5u.n1T("1",F4E)];}if(!W4E)continue;H4E=W4E.Open || W4E.Open === 0?W4E.Open:W4E.Close;if(H4E > W4E.Close){if(p4E.Close > W4E.Close * (+"1" + M4E)){p4E.Open=W4E.Close;}else {if(W4E.Close > p4E.Close){W4E.Close=p4E.Close;}W4E.Volume+=p4E.Volume;if(F4E < y4E.length - ("1" ^ 0))continue;}}else if(H4E < W4E.Close){if(p4E.Close < W4E.Close * (1 - M4E)){p4E.Open=W4E.Close;}else {if(W4E.Close < p4E.Close){W4E.Close=p4E.Close;}W4E.Volume+=p4E.Volume;if(F4E < y4E.length - +"1")continue;}}else {W4E.Close=p4E.Close;W4E.Volume+=p4E.Volume;if(F4E < y4E.length - 1)continue;}D4E={DT:W4E.DT,displayDate:W4E.displayDate,Date:W4E.Date,Open:W4E.Open,Close:W4E.Close,High:Math.max(W4E.Open,W4E.Close),Low:Math.min(W4E.Open,W4E.Close),Volume:W4E.Volume,iqPrevClose:W4E.iqPrevClose};for(var h4E in W4E){if(!D4E[h4E] && D4E[h4E] !== 0){D4E[h4E]=W4E[h4E];}}if(C4E.length){D4E.kagiPrevOpen=C4E[C4E.length - 1].Open;}else {D4E.kagiPrevOpen=D4E.Open;}if(D4E.Close > D4E.kagiPrevOpen && D4E.kagiPrevOpen > D4E.Open){D4E.kagiTrend=+"1";}else if(D4E.Close < D4E.kagiPrevOpen && D4E.kagiPrevOpen < D4E.Open){D4E.kagiTrend=-1;}if(X4E < D4E.DT){C4E.push(D4E);}W4E=p4E;r4E.currentQuote={Close:p4E.Close};}return C4E;};G9E.calculateLineBreak=function(w8E,L8E,j4E,Q8E){var D5u=o233;var B9C,Q9C,I9C,f8E,l8E,K7C,G4E,S8E,P8E,K4E,s4E,E4E,q8E,V8E,g4E,U4E,a4E,A8E;if(!L8E.length){return L8E;}if(!Q8E){Q8E=[];}D5u.v1T(13);B9C=-D5u.n1T("265017736",1332962592);D5u.B1T(14);Q9C=D5u.n1T(1284000928,"1291636662");I9C=2;for(var X9C=1;D5u.A2C(X9C.toString(),X9C.toString().length,+"4463") !== B9C;X9C++){f8E=w8E.layout;l8E=w8E.chart;I9C+=2;}if(D5u.D2C(I9C.toString(),I9C.toString().length,+"63742") !== Q9C){f8E=w8E.layout;l8E=w8E.chart;}f8E=w8E.layout;l8E=w8E.chart;l8E.defaultChartStyleConfig.priceLines=3;j4E=parseInt(j4E,10);if(isNaN(j4E) || j4E <= +"0"){j4E=l8E.defaultChartStyleConfig.priceLines;if(f8E.priceLines !== null){K7C="la";K7C+="y";K7C+="out";f8E.priceLines=null;w8E.changeOccurred(K7C);}}else if(j4E > 10){f8E.priceLines=j4E=10;}D5u.z9u();G4E=Q8E.slice(-j4E);S8E=G4E.length;P8E=0;a:for(var x8E=0;x8E < L8E.length;x8E++){K4E=L8E[x8E];if(!K4E)continue;P8E+=K4E.Volume;D5u.B1T(15);var N9s=D5u.n1T(7,106,2,15);s4E=G4E[G4E.length - N9s];if(!s4E){s4E={Open:K4E.Open,Close:K4E.Open,High:K4E.Open,Low:K4E.Open};}E4E=s4E.Close;q8E=s4E.High;V8E=s4E.Low;g4E=s4E.Open;q8E=q8E || q8E === 0?q8E:E4E;V8E=V8E || V8E === 0?V8E:E4E;g4E=g4E || g4E === ("0" & 2147483647)?g4E:E4E;U4E={DT:K4E.DT,displayDate:K4E.displayDate,Date:K4E.Date,Close:K4E.Close,Volume:P8E,iqPrevClose:E4E};l8E.currentQuote={Close:K4E.Close};if(K4E.Close > E4E && s4E.Close > g4E){;}else if(K4E.Close < E4E && s4E.Close < g4E){;}else if(K4E.Close > q8E){for(a4E="2" - 0;a4E <= j4E;a4E++){A8E=G4E[G4E.length - a4E];if(A8E && K4E.Close <= A8E.High){continue a;}}}else if(K4E.Close < V8E){for(a4E=2;a4E <= j4E;a4E++){A8E=G4E[G4E.length - a4E];if(A8E && K4E.Close >= A8E.Low){continue a;}}}else continue;if(K4E.Close < s4E.Close){U4E.Open=Math.min(g4E,E4E);}else {U4E.Open=Math.max(g4E,E4E);}U4E.Low=Math.min(U4E.Open,U4E.Close);U4E.High=Math.max(U4E.Open,U4E.Close);for(var u8E in K4E){if(!U4E[u8E] && U4E[u8E] !== 0){U4E[u8E]=K4E[u8E];}}G4E.push(U4E);P8E=0;}return G4E.slice(S8E);};G9E.calculateRenkoBars=function(I8E,b8E,R8E,d8E){var k5u=o233;var e8E,m8E,O8E,p8E,o8E,J8E,k8E,B8E,v8E,c8E,i8E,T8E,t8E,W8E,D8E;if(!b8E.length){return [];}if(!d8E){d8E=[];}e8E=I8E.layout;m8E=I8E.chart;O8E=m8E.state.aggregation;if(!O8E){O8E=m8E.state.aggregation={};}p8E=Math.min(300,b8E.length);if(!O8E.minMax){O8E.minMax=I8E.determineMinMax(b8E.slice(b8E.length - p8E),["Close","High","Low"]);}k5u.B1T(5);var y9s=k5u.f1T(9,10,0);o8E=O8E.minMax[y9s] - O8E.minMax[0];J8E=I8E.panels[m8E.name].height;if(!J8E){return [];}k5u.B1T(11);var r9s=k5u.n1T(14,7486,2500);k5u.v1T(16);var H9s=k5u.f1T(3,13,28,21,20);k5u.B1T(17);var v9s=k5u.f1T(1,31,18,10013);m8E.defaultChartStyleConfig.renko=Math.floor(r9s * o8E / (J8E / H9s)) / v9s;function Y8E(M8E,y8E){k5u.Y9u();var F8E;M8E=Number(M8E.toFixed(8));y8E=Number(y8E.toFixed(+"8"));F8E={DT:c8E.DT,displayDate:c8E.displayDate,Date:c8E.Date,Open:M8E,Close:y8E,High:Math.max(M8E,y8E),Low:Math.min(M8E,y8E),Volume:"0" >> 1201959296,iqPrevClose:M8E != y8E?M8E:null};for(var C8E in c8E){if(!F8E[C8E] && F8E[C8E] !== +"0"){F8E[C8E]=c8E[C8E];}}k8E.push(F8E);}if(R8E === null || isNaN(R8E) || R8E <= 0){R8E=m8E.defaultChartStyleConfig.renko;if(e8E.renko !== null){e8E.renko=null;I8E.changeOccurred("layout");}}else {k5u.v1T(9);R8E=Math.max(R8E,k5u.n1T(J8E,o8E));if(e8E.renko !== R8E){e8E.renko=R8E;I8E.changeOccurred("layout");}}k8E=[];B8E=null;k5u.Y9u();v8E=null;c8E=null;if(d8E.length){k5u.B1T(0);var s9s=k5u.f1T(0,1);i8E=d8E[d8E.length - s9s];B8E=i8E.Low - R8E;v8E=i8E.High + R8E;}for(var Z8E=0;Z8E < b8E.length;Z8E++){T8E=b8E[Z8E];if(!T8E)continue;if(!B8E && !v8E){t8E=T8E.Open || T8E.Open === +"0"?T8E.Open:T8E.Close;W8E=Math.floor(t8E / R8E) * R8E;D8E=isNaN(W8E)?t8E:W8E;k5u.v1T(1);B8E=k5u.n1T(D8E,R8E);k5u.B1T(0);v8E=k5u.f1T(D8E,R8E);}while(! !{}){if(!c8E){c8E=T8E;}if(T8E.Close <= B8E){k5u.v1T(0);Y8E(k5u.n1T(B8E,R8E),B8E);k5u.v1T(18);v8E=k5u.f1T(B8E,R8E,"2");B8E-=R8E;c8E=null;}else if(T8E.Close >= v8E){k5u.v1T(1);Y8E(k5u.f1T(v8E,R8E),v8E);k5u.v1T(19);B8E=k5u.n1T("2",v8E,R8E);v8E+=R8E;c8E=null;}else break;}m8E.currentQuote=T8E;}if(B8E < b8E[b8E.length - 1].Close && B8E + R8E > b8E[b8E.length - 1].Close){k5u.v1T(0);Y8E(k5u.n1T(B8E,R8E),b8E[b8E.length - +"1"].Close);}else if(v8E > b8E[b8E.length - 1].Close && v8E - R8E < b8E[b8E.length - 1].Close){k5u.v1T(1);Y8E(k5u.n1T(v8E,R8E),b8E[b8E.length - 1].Close);}return k8E;};o233.z9u();G9E.calculateRangeBars=function(q5E,X8E,h8E,u5E){var C5u=o233;var A5E,V5E,E8E,Q5E,l5E,L5E,P5E,r8E,K8E,U8E,f5E,j8E,z8E,a8E,G8E,n8E,N8E,H8E,w5E,R5E;if(!X8E.length){return X8E;}if(!u5E){u5E=[];}A5E=q5E.layout;V5E=q5E.chart;function x5E(){C5u.v1T(0);K8E=C5u.n1T(r8E,h8E);C5u.v1T(1);C5u.Y9u();U8E=C5u.n1T(r8E,h8E);f5E=r8E;}E8E=V5E.state.aggregation;if(!E8E){E8E=V5E.state.aggregation={};}Q5E=Math.min(300,X8E.length);if(!E8E.minMax){E8E.minMax=q5E.determineMinMax(X8E.slice(X8E.length - Q5E),["Close","High","Low"]);}C5u.B1T(1);var i9s=C5u.n1T(4,3);l5E=E8E.minMax[i9s] - E8E.minMax[0];L5E=q5E.panels[V5E.name].height;function S5E(v5E){var b5E;b5E={DT:j8E.DT,displayDate:j8E.displayDate,Date:j8E.Date,Open:Number(f5E.toFixed(+"8")),Close:Number(v5E.toFixed(8)),High:Number(K8E.toFixed(8)),Low:Number(U8E.toFixed(8)),Volume:0};b5E.iqPrevClose=b5E.Open;for(var B5E in j8E){if(!b5E[B5E] && b5E[B5E] !== 0){b5E[B5E]=j8E[B5E];}}P5E.push(b5E);}if(!L5E){return [];}C5u.B1T(6);var k9s=C5u.f1T(19,9,170010,180000);C5u.B1T(20);var D9s=C5u.f1T(15,4,3,50,17);C5u.v1T(21);var A9s=C5u.f1T(15,6,10020,50105);V5E.defaultChartStyleConfig.range=Math.floor(k9s * l5E / (L5E / D9s)) / A9s;if(h8E === null || isNaN(h8E) || h8E < 0){h8E=V5E.defaultChartStyleConfig.range;if(A5E.range !== null){A5E.range=null;q5E.changeOccurred("layout");}}else {C5u.v1T(9);h8E=Math.max(h8E,C5u.f1T(L5E,l5E));if(A5E.range !== h8E){A5E.range=h8E;q5E.changeOccurred("layout");}}P5E=[];function g8E(T5E,c5E){var n7C,t7C;while("1" >> 1954751840){n7C="undefin";n7C+="e";n7C+="d";if(!j8E){j8E=T5E;}if(r8E < c5E){r8E=Math.min(c5E,K8E);C5u.v1T(1);U8E=Math.max(U8E,C5u.f1T(r8E,h8E));if(c5E < K8E)break;}else if(r8E >= c5E){r8E=Math.max(c5E,U8E);C5u.B1T(0);K8E=Math.min(K8E,C5u.f1T(r8E,h8E));if(c5E > U8E)break;}if(typeof r8E == n7C){t7C="Uh oh undefined in calculateRange";t7C+="Bars:p";t7C+="rocessMove";console.log(t7C);return;}S5E(r8E);j8E=null;x5E();}}r8E=null;K8E=null;U8E=null;f5E=null;j8E=null;for(var s8E=0;s8E < X8E.length;s8E++){z8E=X8E[s8E];if(!z8E)continue;C5u.v1T(22);a8E=X8E[C5u.f1T(0,"1",s8E)];if(!s8E){if(!a8E){C5u.B1T(0);var w9s=C5u.f1T(0,1);a8E=u5E[u5E.length - w9s];}if(a8E){r8E=a8E.Close;if(r8E || r8E === ("0" | 0)){x5E();}}}if(!a8E)continue;G8E=z8E.Close;n8E=z8E.Open;N8E=z8E.High;H8E=z8E.Low;if(!G8E && G8E !== 0)continue;n8E=n8E || n8E === +"0"?n8E:G8E;N8E=N8E || N8E === 0?N8E:G8E;H8E=H8E || H8E === "0" - 0?H8E:G8E;if(!r8E && r8E !== +"0"){w5E=Math.floor(n8E / h8E) * h8E;r8E=isNaN(w5E)?n8E:w5E;x5E();g8E(a8E,n8E);}if(s8E){g8E(z8E,n8E);}if(N8E - n8E < n8E - H8E){if(N8E){g8E(z8E,N8E);}if(H8E){g8E(z8E,H8E);}}else {if(H8E){g8E(z8E,H8E);}if(N8E){g8E(z8E,N8E);}}g8E(z8E,G8E);if(s8E == X8E.length - 1 && G8E != f5E){R5E=K8E;C5u.v1T(0);K8E=C5u.n1T(U8E,h8E);C5u.v1T(1);U8E=C5u.n1T(R5E,h8E);S5E(G8E);}}return P5E;};G9E.calculatePointFigure=function(C5E,r5E,z5E,n5E){var f5u=o233;var Z5E,i5E,N5E,m5E,J5E,T7C,t5E,y5E,F5E,p5E,Y5E,e5E,o5E,O5E,k5E,M5E,I5E,d5E,W5E,D5E;if(!r5E.length){return r5E;}if(!n5E){n5E=[];}Z5E=C5E.layout;i5E=C5E.chart;N5E=i5E.state.aggregation;if(!N5E){N5E=i5E.state.aggregation={};}f5u.z9u();function h5E(s5E,E5E,g5E,a5E,q0E){s5E.High=Math.max(E5E,s5E.High);s5E.Low=Math.min(g5E,s5E.Low);s5E.Close=a5E;f5u.Y9u();s5E.Volume+=q0E;}i5E.defaultChartStyleConfig.box=1;i5E.defaultChartStyleConfig.reversal=3;if(!z5E){z5E={};}m5E=z5E.box;if(!m5E){if(Z5E.pandf){if(Z5E.pandf.box !== null){Z5E.pandf.box=null;C5E.changeOccurred("layout");}}m5E=i5E.defaultChartStyleConfig.box;J5E=r5E[r5E.length - 1].Close;if(J5E){if(J5E < "0.25" * 1){m5E=0.0625;}else if(J5E < 1){m5E=0.125;}else if(J5E < 5){m5E=0.25;}else if(J5E < 20){m5E=+"0.5";}else if(J5E < +"100"){f5u.v1T(23);m5E=f5u.f1T(1,"1");}else if(J5E < 200){m5E=+"2";}else if(J5E < "500" << 1415941088){m5E=4;}else if(J5E < +"1000"){m5E=5;}else if(J5E < 25000){m5E=50;}else {m5E=500;}}if(!G9E.ChartEngine.isDailyInterval(Z5E.interval)){m5E/=+"10";}if(G9E.Market.Symbology.isForexSymbol(i5E.symbol)){if(J5E){if(J5E < 1){m5E=0.001;}else if(J5E < 2){m5E=+"0.002";}else if(J5E < 50){m5E=0.02;}else if(J5E < 200){m5E=0.2;}}if(G9E.ChartEngine.isDailyInterval(Z5E.interval)){m5E*=10;}}i5E.defaultChartStyleConfig.box=m5E;}m5E=parseFloat(m5E);if(isNaN(m5E) || m5E <= 0){if(Z5E.pandf){if(Z5E.pandf.box !== null){T7C="lay";T7C+="o";T7C+="ut";Z5E.pandf.box=null;C5E.changeOccurred(T7C);}}i5E.defaultChartStyleConfig.box=m5E=1;}t5E=Math.ceil(parseFloat(z5E.reversal));if(t5E > 0 && t5E > z5E.reversal){Z5E.pandf.reversal=t5E;C5E.changeOccurred("layout");}else if(isNaN(t5E) || t5E <= 0){if(Z5E.pandf){if(Z5E.pandf.reversal !== null){Z5E.pandf.reversal=null;C5E.changeOccurred("layout");}}t5E=i5E.defaultChartStyleConfig.reversal;}function X5E(G5E,j5E){f5u.z9u();for(var U5E in G5E){if(!j5E[U5E] && j5E[U5E] !== 0){j5E[U5E]=G5E[U5E];}}return j5E;}N5E.box=m5E;t5E*=m5E;y5E=0.00000001;F5E=(m5E.toString() + ".").split(4531 !== (507.2,"9480" & 2147483647)?".":4480 == 4553?"i":6.32e+3)[1].length;p5E=[];Y5E=0;function K5E(V0E,A0E,u0E,L0E,f0E,l0E,P0E,x0E,w0E){f5u.z9u();return {DT:V0E.DT,Date:V0E.Date,pfOpen:x0E,pfClose:w0E,Open:A0E,Close:f0E,High:u0E,Low:L0E,Volume:l0E,iqPrevClose:P0E};}for(var H5E=0;H5E < r5E.length;H5E++){o5E=r5E[H5E];if(!o5E)continue;Y5E+=o5E.Volume;k5E=o5E.Close;M5E=o5E.Open;I5E=o5E.High;d5E=o5E.Low;M5E=M5E || M5E === +"0"?M5E:k5E;I5E=I5E || I5E === 0?I5E:k5E;d5E=d5E || d5E === 0?d5E:k5E;if(!p5E.length && !n5E.length){e5E=X5E(o5E,K5E(o5E,M5E,I5E,d5E,k5E,Y5E,I5E + m5E,Number((Math.ceil(d5E / m5E - y5E) * m5E).toFixed(F5E)),Number((Math.floor(I5E / m5E + y5E) * m5E).toFixed(F5E))));e5E.pfTrend=(937.77,5830) != 2110?"X":"L";if(e5E.pfOpen == e5E.pfClose){e5E.pfStepBack="-";}p5E.push(e5E);Y5E=+"0";continue;}f5u.v1T(24);var W9s=f5u.f1T(3,5,8,19,7);O5E=p5E[p5E.length - W9s];if(!O5E){O5E=G9E.clone(n5E[n5E.length - 1]);}if(O5E.pfTrend == ((3030,9630) <= 51.39?193.22 >= 806.59?(0x61d,"180.74" * 1):"721.09" * 1:"O")){if(d5E <= O5E.pfClose - m5E){O5E.pfClose=Number((Math.ceil(d5E / m5E - y5E) * m5E).toFixed(F5E));if(O5E.pfStepBack == ((5523,+"5700") > (9370,700.43)?"O":(321.07,0x81b))){O5E.pfStepBack=null;}h5E(O5E,I5E,d5E,k5E,Y5E);}else if(I5E >= O5E.pfClose + t5E){W5E=O5E.pfClose + m5E;D5E=Number((Math.floor(I5E / m5E + y5E) * m5E).toFixed(F5E));e5E=K5E(o5E,M5E,I5E,d5E,k5E,Y5E,O5E.pfClose,W5E,D5E);if(W5E == D5E){e5E.pfStepBack="X";}if(O5E.pfStepBack == ((8508,6450) !== "828.45" - 0?"O":("e",1.68e+3))){O5E.pfOpen=W5E;O5E.pfClose=D5E;O5E.pfTrend="X";h5E(O5E,I5E,d5E,k5E,Y5E);}else {e5E=X5E(o5E,e5E);e5E.pfTrend=(+"7798",891.02) == (9780,245)?("0x4b6" & 2147483647,574.63):5976 >= +"157"?"X":5873 !== 351.29?("d",388):("Q",! !{});p5E.push(e5E);}}else {h5E(O5E,I5E,d5E,k5E,Y5E);}Y5E=0;}else if(O5E.pfTrend == "X"){if(I5E >= O5E.pfClose + m5E){O5E.pfClose=Number((Math.floor(I5E / m5E + y5E) * m5E).toFixed(F5E));if(O5E.pfStepBack == (978.19 !== (5090,466.22)?4611 == (1144,7564)?(+"964.99",2010) < 222.08?0x20a6:6.00e+3:"X":"H") || O5E.pfStepBack == "-"){O5E.pfStepBack=null;}h5E(O5E,I5E,d5E,k5E,Y5E);}else if(d5E <= O5E.pfClose - t5E){W5E=O5E.pfClose - m5E;D5E=Number((Math.ceil(d5E / m5E - y5E) * m5E).toFixed(F5E));e5E=K5E(o5E,M5E,I5E,d5E,k5E,Y5E,O5E.pfClose,W5E,D5E);if(W5E == D5E){e5E.pfStepBack=123.3 < 1125?"O":(517.45,256.47) != 1770?!1:+"984.56";}if(O5E.pfStepBack == ((+"8330",9200) == 833.34?+"0xf19":"X") || O5E.pfStepBack == "-"){O5E.pfOpen=W5E;O5E.pfClose=D5E;O5E.pfTrend=(5858,303.45) === (7101,7570)?0x26e7:8607 == +"2520"?(940.96,5900) > 7818?(+"592.52",+"4.17e+3"):"1.58e+3" | 1060:"O";h5E(O5E,I5E,d5E,k5E,Y5E);if(W5E != D5E && O5E.pfStepBack == "-"){O5E.pfStepBack=null;}}else {e5E=X5E(o5E,e5E);e5E.pfTrend="O";p5E.push(e5E);}}else {h5E(O5E,I5E,d5E,k5E,Y5E);}Y5E=0;}}return p5E;};};k7B=R0E=>{var H9u=o233;var Y7C,Q0E,S0E,V7C,R5C,E5C,J5C,L5C,e5C,Z5C,h5C,F5C,B5C,a5C,V5C,Y5C,i5C,c8C,q7C,z7C,C7C,b7C,X7C,S7C,I7C;Y7C="un";Y7C+="d";H9u.z9u();Y7C+="e";Y7C+="fined";Q0E=typeof _CIQ !== "undefined"?_CIQ:R0E.CIQ;S0E=typeof _timezoneJS !== Y7C?_timezoneJS:R0E.timezoneJS;if(!Q0E.Drawing){V7C="drawingAdvance";V7C+="d feature requires ";V7C+="first activating drawing";V7C+=" feature.";console.error(V7C);}else {R5C="waveParamete";R5C+="r";R5C+="s";E5C="fo";E5C+="nt";J5C="p";J5C+="a";J5C+="tter";J5C+="n";L5C="line";L5C+="W";L5C+="idt";L5C+="h";e5C="I";e5C+="V";Z5C="lineWidt";Z5C+="h";h5C="f";h5C+="o";h5C+="n";h5C+="t";F5C="p";F5C+="atte";F5C+="r";F5C+="n";B5C="cq-cvp-co";B5C+="ntroller[cq-cvp-he";B5C+="ader=\"1\"]";a5C="colo";a5C+="r";a5C+="3";V5C="lineW";V5C+="id";V5C+="t";V5C+="h2";Y5C="act";Y5C+="ive2";i5C="l";i5C+="in";i5C+="eWidth";c8C="para";c8C+="m";c8C+="ete";c8C+="rs";q7C="l";q7C+="w";z7C="lin";z7C+="eW";z7C+="i";z7C+="dth";C7C="col";C7C+="o";C7C+="r";b7C="co";b7C+="lor";X7C="lineWidt";X7C+="h";S7C="fillCo";S7C+="lor";I7C="co";I7C+="l";I7C+="o";I7C+="r";Q0E.Drawing.ray=function(){var Y3C,V3C,a3C;Y3C=1841499078;V3C=1241109381;a3C=2;for(var Q3C=1;H9u.A2C(Q3C.toString(),Q3C.toString().length,23221) !== Y3C;Q3C++){this.name="";a3C+=+"2";}if(H9u.A2C(a3C.toString(),a3C.toString().length,24403) !== V3C){this.name="ray";}};Q0E.inheritsFrom(Q0E.Drawing.ray,Q0E.Drawing.line);Q0E.Drawing.ray.prototype.calculateOuterSet=function(v0E){var b0E,B0E;if(this.p0["0" ^ 0] == this.p1[0] || this.p0[1] == this.p1[1] || Q0E.ChartEngine.isDailyInterval(this.stx.layout.interval)){return;}b0E={x0:this.p0[0],y0:this.p0[1],x1:this.p1[0],y1:this.p1[1]};H9u.B1T(2);H9u.z9u();var K9s=H9u.n1T(13,333,680);B0E=b0E.x1 + K9s;if(b0E.x0 > b0E.x1){H9u.v1T(0);var n9s=H9u.f1T(993,7);B0E=b0E.x1 - n9s;}this.v0B=this.v0;this.v1B=Q0E.yIntersection(b0E,B0E);this.d0B=this.d0;this.d1B=this.stx.dateFromTick(B0E,v0E.chart);};Q0E.Drawing.ray.prototype.adjust=function(){var c0E;c0E=this.stx.panels[this.panelName];if(!c0E){return;}this.setPoint(0,this.d0,this.v0,c0E.chart);H9u.Y9u();this.setPoint(+"1",this.d1,this.v1,c0E.chart);if(Q0E.ChartEngine.isDailyInterval(this.stx.layout.interval) && this.d0B){this.setPoint(1,this.d1B,this.v1B,c0E.chart);}};Q0E.Drawing.continuous=function(){var a7C;a7C="cont";a7C+="in";a7C+="u";a7C+="ous";this.name=a7C;this.dragToDraw=!1;this.maxSegments=null;};Q0E.inheritsFrom(Q0E.Drawing.continuous,Q0E.Drawing.segment);Q0E.Drawing.continuous.prototype.click=function(J0E,m0E,O0E){var B7C,T0E,d0E,I0E,e0E;B7C="ve";B7C+="ct";B7C+="o";B7C+="r";T0E=this.stx.panels[this.panelName];if(!T0E){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,m0E,O0E,T0E.chart);this.penDown=! !{};return ! !"";}if(this.accidentalClick(m0E,O0E)){this.stx.undo();return ! !"1";}this.setPoint(1,m0E,O0E,T0E.chart);d0E=Q0E.Drawing.segment;I0E=new d0E();e0E=this.serialize(this.stx);I0E.reconstruct(this.stx,e0E);this.stx.addDrawing(I0E);this.stx.changeOccurred(B7C);this.stx.draw();this.segment++;if(this.maxSegments && this.segment > this.maxSegments){return !0;}this.setPoint(0,m0E,O0E,T0E.chart);return ![];};Q0E.Drawing.ellipse=function(){H9u.Y9u();this.name="ellipse";};Q0E.inheritsFrom(Q0E.Drawing.ellipse,Q0E.Drawing.BaseTwoPoint);Q0E.Drawing.ellipse.prototype.render=function(Y0E){var k0E,h0E,D0E,p0E,M0E,i0E,y0E,F0E,C0E,r0E,t0E,Z0E,o0E,W0E,z0E;k0E=this.stx.panels[this.panelName];if(!k0E){return;}h0E=this.stx.pixelFromTick(this.p0[0],k0E.chart);D0E=this.stx.pixelFromTick(this.p1[0],k0E.chart);p0E=this.stx.pixelFromValueAdjusted(k0E,this.p0["0" | 0],this.p0[+"1"]);M0E=this.stx.pixelFromValueAdjusted(k0E,this.p1[0],this.p1[+"1"]);H9u.v1T(25);i0E=H9u.n1T(D0E,h0E,h0E);y0E=D0E;F0E=p0E;C0E=M0E;H9u.B1T(25);r0E=H9u.f1T(M0E,p0E,p0E);H9u.v1T(26);t0E=H9u.n1T(C0E,r0E,6);Z0E=this.lineWidth;if(!Z0E){Z0E=1.1;}o0E=this.color;if(o0E == "auto" || Q0E.isTransparent(o0E)){o0E=this.stx.defaultColor;}if(this.highlighted){o0E=this.stx.getCanvasColor("stx_highlight_vector");if(Z0E == 0.1){Z0E=1.1;}}W0E=this.fillColor;Y0E.beginPath();Y0E.moveTo(i0E,F0E);H9u.v1T(0);Y0E.bezierCurveTo(i0E,H9u.n1T(C0E,t0E),y0E,H9u.n1T(C0E,t0E),y0E,F0E);H9u.B1T(1);Y0E.bezierCurveTo(y0E,H9u.f1T(r0E,t0E),i0E,H9u.f1T(r0E,t0E),i0E,F0E);if(W0E && !Q0E.isTransparent(W0E) && W0E != "auto"){Y0E.fillStyle=W0E;Y0E.globalAlpha=0.2;Y0E.fill();Y0E.globalAlpha=+"1";}if(o0E && this.pattern != "none"){Y0E.strokeStyle=o0E;Y0E.lineWidth=Z0E;if(Y0E.setLineDash){Y0E.setLineDash(Q0E.borderPatternToArray(Z0E,this.pattern));Y0E.lineDashOffset=0;;}Y0E.stroke();}Y0E.closePath();if(this.highlighted){z0E=this.highlighted == "p1"?!0:!{};this.littleCircle(Y0E,D0E,M0E,z0E);}};Q0E.Drawing.ellipse.prototype.intersected=function(U0E,j0E,n0E){var Q7C,N0E,H0E,X0E,K0E;Q7C="mov";Q7C+="e";if(!this.p0 || !this.p1){return null;}if(this.pointIntersection(this.p1[0],this.p1[1],n0E)){this.highlighted="p1";return {action:"drag",point:"p1"};}N0E=this.p0[0] - (this.p1[0] - this.p0[0]);H0E=this.p1[0];X0E=this.p1[1];H9u.v1T(27);var t9s=H9u.f1T(15,46,3);H9u.v1T(28);var T9s=H9u.f1T(19,11,14,14,9);H9u.v1T(29);var Y9s=H9u.f1T(35,14,20);K0E=this.p0[t9s] - (this.p1[T9s] - this.p0[Y9s]);if(n0E.x0 > Math.max(N0E,H0E) || n0E.x1 < Math.min(N0E,H0E)){return !1;}if(n0E.y1 > Math.max(K0E,X0E) || n0E.y0 < Math.min(K0E,X0E)){return ! !0;}this.highlighted=! !{};H9u.z9u();return {action:Q7C,p0:Q0E.clone(this.p0),p1:Q0E.clone(this.p1),tick:U0E,value:j0E};};Q0E.Drawing.ellipse.prototype.configs=[I7C,S7C,"lineWidth","pattern"];Q0E.Drawing.ellipse.prototype.reconstruct=function(s0E,G0E){this.stx=s0E;this.color=G0E.col;this.fillColor=G0E.fc;this.panelName=G0E.pnl;this.pattern=G0E.ptrn;this.lineWidth=G0E.lw;this.d0=G0E.d0;this.d1=G0E.d1;this.tzo0=G0E.tzo0;this.tzo1=G0E.tzo1;this.v0=G0E.v0;this.v1=G0E.v1;this.adjust();};Q0E.Drawing.ellipse.prototype.serialize=function(){H9u.Y9u();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};};Q0E.Drawing.channel=function(){this.name="channel";this.dragToDraw=! !"";H9u.z9u();this.p2=null;};Q0E.inheritsFrom(Q0E.Drawing.channel,Q0E.Drawing.segment);Q0E.Drawing.channel.prototype.configs=["color","fillColor",X7C,"pattern"];Q0E.Drawing.channel.prototype.move=function(q7E,E0E,g0E){var a0E;if(!this.penDown){return;}this.copyConfig();H9u.z9u();if(this.p2 === null){this.p1=[E0E,g0E];}else {H9u.v1T(30);var V9s=H9u.n1T(2,5,3);H9u.v1T(31);var a9s=H9u.n1T(13,14,7,17,12);a0E=g0E - (this.p1[V9s] - this.p0[a9s]) / (this.p1["0" - 0] - this.p0[0]) * (E0E - this.p1[+"0"]);H9u.v1T(23);this.p2=[this.p1[H9u.f1T(1,"0")],a0E];}this.render(q7E);};Q0E.Drawing.channel.prototype.click=function(L7E,A7E,u7E){var V7E,l9C,F9C,h9C;V7E=this.stx.panels[this.panelName];if(!V7E){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,A7E,u7E,V7E.chart);this.penDown=! !{};return !{};}if(this.accidentalClick(A7E,u7E)){this.stx.undo();return ! !{};}if(this.p2 !== null){H9u.v1T(23);this.setPoint(H9u.f1T(1,"2"),this.p2[0],this.p2[1],V7E.chart);H9u.v1T(1);l9C=H9u.n1T("24806507",0);F9C=100913229;h9C=2;for(var g9C=+"1";H9u.D2C(g9C.toString(),g9C.toString().length,98056) !== l9C;g9C++){this.penDown=!"";return ![];}if(H9u.D2C(h9C.toString(),h9C.toString().length,44033) !== F9C){this.penDown=! !"";return ! !{};}this.penDown=![];return ! !1;}this.setPoint(1,A7E,u7E,V7E.chart);if(this.p0[0] == this.p1[0]){this.p1=null;return !1;}this.p2=[this.p1[0],this.p1[1]];return !1;};Q0E.Drawing.channel.prototype.boxIntersection=function(w7E,R7E,P7E){var f7E,l7E,x7E,Q7E,S7E;f7E=this.p0;l7E=this.p1;x7E=this.p2;if(!f7E || !l7E || !x7E){return ![];}if(P7E.x0 > Math.max(f7E[+"0"],l7E[0]) || P7E.x1 < Math.min(f7E[0],l7E[0])){return !{};}H9u.B1T(5);var B9s=H9u.f1T(32,14,19);H9u.v1T(0);var Q9s=H9u.n1T(0,1);H9u.B1T(32);var I9s=H9u.n1T(10,12,19,3,281);Q7E=(l7E[0] - f7E[0]) * ((x7E[B9s] < f7E[Q9s]?P7E.y1:P7E.y0) - f7E[+"1"]) - (l7E[+"1"] - f7E[I9s]) * (w7E - f7E[0]);H9u.B1T(33);var S9s=H9u.n1T(5,1,1,6);H9u.B1T(1);var X9s=H9u.n1T(8,7);H9u.Y9u();H9u.v1T(1);var l9s=H9u.f1T(16,15);H9u.B1T(34);var F9s=H9u.n1T(228,7,14,2,16);H9u.B1T(8);var h9s=H9u.f1T(3,2);S7E=(x7E[0] - f7E["0" - 0]) * ((x7E[S9s] > f7E["1" & 2147483647]?P7E.y1:P7E.y0) - (f7E[X9s] + x7E[l9s] - l7E[+"1"])) - (l7E[F9s] - f7E[h9s]) * (w7E - f7E[0]);H9u.v1T(35);return H9u.n1T(S7E,0,Q7E);};Q0E.Drawing.channel.prototype.intersected=function(v7E,c7E,T7E){var B7E,l7C;if(!this.p0 || !this.p1 || !this.p2){return null;}B7E={0:this.p0,1:this.p1,2:this.p2};for(var b7E in B7E){if(this.pointIntersection(B7E[b7E][0],B7E[b7E][+"1"],T7E)){H9u.B1T(0);this.highlighted=H9u.f1T("p",b7E);return {action:"drag",point:"p" + b7E};}}H9u.z9u();if(this.boxIntersection(v7E,c7E,T7E)){l7C="m";l7C+="o";l7C+="ve";this.highlighted=! ![];return {action:l7C,p0:Q0E.clone(this.p0),p1:Q0E.clone(this.p1),p2:Q0E.clone(this.p2),tick:v7E,value:c7E};}return null;};Q0E.Drawing.channel.prototype.render=function(m7E){var F7C,O7E,e7E,I7E,J7E,Y7E,d7E,i7E,k7E,Z7E,o7E,t7E,W7E,D7E;F7C="dot";F7C+="t";F7C+="e";F7C+="d";O7E=this.stx.panels[this.panelName];if(!O7E){return;}e7E=this.stx.pixelFromTick(this.p0[0],O7E.chart);I7E=this.stx.pixelFromTick(this.p1[0],O7E.chart);J7E=this.stx.pixelFromValueAdjusted(O7E,this.p0[0],this.p0[1]);Y7E=this.stx.pixelFromValueAdjusted(O7E,this.p1[0],this.p1[1]);d7E=null;if(this.p2){d7E=this.stx.pixelFromValueAdjusted(O7E,this.p2["0" | 0],this.p2[1]);}i7E=this.lineWidth;k7E=this.getLineColor();Z7E=this.fillColor;if(this.p2 && Z7E && !Q0E.isTransparent(Z7E) && Z7E != "auto"){m7E.beginPath();m7E.moveTo(e7E,J7E);m7E.lineTo(I7E,Y7E);m7E.lineTo(I7E,d7E);H9u.v1T(36);m7E.lineTo(e7E,H9u.f1T(Y7E,J7E,d7E));m7E.closePath();m7E.globalAlpha=0.2;m7E.fillStyle=Z7E;m7E.fill();m7E.globalAlpha=1;}H9u.Y9u();o7E={pattern:this.pattern,lineWidth:i7E};if((this.penDown || this.highlighted) && this.pattern == "none"){o7E.pattern=F7C;}this.stx.plotLine(e7E,I7E,J7E,Y7E,k7E,"segment",m7E,O7E,o7E);if(this.p2){H9u.B1T(36);this.stx.plotLine(e7E,I7E,H9u.f1T(Y7E,J7E,d7E),d7E,k7E,"segment",m7E,O7E,o7E);}if(this.highlighted){t7E=this.highlighted == "p0"?! !1:![];W7E=this.highlighted == "p1"?! !1:![];D7E=this.highlighted == "p2"?! ![]:! !0;this.littleCircle(m7E,e7E,J7E,t7E);this.littleCircle(m7E,I7E,Y7E,W7E);this.littleCircle(m7E,I7E,d7E,D7E);}};Q0E.Drawing.channel.prototype.reposition=function(C7E,p7E,r7E,h7E){H9u.Y9u();var h7C,M7E,y7E,F7E;h7C="mo";h7C+="v";h7C+="e";if(!p7E){return;}M7E=this.stx.panels[this.panelName];y7E=p7E.tick - r7E;F7E=p7E.value - h7E;if(p7E.action == h7C){this.setPoint(0,p7E.p0[0] - y7E,p7E.p0[1] - F7E,M7E.chart);this.setPoint(1,p7E.p1["0" - 0] - y7E,p7E.p1[1] - F7E,M7E.chart);this.setPoint(2,p7E.p2[0] - y7E,p7E.p2[1] - F7E,M7E.chart);this.render(C7E);}else if(p7E.action == "drag"){this[p7E.point]=[r7E,h7E];this.setPoint(+"0",this.p0[0],this.p0[1],M7E.chart);this.setPoint(1,this.p1[+"0"],this.p1[1],M7E.chart);this.setPoint(+"2",this.p2[0],this.p2[1],M7E.chart);this.render(C7E);}};Q0E.Drawing.channel.prototype.adjust=function(){H9u.Y9u();var z7E;z7E=this.stx.panels[this.panelName];if(!z7E){return;}this.setPoint(0,this.d0,this.v0,z7E.chart);this.setPoint(1,this.d1,this.v1,z7E.chart);this.setPoint(+"2",this.d1,this.v2,z7E.chart);;};Q0E.Drawing.channel.prototype.reconstruct=function(N7E,n7E){this.stx=N7E;this.color=n7E.col;this.fillColor=n7E.fc;this.panelName=n7E.pnl;this.pattern=n7E.ptrn;this.lineWidth=n7E.lw;this.d0=n7E.d0;this.d1=n7E.d1;this.tzo0=n7E.tzo0;this.tzo1=n7E.tzo1;H9u.z9u();this.v0=n7E.v0;this.v1=n7E.v1;this.v2=n7E.v2;this.adjust();};Q0E.Drawing.channel.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,v2:this.v2};};Q0E.Drawing.pitchfork=function(){this.name="pitchfork";this.dragToDraw=!"1";H9u.z9u();this.p2=null;};Q0E.inheritsFrom(Q0E.Drawing.pitchfork,Q0E.Drawing.channel);Q0E.Drawing.pitchfork.prototype.configs=[b7C,"lineWidth","pattern"];Q0E.Drawing.pitchfork.prototype.move=function(K7E,H7E,X7E){if(!this.penDown){return;}H9u.Y9u();this.copyConfig();if(this.p2 === null){this.p1=[H7E,X7E];}else {this.p2=[H7E,X7E];}this.render(K7E);};Q0E.Drawing.pitchfork.prototype.intersected=function(E7E,g7E,a7E){var G7E,s7E,g7C;if(!this.p0 || !this.p1 || !this.p2){return null;}G7E={0:this.p0,1:this.p1,2:this.p2};for(var j7E in G7E){if(this.pointIntersection(G7E[j7E]["0" ^ 0],G7E[j7E][1],a7E)){H9u.v1T(0);this.highlighted=H9u.n1T("p",j7E);return {action:"drag",point:"p" + j7E};}}s7E=this.rays;for(var U7E="0" | 0;U7E < s7E.length;U7E++){g7C="s";g7C+="eg";g7C+="m";g7C+="ent";if(this.lineIntersection(E7E,g7E,a7E,U7E?"ray":g7C,s7E[U7E]["0" - 0],s7E[U7E][1],! !"1")){this.highlighted=!0;return {action:"move",p0:Q0E.clone(this.p0),p1:Q0E.clone(this.p1),p2:Q0E.clone(this.p2),tick:E7E,value:g7E};}}return null;};Q0E.Drawing.pitchfork.prototype.render=function(Q9h){var q9h,V9h,l9h,S9h,A9h,u9h,R9h,L9h,f9h,v9h,c9h,T9h,P9h,b9h,B9h,u7C,w9h,m9h,j7C,O9h,I9h,d9h;q9h=this.stx.panels[this.panelName];if(!q9h){return;}V9h=this.stx;l9h=this.p2;if(!l9h){l9h=this.p1;}S9h=V9h.pixelFromTick(this.p0[0],q9h.chart);A9h=V9h.pixelFromTick(this.p1[0],q9h.chart);u9h=V9h.pixelFromTick(l9h[0],q9h.chart);R9h=V9h.pixelFromValueAdjusted(q9h,this.p0[0],this.p0[1]);L9h=V9h.pixelFromValueAdjusted(q9h,this.p1[0],this.p1[1]);f9h=V9h.pixelFromValueAdjusted(q9h,l9h["0" * 1],l9h[1]);v9h=this.lineWidth;c9h=this.getLineColor();T9h={pattern:this.pattern,lineWidth:v9h};P9h=+"50";H9u.B1T(21);b9h=H9u.f1T(L9h,R9h,2,f9h);H9u.B1T(37);B9h=H9u.n1T(S9h,u9h,"2",A9h);if(B9h < 0){P9h*=-1;}H9u.v1T(9);b9h*=H9u.f1T(B9h,P9h);H9u.B1T(4);H9u.Y9u();this.rays=[[[A9h,L9h],[u9h,f9h]],[[S9h,R9h],[H9u.f1T(A9h,u9h,2),H9u.n1T(L9h,f9h,2)]]];if(!(A9h == u9h && L9h == f9h)){H9u.B1T(1);this.rays.push([[A9h,L9h],[H9u.f1T(A9h,P9h),H9u.n1T(L9h,b9h)]],[[u9h,f9h],[H9u.f1T(u9h,P9h),H9u.f1T(f9h,b9h)]]);}for(var x9h=0;x9h < this.rays.length;x9h++){u7C="segmen";u7C+="t";w9h=this.rays[x9h];m9h=x9h?"ray":u7C;V9h.plotLine(w9h[0][+"0"],w9h[+"1"][0],w9h[0][1],w9h[+"1"][1],c9h,m9h,Q9h,q9h,T9h);}if(this.highlighted){j7C="p";j7C+="0";O9h=this.highlighted == j7C?! ![]:!{};I9h=this.highlighted == "p1"?! ![]:! !0;d9h=this.highlighted == "p2"?!"":! !"";this.littleCircle(Q9h,S9h,R9h,O9h);this.littleCircle(Q9h,A9h,L9h,I9h);this.littleCircle(Q9h,u9h,f9h,d9h);}};Q0E.Drawing.pitchfork.prototype.adjust=function(){var e9h;e9h=this.stx.panels[this.panelName];if(!e9h){return;}this.setPoint(+"0",this.d0,this.v0,e9h.chart);H9u.Y9u();this.setPoint(1,this.d1,this.v1,e9h.chart);this.setPoint(2,this.d2,this.v2,e9h.chart);};Q0E.Drawing.pitchfork.prototype.reconstruct=function(Y9h,J9h){this.stx=Y9h;this.color=J9h.col;this.panelName=J9h.pnl;this.pattern=J9h.ptrn;this.lineWidth=J9h.lw;this.d0=J9h.d0;this.d1=J9h.d1;H9u.z9u();this.d2=J9h.d2;this.tzo0=J9h.tzo0;this.tzo1=J9h.tzo1;this.tzo2=J9h.tzo2;this.v0=J9h.v0;this.v1=J9h.v1;this.v2=J9h.v2;this.adjust();};Q0E.Drawing.pitchfork.prototype.serialize=function(){H9u.Y9u();return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};};Q0E.Drawing.gartley=function(){this.name="gartley";this.dragToDraw=!1;this.maxSegments=4;this.shape=null;this.points=[];};Q0E.inheritsFrom(Q0E.Drawing.gartley,Q0E.Drawing.continuous);Q0E.Drawing.gartley.prototype.check=function(o9h,Z9h){if(!Z9h){return !0;}if(o9h[+"0"] >= Z9h[0] || o9h[1] == Z9h[1]){return ![];}if(this.segment == 1){if(o9h[1] < Z9h[1]){this.shape=440.45 === 7233?+"8.99":"M";}else {this.shape="W";}}else if(this.segment == 2){if(this.shape == ((859.41,5609) <= (242.02,498)?0xad9:"M") && o9h[1] < Z9h[1]){return ! !"";}else if(this.shape == ((465.58,9505) >= (4690,"419.98" - 0)?"W":868.29 >= +"2384"?6.73e+3:(3142,2123) !== 724.8?(0x200e,"M"):158.31) && o9h["1" | 0] > Z9h[1]){return ![];}else if((Z9h[1] - o9h["1" >> 1528489952]) / (this.points[0][1] - o9h[1]) < 0.618){return !1;}else if((Z9h[1] - o9h["1" - 0]) / (this.points[0][1] - o9h[1]) >= +"0.786"){return !{};}}else if(this.segment == "3" * 1){if(this.shape == ((846,113.15) <= (5880,4724)?(+"6310",302) === (840.94,9260)?(!"",4.35e+3):"M":! !{}) && o9h[1] > Z9h[1]){return ![];}else if(this.shape == "W" && o9h[1] < Z9h[1]){return ![];}else if((Z9h[1] - o9h[1]) / (this.points[1]["1" >> 1223710304] - o9h[1]) < 0.618){return !1;}else if((Z9h[1] - o9h["1" & 2147483647]) / (this.points[+"1"][1] - o9h[1]) >= 0.786){return ! !0;}}else if(this.segment == 4){if(this.shape == (554 < 5328?"M":(+"5130",270.81) !== (601.58,"5920" - 0)?+"7100" <= (633.78,+"198.91")?("7.66e+3" & 2147483647,899.18):4.95e+3:0x1ba2) && (o9h[1] < Z9h["1" | 1] || Z9h[1] < this.points[0][1])){return ![];}else if(this.shape == (7377 <= (817,+"120.34")?804.79:"W") && (o9h[+"1"] > Z9h[1] || Z9h[1] > this.points["0" & 2147483647][1])){return ![];}else if((this.points[1][1] - Z9h[1]) / (this.points[1][1] - this.points[2][1]) < 1.27){return ![];}else if((this.points[1]["1" << 783442560] - Z9h["1" & 2147483647]) / (this.points[1][+"1"] - this.points[+"2"][1]) >= 1.618){return !"1";}}return ! !"1";};Q0E.Drawing.gartley.prototype.click=function(W9h,i9h,t9h){var k9h;k9h=this.stx.panels[this.panelName];if(!k9h){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,i9h,t9h,k9h.chart);this.pts=[];this.penDown=!"";this.segment=+"1";return ![];}if(this.accidentalClick(i9h,t9h)){this.penDown=!"";return ![];}if(this.check(this.p0,this.p1)){if(this.segment == 1){this.points.push(this.p0);}this.points.push(this.p1);this.setPoint(1,i9h,t9h,k9h.chart);this.segment++;if(this.segment > this.maxSegments){this.setPoint(0,this.points[0][0],this.points[0]["1" * 1],k9h.chart);this.penDown=!{};return ! !1;}this.pts.push(this.d1,this.tzo1,this.v1);this.setPoint(+"0",i9h,t9h,k9h.chart);;}H9u.z9u();return !"1";};Q0E.Drawing.gartley.prototype.render=function(p9h){var P7C,D9h,j9h,z9h,G9h,n9h,F9h,s9h,N9h,h9h,r9h,y9h,a1C,B1C,Q1C,H9h,X9h,K9h,U9h;H9u.Y9u();P7C="dot";P7C+="te";P7C+="d";D9h=this.stx.panels[this.panelName];if(!D9h){return;}j9h=this.stx.pixelFromTick(this.p0[0],D9h.chart);z9h=this.stx.pixelFromTick(this.p1[0],D9h.chart);G9h=this.stx.pixelFromValueAdjusted(D9h,this.p0[0],this.p0[1]);n9h=this.stx.pixelFromValueAdjusted(D9h,this.p1[0],this.p1["1" - 0]);if(this.segment == 2){this.drawDropZone(p9h,0.618 * this.points[0]["1" * 1] + +"0.382" * this.p0[+"1"],0.786 * this.points[0][1] + 0.214 * this.p0[+"1"],this.p0[0]);}else if(this.segment == 3){this.drawDropZone(p9h,0.618 * this.points[1][1] + 0.382 * this.p0[1],0.786 * this.points["1" ^ 0][1] + 0.214 * this.p0[1],this.p0[0]);}else if(this.segment == 4){H9u.B1T(30);var b9s=H9u.f1T(18,610,34);H9u.B1T(5);var g9s=H9u.n1T(20,14,7);H9u.B1T(38);var u9s=H9u.n1T(16,13,19,17);F9h=1.618 * this.points[b9s]["1" - 0] - 0.618 * this.points[g9s][u9s];if(this.shape == ((235.51,"9249" | 1024) !== (625,"811.59" - 0)?+"2470" > 9433?218.52 === (347,373.83)?(6.03e+3,! ![]):329.60:"M":4.82e+3)){F9h=Math.max(F9h,this.points[0][1]);}else {F9h=Math.min(F9h,this.points[0]["1" - 0]);}this.drawDropZone(p9h,F9h,("1.27" - 0) * this.points[2][1] - 0.27 * this.points["1" & 2147483647][1],this.p0[0]);}s9h=this.lineWidth;N9h=this.getLineColor();h9h={pattern:this.pattern,lineWidth:s9h};if((this.penDown || this.highlighted) && this.pattern == "none"){h9h.pattern=P7C;}if(this.segment <= this.maxSegments){this.stx.plotLine(j9h,z9h,G9h,n9h,N9h,this.name,p9h,D9h,h9h);}r9h=this.fillColor;y9h=[];if(this.points.length){H9u.v1T(14);a1C=-H9u.n1T(148934666,"535213534");B1C=618265694;H9u.B1T(1);Q1C=H9u.f1T("2",0);for(var S1C="1" - 0;H9u.D2C(S1C.toString(),S1C.toString().length,18573) !== a1C;S1C++){p9h.beginPath();Q1C+=2;}if(H9u.A2C(Q1C.toString(),Q1C.toString().length,2758) !== B1C){p9h.beginPath();}for(var M9h=1;M9h < this.points.length && M9h <= 4;M9h++){H9h=this.stx.pixelFromTick(this.points[M9h - 1][0],D9h.chart);X9h=this.stx.pixelFromTick(this.points[M9h][0],D9h.chart);K9h=this.stx.pixelFromValueAdjusted(D9h,this.points[M9h - 1][0],this.points[M9h - 1][1]);U9h=this.stx.pixelFromValueAdjusted(D9h,this.points[M9h][0],this.points[M9h][1]);if(M9h == 1){y9h.push(H9h,K9h);}y9h.push(X9h,U9h);this.stx.plotLine(H9h,X9h,K9h,U9h,N9h,this.name,p9h,D9h,h9h);}if(this.points.length == 2 || this.points.length == ("4" ^ 0)){y9h.push(z9h,n9h);}if(this.points[2]){y9h.push(this.stx.pixelFromTick(this.points[2]["0" ^ 0],D9h.chart),this.stx.pixelFromValueAdjusted(D9h,this.points[2][0],this.points[2][1]));}if(r9h && r9h != "auto" && !Q0E.isTransparent(r9h)){for(var C9h=+"0";C9h < y9h.length;C9h+=2){if(C9h === ("0" ^ 0)){p9h.moveTo(y9h[0],y9h[1]);}p9h.lineTo(y9h[C9h],y9h[C9h + 1]);}p9h.fillStyle=r9h;p9h.globalAlpha=0.2;p9h.closePath();p9h.fill();p9h.globalAlpha=1;}};};Q0E.Drawing.gartley.prototype.lineIntersection=function(q2h,V2h,A2h,u2h){var E9h,a9h;E9h=this.points;a9h=this.stx.panels[this.panelName];if(E9h.length != this.maxSegments + 1 || !a9h){return !"1";}for(var g9h=0;g9h < E9h.length - 1;g9h++){if(Q0E.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,q2h,V2h,A2h,"segment",E9h[g9h],E9h[g9h + ("1" - 0)])){return !"";}}return !{};};Q0E.Drawing.gartley.prototype.boxIntersection=function(x2h,w2h,f2h){var l2h,P2h;if(!this.p0 || !this.p1){return !1;}if(f2h.x0 > Math.max(this.p0[0],this.p1[0]) || f2h.x1 < Math.min(this.p0[0],this.p1[0])){return !{};}l2h=Math.min(this.p0[1],this.p1[+"1"]);P2h=Math.max(this.p0[1],this.p1["1" << 785122464]);for(var L2h=0;L2h < this.points.length;L2h++){l2h=Math.min(l2h,this.points[L2h][1]);P2h=Math.max(P2h,this.points[L2h][+"1"]);}if(f2h.y1 > P2h || f2h.y0 < l2h){return ![];}return ! !{};};Q0E.Drawing.gartley.prototype.reposition=function(T2h,S2h,b2h,B2h){H9u.Y9u();var Z7C,R2h,v2h,c2h,v9C,s9C,i9C;Z7C="m";Z7C+="o";Z7C+="ve";if(!S2h){return;}R2h=this.stx.panels[this.panelName];v2h=S2h.tick - b2h;S2h.tick=b2h;c2h=S2h.value - B2h;S2h.value=B2h;if(S2h.action == Z7C){v9C=- +"1121019427";s9C=465484664;i9C=2;for(var D9C=1;H9u.D2C(D9C.toString(),D9C.toString().length,64440) !== v9C;D9C++){this.pts=[];i9C+=2;}if(H9u.D2C(i9C.toString(),i9C.toString().length,93791) !== s9C){this.pts=[];}this.pts=[];for(var Q2h=0;Q2h < this.points.length;Q2h++){this.points[Q2h][0]-=v2h;this.points[Q2h][1]-=c2h;this.setPoint(1,this.points[Q2h][0],this.points[Q2h][1],R2h.chart);if(Q2h && Q2h < this.points.length - 1){this.pts.push(this.d1,this.tzo1,this.v1);}this.points[Q2h]=this.p1;}this.setPoint(0,this.points[0]["0" | 0],this.points[0][1],R2h.chart);this.render(T2h);;}};Q0E.Drawing.gartley.prototype.configs=[C7C,"fillColor",z7C,"pattern"];Q0E.Drawing.gartley.prototype.adjust=function(){var m2h;m2h=this.stx.panels[this.panelName];if(!m2h){return;}H9u.z9u();this.reconstructPoints();this.setPoint(+"0",this.d0,this.v0,m2h.chart);this.points.unshift(this.p0);this.setPoint(1,this.d1,this.v1,m2h.chart);this.points.push(this.p1);};Q0E.Drawing.gartley.prototype.reconstructPoints=function(){var d2h,I2h;d2h=this.stx.panels[this.panelName];if(!d2h){return;}this.points=[];H9u.Y9u();for(var O2h=0;O2h < this.pts.length;O2h+="3" >> 716079424){I2h=Q0E.strToDateTime(this.pts[O2h]);I2h.setMinutes(I2h.getMinutes() + Number(this.pts[O2h + ("1" ^ 0)]) - I2h.getTimezoneOffset());this.points.push([this.stx.tickFromDate(Q0E.yyyymmddhhmmssmmm(I2h),d2h.chart),this.pts[O2h + ("2" >> 2118053920)]]);}};Q0E.Drawing.gartley.prototype.reconstruct=function(J2h,e2h){this.stx=J2h;this.color=e2h.col;this.fillColor=e2h.fc;this.panelName=e2h.pnl;this.pattern=e2h.ptrn;this.lineWidth=e2h.lw;this.d0=e2h.d0;this.d1=e2h.d1;this.tzo0=e2h.tzo0;H9u.z9u();this.tzo1=e2h.tzo1;this.v0=e2h.v0;this.v1=e2h.v1;this.pts=e2h.pts.split(1110 < 6516?",":872 !== (51,703.15)?(1341,+"244.1") !== (971,107)?("U",360.47):! !0:(484.47,! !{}));this.adjust();};Q0E.Drawing.gartley.prototype.serialize=function(){H9u.z9u();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,pts:this.pts.join(",")};};Q0E.Drawing.freeform=function(){this.name="freeform";this.splineTension=0.3;this.dragToDraw=! ![];};Q0E.inheritsFrom(Q0E.Drawing.freeform,Q0E.Drawing.segment);Q0E.Drawing.freeform.prototype.measure=function(){};Q0E.Drawing.freeform.prototype.intersected=function(Z2h,o2h,Y2h){var h3C,b3C,g3C;if(Y2h.x0 > this.hiX || Y2h.x1 < this.lowX){return null;}if(Y2h.y1 > this.hiY || Y2h.y0 < this.lowY){return null;}this.highlighted=! ![];H9u.Y9u();h3C=-1842990800;b3C=-479054574;g3C=2;for(var j3C=1;H9u.D2C(j3C.toString(),j3C.toString().length,88868) !== h3C;j3C++){return {action:"",p0:Q0E.clone(this.p0),tick:Z2h,value:o2h};}if(H9u.A2C(g3C.toString(),g3C.toString().length,+"28903") !== b3C){return {action:"move",p0:Q0E.clone(this.p0),tick:Z2h,value:o2h};}};Q0E.Drawing.freeform.prototype.reposition=function(D2h,k2h,p2h,M2h){var i2h,t2h,W2h;if(!k2h){return;}i2h=this.stx.panels[this.panelName];t2h=k2h.tick - p2h;W2h=k2h.value - M2h;if(k2h.action == "move"){this.setPoint(0,k2h.p0[0] - t2h,k2h.p0[1] - W2h,i2h.chart);this.adjust();this.render(D2h);}};Q0E.Drawing.freeform.prototype.click=function(h2h,F2h,r2h){var M7C,y2h,C2h;M7C="a";M7C+="u";M7C+="to";y2h=this.stx.panels[this.panelName];if(!y2h){return;}if(this.penDown === ![]){this.copyConfig();this.startX=Math.round(this.stx.resolveX(this.stx.pixelFromTick(F2h,y2h.chart)));this.startY=Math.round(this.stx.resolveY(this.stx.pixelFromValueAdjusted(y2h,F2h,r2h)));C2h=this.stx.dateFromTick(F2h,y2h.chart,! ![]);this.d0=Q0E.yyyymmddhhmmssmmm(C2h);this.tzo0=C2h.getTimezoneOffset();this.v0=r2h;this.p0=[Q0E.ChartEngine.crosshairX - this.startX,Q0E.ChartEngine.crosshairY - this.startY];this.nodes=[this.p0[0],this.p0[1]];this.pNodes=[this.p0];this.candleWidth=this.stx.layout.candleWidth;this.multiplier=y2h.yAxis.multiplier;this.interval=this.stx.layout.interval;this.periodicity=this.stx.layout.periodicity;this.tempSplineTension=this.splineTension;this.splineTension=-1;document.body.style.cursor="pointer";this.penDown=! !"1";return !{};}this.penDown=!{};this.splineTension=this.tempSplineTension;document.body.style.cursor=M7C;return ! !"1";};Q0E.Drawing.freeform.prototype.move=function(N2h,H2h,X2h){var z2h,n2h;if(!this.penDown){return;}z2h=this.stx.panels[this.panelName];n2h=this.stx.dateFromTick(H2h,z2h.chart,! !{});this.d1=Q0E.yyyymmddhhmmssmmm(n2h);this.tzo1=n2h.getTimezoneOffset();this.v1=X2h;this.p1=[Q0E.ChartEngine.crosshairX - this.startX,z2h.yAxis.flipped?this.startY - Q0E.ChartEngine.crosshairY:Q0E.ChartEngine.crosshairY - this.startY];if(this.pNodes.length > 2){if(this.p1["0" * 1] == this.pNodes[this.pNodes.length - 2][0] && this.p1[0] == this.pNodes[this.pNodes.length - 1][0]){this.pNodes.length--;this.nodes.length-=2;}else if(this.p1[1] == this.pNodes[this.pNodes.length - 2][1] && this.p1[1] == this.pNodes[this.pNodes.length - 1][1]){this.pNodes.length--;this.nodes.length-=2;}}this.nodes.push(this.p1[0],this.p1[1]);this.pNodes.push(this.p1);this.render(N2h);return !{};};Q0E.Drawing.freeform.prototype.intervalRatio=function(s2h,K2h,V1h,A1h,j2h,G2h){var o7C,O7C,U7C,U2h,d7C,m7C,e7C;function a2h(P1h,x1h){return 30;}o7C=1954919828;O7C=-113302749;U7C=2;function q1h(u1h,L1h){return 5;}for(var p7C=1;H9u.D2C(p7C.toString(),p7C.toString().length,47525) !== o7C;p7C++){U2h=4;U7C+=+"2";}if(H9u.A2C(U7C.toString(),U7C.toString().length,+"22849") !== O7C){U2h=0;}function g2h(f1h,l1h){H9u.z9u();return 5;}if(s2h == K2h){U2h=1;}else if(!isNaN(s2h) && !isNaN(K2h)){H9u.v1T(9);U2h=H9u.f1T(K2h,s2h);}else if(isNaN(s2h)){d7C="d";d7C+="a";d7C+="y";if(s2h == "month"){m7C="w";m7C+="ee";m7C+="k";if(K2h == m7C){U2h=q1h(j2h,G2h);}else if(K2h == "day"){U2h=a2h(j2h,G2h);}else if(!isNaN(K2h)){U2h=a2h(j2h,G2h) * E2h(j2h,G2h) / K2h;}}else if(s2h == "week"){if(K2h == "month"){H9u.v1T(1);var j9s=H9u.n1T(8,7);U2h=j9s / q1h(j2h,G2h);}if(K2h == "day"){U2h=g2h(j2h,G2h);}else if(!isNaN(K2h)){U2h=g2h(j2h,G2h) * E2h(j2h,G2h) / K2h;}}else if(s2h == d7C){if(K2h == "week"){H9u.v1T(39);var P9s=H9u.f1T(2,17,17);U2h=P9s / g2h(j2h,G2h);}else if(K2h == "month"){H9u.v1T(0);var Z9s=H9u.n1T(0,1);U2h=Z9s / a2h(j2h,G2h);}else if(!isNaN(K2h)){U2h=E2h(j2h,G2h) / K2h;}}}else if(!isNaN(s2h)){e7C="w";e7C+="ee";e7C+="k";if(K2h == "month"){U2h=s2h / (a2h(j2h,G2h) * E2h(j2h,G2h));}else if(K2h == e7C){U2h=s2h / (g2h(j2h,G2h) * E2h(j2h,G2h));}else if(K2h == "day"){U2h=s2h / E2h(j2h,G2h);}}function E2h(Q1h,w1h){if(Q0E.Market.Symbology.isForexSymbol(w1h)){return 1440;}H9u.Y9u();return 390;}H9u.B1T(9);U2h*=H9u.f1T(A1h,V1h);H9u.Y9u();return U2h;};Q0E.Drawing.freeform.prototype.render=function(O1h){var S1h,v1h,I1h,d1h,e1h,c1h,R1h,J1h,T1h,m1h,Y1h,B1h;S1h=this.stx.panels[this.panelName];if(!S1h){return;}v1h=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,S1h.chart.symbol);if(v1h === 0){return;}I1h=this.stx.layout.candleWidth / this.candleWidth;d1h=S1h.yAxis.multiplier / this.multiplier;this.setPoint(+"0",this.d0,this.v0,S1h.chart);e1h=this.stx.pixelFromTick(this.p0[0],S1h.chart);c1h=this.stx.pixelFromValueAdjusted(S1h,this.p0[0],this.p0[1]);R1h=[];J1h=this.lineWidth;T1h=this.getLineColor();m1h={pattern:this.pattern,lineWidth:J1h};for(var b1h=0;b1h < this.pNodes.length;b1h++){Y1h=v1h * I1h * this.pNodes[b1h][0] + e1h;H9u.B1T(30);var C9s=H9u.f1T(9,116,13);B1h=d1h * this.pNodes[b1h][C9s];if(S1h.yAxis.flipped){H9u.v1T(1);B1h=H9u.f1T(c1h,B1h);}else {B1h+=c1h;}R1h.push(Y1h,B1h);}if(!R1h.length){return;}if(this.splineTension < 0){this.stx.connectTheDots(R1h,T1h,this.name,O1h,S1h,m1h);}else {this.stx.plotSpline(R1h,this.splineTension,T1h,this.name,O1h,! !{},m1h);}};Q0E.Drawing.freeform.prototype.adjust=function(){var Z1h,M1h,o1h,W1h,D1h,i1h,p1h,t1h;Z1h=this.stx.panels[this.panelName];if(!Z1h){return;}M1h=[this.nodes[0],this.nodes[1]];this.pNodes=[M1h];this.lowX=this.nodes[+"0"];this.hiX=this.nodes[0];H9u.v1T(40);this.lowY=this.nodes[H9u.n1T(1934634720,"1")];this.hiY=this.nodes[1];for(var k1h=2;k1h < this.nodes.length;k1h+=2){H9u.v1T(0);o1h=[this.nodes[k1h],this.nodes[H9u.f1T(k1h,1)]];this.pNodes.push(o1h);this.lowX=Math.min(this.lowX,o1h[0]);this.hiX=Math.max(this.hiX,o1h[0]);this.lowY=Math.max(this.lowY,o1h[+"1"]);this.hiY=Math.min(this.hiY,o1h[1]);}W1h=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,Z1h.chart.symbol);if(W1h === 0){return;}D1h=this.stx.layout.candleWidth / this.candleWidth;i1h=Z1h.yAxis.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,Z1h.chart);p1h=this.stx.pixelFromTick(this.p0[0],Z1h.chart);t1h=this.stx.pixelFromValueAdjusted(Z1h,this.p0["0" * 1],this.p0[1]);this.lowX=this.stx.tickFromPixel(Math.floor(W1h * D1h * this.lowX) + p1h,Z1h.chart);this.hiX=this.stx.tickFromPixel(Math.ceil(W1h * D1h * this.hiX) + p1h,Z1h.chart);if(Z1h.yAxis.flipped){this.lowY=this.stx.valueFromPixel(t1h - Math.floor(i1h * this.lowY),Z1h);this.hiY=this.stx.valueFromPixel(t1h - Math.ceil(i1h * this.hiY),Z1h);}else {this.lowY=this.stx.valueFromPixel(Math.floor(i1h * this.lowY) + t1h,Z1h);this.hiY=this.stx.valueFromPixel(Math.ceil(i1h * this.hiY) + t1h,Z1h);}};Q0E.Drawing.freeform.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,cw:Number(this.candleWidth.toFixed(+"4")),mlt:Number(this.multiplier.toFixed(4)),d0:this.d0,tzo0:this.tzo0,v0:this.v0,inter:this.interval,pd:this.periodicity,nodes:this.nodes};};Q0E.Drawing.freeform.prototype.reconstruct=function(F1h,y1h){this.stx=F1h;this.color=y1h.col;this.panelName=y1h.pnl;this.pattern=y1h.ptrn;this.lineWidth=y1h.lw;this.candleWidth=y1h.cw;this.multiplier=y1h.mlt;this.d0=y1h.d0;this.tzo0=y1h.tzo0;this.v0=y1h.v0;this.interval=y1h.inter;this.periodicity=y1h.pd;this.nodes=y1h.nodes;this.adjust();};Q0E.Drawing.callout=function(){this.name="callout";this.arr=[];this.w=0;this.h=0;this.padding=4;this.text="";this.ta=null;this.fontSize=0;this.font={};this.stemEntry="";this.defaultWidth=50;this.defaultHeight=10;;};Q0E.inheritsFrom(Q0E.Drawing.callout,Q0E.Drawing.annotation);Q0E.Drawing.callout.prototype.configs=["color","fillColor","lineWidth","pattern","font"];Q0E.Drawing.callout.prototype.copyConfig=function(C1h){H9u.z9u();Q0E.Drawing.copyConfig(this,C1h);this.borderColor=this.color;};Q0E.Drawing.callout.prototype.move=function(r1h,h1h,z1h){if(!this.penDown){return;}this.copyConfig();H9u.Y9u();this.p0=[h1h,z1h];this.render(r1h);};Q0E.Drawing.callout.prototype.onChange=function(X1h){var H1h,N1h,n1h;H1h=this.stx.panels[this.panelName];if(!H1h){return;}N1h=X1h.target;this.w=N1h.clientWidth;H9u.z9u();this.h=N1h.clientHeight;n1h=this.context || this.stx.chart.tempCanvas.context;Q0E.clearCanvas(n1h.canvas,this.stx);this.render(n1h);this.edit(n1h);};Q0E.Drawing.callout.prototype.render=function(K1h){var E7C,A3h,w3h,x3h,j1h,U1h,s1h,G1h,u3h,L3h,V3h,g1h,f3h,a1h,l3h,E1h,L7C,q3h,J7C,O3C,U3C,f3C,Q3h;E7C="al";E7C+="ph";E7C+="abeti";E7C+="c";this.context=K1h;A3h=this.stx.panels[this.panelName];if(!A3h){return;}w3h=this.stx.pixelFromTick(this.p0[0],A3h.chart);x3h=this.stx.pixelFromValueAdjusted(A3h,this.p0[0],this.p0[1]);if(isNaN(x3h)){return;}K1h.font=this.fontString;K1h.textBaseline="top";j1h=w3h;U1h=x3h;H9u.B1T(41);var z9s=H9u.n1T(17,17,6,1,9);s1h=this.w / z9s;H9u.B1T(5);var M9s=H9u.n1T(16,18,0);G1h=this.h / M9s;if(this.penDown){s1h=this.defaultWidth;G1h=this.defaultHeight;if(!G1h){G1h=this.fontSize;}}u3h=this.lineWidth;if(!u3h){u3h=1.1;}L3h=this.color;if(L3h == "auto" || Q0E.isTransparent(L3h)){L3h=this.stx.defaultColor;}V3h=this.borderColor;if(V3h == "auto" || Q0E.isTransparent(V3h)){V3h=this.stx.defaultColor;}if(this.highlighted){V3h=this.stx.getCanvasColor("stx_highlight_vector");}E1h=Math.min(Math.min(s1h,G1h) / 2,8);if(this.stem){L7C="c";L7C+="m";if(this.stem.t){g1h=this.stx.pixelFromTick(this.stem.t);a1h=this.stx.pixelFromValueAdjusted(A3h,this.stem.t,this.stem.v);}else if(this.stem.x){g1h=j1h;a1h=U1h;j1h+=this.stem.x;U1h+=this.stem.y;}q3h="";if(g1h >= j1h + s1h){H9u.B1T(0);f3h=H9u.n1T(j1h,s1h);q3h="r";}else if(g1h > j1h - s1h && g1h < j1h + s1h){f3h=j1h;q3h="c";}else if(g1h <= j1h - s1h){H9u.B1T(1);f3h=H9u.f1T(j1h,s1h);q3h=(3320,664.66) != (7390,494)?"l":(135.42,6700) !== 9590?(5510,898) > 1260?("u","K"):(! !1,0x1612):0x1f3f;}if(a1h >= U1h + G1h){H9u.v1T(0);l3h=H9u.n1T(U1h,G1h);q3h+=256.11 >= 9941?368:5519 < (6820,6826)?"b":![];}else if(a1h > U1h - G1h && a1h < U1h + G1h){l3h=U1h;q3h+="m";}else if(a1h <= U1h - G1h){H9u.v1T(1);l3h=H9u.n1T(U1h,G1h);q3h+=("698.28" - 0,582.27) == +"876.65"?(!0,0xd00):"t";}this.stemEntry=q3h;if(q3h != L7C){g1h=Math.round(g1h);f3h=Math.round(f3h);a1h=Math.round(a1h);l3h=Math.round(l3h);}}if(this.highlighted){J7C="stx_annotatio";J7C+="n_highlight_bg";this.stx.canvasColor(J7C,K1h);}else {if(this.fillColor){K1h.fillStyle=this.fillColor;K1h.globalAlpha=0.4;}else if(this.stem){O3C=1310043162;U3C=-939087342;f3C=2;for(var N3C=1;H9u.D2C(N3C.toString(),N3C.toString().length,54593) !== O3C;N3C++){K1h.fillStyle=this.stx.containerColor;f3C+=2;}if(H9u.A2C(f3C.toString(),f3C.toString().length,81065) !== U3C){K1h.fillStyle=this.stx.containerColor;}}}K1h.strokeStyle=V3h;if(K1h.setLineDash){K1h.setLineDash(Q0E.borderPatternToArray(u3h,this.pattern));K1h.lineDashOffset=0;;}if(V3h){K1h.beginPath();K1h.lineWidth=u3h;H9u.B1T(5);K1h.moveTo(H9u.f1T(E1h,s1h,j1h),H9u.n1T(U1h,G1h,H9u.B1T(1)));if(this.stemEntry != "rt"){H9u.B1T(0);K1h.quadraticCurveTo(H9u.n1T(j1h,s1h),H9u.f1T(U1h,G1h,H9u.v1T(1)),H9u.n1T(j1h,s1h,H9u.v1T(0)),H9u.n1T(G1h,U1h,E1h,H9u.v1T(2)));;}else {K1h.lineTo(g1h,a1h);H9u.v1T(0);K1h.lineTo(H9u.n1T(j1h,s1h),H9u.n1T(G1h,U1h,E1h,H9u.B1T(2)));}H9u.B1T(0);K1h.lineTo(H9u.n1T(j1h,s1h),H9u.n1T(U1h,E1h,2,H9u.B1T(42)));if(this.stemEntry == "rm"){K1h.lineTo(g1h,a1h);}H9u.B1T(0);K1h.lineTo(H9u.f1T(j1h,s1h),H9u.f1T(2147483647,"2",U1h,E1h,H9u.B1T(43)));H9u.v1T(0);K1h.lineTo(H9u.f1T(j1h,s1h),H9u.f1T(E1h,G1h,U1h,H9u.B1T(5)));if(this.stemEntry != "rb"){H9u.B1T(0);K1h.quadraticCurveTo(H9u.n1T(j1h,s1h),H9u.f1T(U1h,G1h,H9u.B1T(0)),H9u.n1T(E1h,s1h,j1h,H9u.B1T(5)),H9u.n1T(U1h,G1h,H9u.v1T(0)));;}else {K1h.lineTo(g1h,a1h);H9u.v1T(5);K1h.lineTo(H9u.f1T(E1h,s1h,j1h),H9u.f1T(U1h,G1h,H9u.B1T(0)));}H9u.B1T(44);K1h.lineTo(H9u.n1T("2",j1h,E1h),H9u.n1T(U1h,G1h,H9u.v1T(0)));if(this.stemEntry == "cb"){K1h.lineTo(g1h,a1h);}H9u.B1T(42);K1h.lineTo(H9u.n1T(j1h,E1h,2),H9u.n1T(U1h,G1h,H9u.B1T(0)));H9u.B1T(2);K1h.lineTo(H9u.f1T(s1h,j1h,E1h),H9u.n1T(U1h,G1h,H9u.v1T(0)));if(this.stemEntry != "lb"){H9u.B1T(1);K1h.quadraticCurveTo(H9u.n1T(j1h,s1h),H9u.f1T(U1h,G1h,H9u.v1T(0)),H9u.n1T(j1h,s1h,H9u.v1T(1)),H9u.f1T(E1h,G1h,U1h,H9u.B1T(5)));;}else {K1h.lineTo(g1h,a1h);H9u.B1T(1);K1h.lineTo(H9u.n1T(j1h,s1h),H9u.f1T(E1h,G1h,U1h,H9u.B1T(5)));}H9u.B1T(1);K1h.lineTo(H9u.n1T(j1h,s1h),H9u.n1T(E1h,2,U1h,H9u.v1T(45)));if(this.stemEntry == "lm"){K1h.lineTo(g1h,a1h);}H9u.v1T(1);K1h.lineTo(H9u.f1T(j1h,s1h),H9u.n1T(U1h,E1h,2,H9u.v1T(42)));H9u.B1T(1);K1h.lineTo(H9u.n1T(j1h,s1h),H9u.n1T(G1h,U1h,E1h,H9u.B1T(2)));if(this.stemEntry != "lt"){H9u.v1T(1);K1h.quadraticCurveTo(H9u.n1T(j1h,s1h),H9u.f1T(U1h,G1h,H9u.v1T(1)),H9u.n1T(s1h,j1h,E1h,H9u.v1T(2)),H9u.n1T(U1h,G1h,H9u.B1T(1)));;}else {K1h.lineTo(g1h,a1h);H9u.v1T(2);K1h.lineTo(H9u.f1T(s1h,j1h,E1h),H9u.f1T(U1h,G1h,H9u.B1T(1)));}H9u.B1T(42);K1h.lineTo(H9u.n1T(j1h,E1h,2),H9u.n1T(U1h,G1h,H9u.v1T(1)));if(this.stemEntry == "ct"){K1h.lineTo(g1h,a1h);}H9u.B1T(45);K1h.lineTo(H9u.f1T(E1h,2,j1h),H9u.n1T(U1h,G1h,H9u.v1T(1)));H9u.v1T(5);K1h.lineTo(H9u.f1T(E1h,s1h,j1h),H9u.f1T(U1h,G1h,H9u.B1T(1)));K1h.fill();K1h.globalAlpha=1;if(this.pattern != "none"){K1h.stroke();}}if(this.highlighted){this.stx.canvasColor("stx_annotation_highlight",K1h);}else {K1h.fillStyle=L3h;}U1h+=this.padding;if(!this.ta){for(var P3h=0;P3h < this.arr.length;P3h++){K1h.fillText(this.arr[P3h],j1h - s1h + this.padding,U1h - G1h);U1h+=this.fontSize;}}K1h.textBaseline=E7C;if(this.highlighted && !this.noHandles){Q3h=this.highlighted == "p0"?!0:!{};this.littleCircle(K1h,g1h,a1h,Q3h);};};Q0E.Drawing.callout.prototype.click=function(R3h,b3h,B3h){var S3h,X1C,l1C,F1C;if(this.stx.overXAxis || this.stx.overYAxis){return;}S3h=this.stx.panels[this.panelName];this.copyConfig();this.setPoint(0,b3h,B3h,S3h.chart);if(!this.penDown){this.stem={d:this.d0,v:this.v0};this.penDown=! ![];this.adjust();return !{};}X1C=-1956758470;l1C=-256618329;F1C=2;for(var b1C="1" >> 1966981280;H9u.D2C(b1C.toString(),b1C.toString().length,93072) !== X1C;b1C++){this.adjust();H9u.B1T(23);F1C+=H9u.n1T(1,"2");}if(H9u.D2C(F1C.toString(),F1C.toString().length,97335) !== l1C){this.adjust();}this.edit(R3h);this.penDown=!{};return !{};};Q0E.Drawing.callout.prototype.reposition=function(d3h,v3h,O3h,I3h){var c3h,T3h,m3h;if(!v3h){return;}c3h=this.stx.panels[this.panelName];T3h=v3h.tick - O3h;H9u.z9u();m3h=v3h.value - I3h;if(v3h.stem){if(v3h.action == "drag"){this.stem={d:this.stx.dateFromTick(O3h,c3h.chart,! !{}),v:I3h};}else if(v3h.action == "move"){this.setPoint(0,v3h.p0[0] - T3h,v3h.p0["1" & 2147483647] - m3h,c3h.chart);this.stem={d:this.stx.dateFromTick(this.stx.tickFromDate(v3h.stem.d,c3h.chart) - T3h),v:v3h.stem.v - m3h};}this.adjust();}else {this.setPoint(0,v3h.p0[0] - T3h,v3h.p0[1] - m3h,c3h.chart);}this.render(d3h);};Q0E.Drawing.callout.prototype.lineIntersection=function(C3h,r3h,y3h,F3h){var R7C,i3h,e3h,Z3h,t3h,W3h,D3h,J3h,o3h,k3h,p3h,M3h,b0C,g0C,u0C,Y3h;R7C="s";R7C+="t";R7C+="ri";R7C+="ng";i3h=this.stx.panels[this.panelName];e3h=this.stem;Z3h=this.p0;t3h=this.stx;if(!Z3h || !e3h || !i3h){return !{};}W3h=e3h.t || this.stx.tickFromDate(e3h.d,i3h.chart);D3h={x0:Z3h[0],x1:W3h,y0:Z3h[1],y1:e3h.v};J3h=Q0E.convertBoxToPixels(t3h,this.panelName,D3h);o3h=J3h.x0;k3h=J3h.y0;p3h=J3h.x1;M3h=J3h.y1;if(typeof this.stemEntry == R7C){b0C=-743118507;g0C=-209995864;u0C=+"2";for(var P0C=1;H9u.D2C(P0C.toString(),P0C.toString().length,87045) !== b0C;P0C++){if(this.stemEntry.indexOf((2555,6334) == +"3475"?"r":("547509" & 2147483647,6081) !== (19100,"5442" | 1282)?(! ![],"r"):+"7521832") <= ~2){H9u.B1T(46);var m9s=H9u.f1T(4,5,5,85,43);o3h%=this.w - m9s;}else if(this.stemEntry.indexOf("r") < +("0" - 0)){H9u.v1T(1);var d9s=H9u.n1T(16,12);o3h*=this.w % d9s;}u0C+=2;}if(H9u.A2C(u0C.toString(),u0C.toString().length,50326) !== g0C){if(this.stemEntry.indexOf((4330,8473) != 6040?"l":("644.86" - 0,9634) === ("36.78" - 0,8702)?(! !0,"N"):4.92e+3) > -1){o3h-=this.w / 2;}else if(this.stemEntry.indexOf("r") > -1){o3h+=this.w / ("2" ^ 0);}}if(this.stemEntry.indexOf(+"5910" <= 4402?(8012,+"554.33") < 927?1.81e+3:! !{}:"t") > -1){H9u.v1T(47);var e9s=H9u.f1T(6,4,4,1);k3h-=this.h / e9s;}else if(this.stemEntry.indexOf((2770,4285) > (793.81,2890)?(6800,439) === (4889,1620)?![]:9680 != 9330?"b":! ![]:("O",0xf27)) > -1){H9u.v1T(48);var L9s=H9u.f1T(3,1,5,1);k3h+=this.h / L9s;}}Y3h=Q0E.convertBoxToPixels(t3h,this.panelName,y3h);return Q0E.boxIntersects(Y3h.x0,Y3h.y0,Y3h.x1,Y3h.y1,o3h,k3h,p3h,M3h,F3h);};Q0E.Drawing.callout.prototype.intersected=function(z3h,N3h,h3h){var n3h,G7C,H3h,X3h,K3h,U3h,j3h,G3h,s3h;n3h=this.stx.panels[this.panelName];if(!this.p0){return null;}if(this.pointIntersection(this.stem.t,this.stem.v,h3h)){G7C="p";G7C+="0";this.highlighted=G7C;return {action:"drag",stem:! ![]};}H9u.v1T(30);var J9s=H9u.f1T(16,158,10);H3h=this.stx.pixelFromTick(this.p0[0],n3h.chart) - this.w / J9s;H9u.B1T(1);var E9s=H9u.f1T(21,20);H9u.v1T(2);var R9s=H9u.n1T(11,5,8);X3h=this.stx.pixelFromValueAdjusted(n3h,this.p0[0],this.p0[E9s]) - this.h / R9s;K3h=H3h + this.w;U3h=X3h + this.h;if(this.stem && this.stem.x){H3h+=this.stem.x;K3h+=this.stem.x;X3h+=this.stem.y;U3h+=this.stem.y;}j3h=this.stx.pixelFromTick(z3h,n3h.chart);G3h=this.stx.pixelFromValueAdjusted(n3h,z3h,N3h);if(j3h + h3h.r >= H3h && j3h - h3h.r <= K3h && G3h + h3h.r >= X3h && G3h - h3h.r <= U3h){this.highlighted=! ![];return {p0:Q0E.clone(this.p0),tick:z3h,value:N3h};}s3h=this.lineIntersection(z3h,N3h,h3h,"segment");if(s3h){this.highlighted=! !1;return {action:"move",stem:Q0E.clone(this.stem),p0:Q0E.clone(this.p0),tick:z3h,value:N3h};}return null;};Q0E.Drawing.fibonacci=function(){this.name="fibonacci";this.configurator="fibonacci";};Q0E.inheritsFrom(Q0E.Drawing.fibonacci,Q0E.Drawing.BaseTwoPoint);Q0E.Drawing.fibonacci.mapping={trend:"t",color:"7092" << 306940416 < 887.98?(111.78,2885) != "865.95" - 0?0xa09:("h",! !0):"c",parameters:("8619" ^ 0,6080) > 8812?0x74d:"p",pattern:"pt",opacity:556.42 > 7240?(! !0,! ![]):"o",lineWidth:q7C,level:+"610.24" < (8100,+"4400")?"l":8990 != (210.23,6696)?+"0x16f1":0x54e,extendLeft:"e",printLevels:"pl",printValues:"pv",timezone:"tz",display:4983 !== (192,7664)?"d":(! ![],"J")};H9u.v1T(23);Q0E.Drawing.fibonacci.prototype.recommendedLevels=[-0.618,-0.382,0,0.382,0.5,0.618,1,1.382,H9u.n1T(1,"1.618")];Q0E.Drawing.fibonacci.prototype.configs=["color","fillColor","lineWidth","pattern",c8C];Q0E.Drawing.fibonacci.prototype.initializeSettings=function(V6h){var a3h,W3C,K3C,n3C,g3h;a3h=this.recommendedLevels;if(a3h && !V6h.currentVectorParameters.fibonacci.fibsAlreadySet){W3C=-1286965027;K3C=-1774405784;n3C=2;for(var T3C=1;H9u.D2C(T3C.toString(),T3C.toString().length,72731) !== W3C;T3C++){g3h=V6h.currentVectorParameters.fibonacci.fibs;n3C+=2;}if(H9u.D2C(n3C.toString(),n3C.toString().length,14479) !== K3C){g3h=V6h.currentVectorParameters.fibonacci.fibs;}for(var E3h=0;E3h < g3h.length;E3h++){delete g3h[E3h].display;for(var q6h=0;q6h < a3h.length;q6h++){if(g3h[E3h].level == a3h[q6h]){g3h[E3h].display=! ![];}}}}};Q0E.Drawing.fibonacci.prototype.setOuter=function(){var A6h,u6h,w6h,Q6h,S6h,R6h,b6h,v6h,c6h,f6h,l6h,L6h,x6h,B6h;A6h=this.stx;u6h=A6h.panels[this.panelName];if(!u6h){return;}H9u.z9u();w6h=Math.max(this.p0[1],this.p1[1]);Q6h=Math.min(this.p0["1" - 0],this.p1[1]);H9u.B1T(1);S6h=H9u.f1T(w6h,Q6h);this.outer={p0:Q0E.clone(this.p0),p1:Q0E.clone(this.p1)};R6h=A6h.pixelFromValueAdjusted(u6h,this.p0[0],this.p0[1]);b6h=A6h.pixelFromValueAdjusted(u6h,this.p1[0],this.p1[1]);v6h=A6h.pixelFromTick(this.p0[0],u6h.chart);c6h=A6h.pixelFromTick(this.p1[0],u6h.chart);f6h=0;l6h=1;for(var P6h=0;P6h < this.parameters.fibs.length;P6h++){L6h=this.parameters.fibs[P6h];if(L6h.level >= f6h && L6h.level <= l6h || !L6h.display)continue;x6h=A6h.pixelFromValueAdjusted(u6h,this.p0[+"0"],b6h < R6h?w6h - S6h * L6h.level:Q6h + S6h * L6h.level);B6h=Q0E.xIntersection({x0:v6h,x1:c6h,y0:R6h,y1:b6h},x6h);if(L6h.level < f6h){f6h=L6h.level;this.outer.p1[1]=A6h.valueFromPixel(x6h,u6h);this.outer.p1[0]=A6h.tickFromPixel(B6h,u6h.chart);}else if(L6h.level > l6h){l6h=L6h.level;this.outer.p0[1]=A6h.valueFromPixel(x6h,u6h);this.outer.p0[+"0"]=A6h.tickFromPixel(B6h,u6h.chart);}}};Q0E.Drawing.fibonacci.prototype.click=function(I6h,m6h,O6h){var T6h;T6h=this.stx.panels[this.panelName];if(!T6h){return;}this.copyConfig();H9u.z9u();if(!this.penDown){this.setPoint(0,m6h,O6h,T6h.chart);this.penDown=! !{};return ! !0;}if(this.accidentalClick(m6h,O6h)){return this.dragToDraw;}this.setPoint(1,m6h,O6h,T6h.chart);this.setOuter();this.parameters=Q0E.clone(this.parameters);this.penDown=! !0;return ! ![];;};Q0E.Drawing.fibonacci.prototype.render=function(d6h){var s8C,p8C,e6h,n6h,N6h,H6h,j6h,y6h,p6h,o6h,Y6h,G6h,s6h,E6h,V4h,A4h,H1C,v1C,s1C,x8C,g6h,O8C,u4h,X6h,F6h,K6h,C6h,M6h,v8C,H8C,t6h,J6h,h6h,W6h,Z6h,r8C,L4h,N8C,r6h,D6h,k6h,a6h,i6h,q4h,f4h,l4h;s8C="seg";s8C+="me";s8C+="nt";p8C="161";p8C+=".8%";e6h=this.stx.panels[this.panelName];if(!e6h){return;}n6h=e6h.yAxis;H9u.z9u();if(!this.p1){return;}N6h=Math.max(this.p0[1],this.p1[1]);H6h=Math.min(this.p0[1],this.p1[1]);j6h=n6h.flipped?H6h - N6h:N6h - H6h;y6h=this.stx.pixelFromTick(this.p0[0],e6h.chart);p6h=this.stx.pixelFromTick(this.p1[0],e6h.chart);o6h=this.stx.pixelFromValueAdjusted(e6h,this.p0["0" ^ 0],this.p0[+"1"]);Y6h=this.stx.pixelFromValueAdjusted(e6h,this.p1[0],this.p1[1]);G6h=Math.min(Y6h,o6h);s6h=Math.max(Y6h,o6h);H9u.v1T(1);E6h=H9u.f1T(s6h,G6h);H9u.v1T(49);V4h=H9u.n1T(Y6h,o6h,0,p6h,y6h);A4h={color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1}};H9u.v1T(1);H1C=-H9u.n1T("781774626",0);v1C=2016530339;s1C=2;for(var k1C=1;H9u.A2C(k1C.toString(),k1C.toString().length,26837) !== H1C;k1C++){x8C="m";x8C+="id";x8C+="dl";x8C+="e";if(~this.parameters.trend){this.parameters.trend=A4h;}g6h=this.getLineColor(this.parameters.trend.color);d6h.textBaseline=x8C;this.stx.canvasFont("stx_yaxis",d6h);s1C+=2;}if(H9u.D2C(s1C.toString(),s1C.toString().length,58084) !== v1C){O8C="s";O8C+="tx_yaxis";if(!this.parameters.trend){this.parameters.trend=A4h;}g6h=this.getLineColor(this.parameters.trend.color);d6h.textBaseline="middle";this.stx.canvasFont(O8C,d6h);}H9u.v1T(8);var G9s=H9u.f1T(11,1);u4h=d6h.measureText(p8C).width + G9s;X6h=Number.MAX_VALUE;F6h=Number.MAX_VALUE;H9u.v1T(29);var q9s=H9u.f1T(21,15,7);K6h=Number.MAX_VALUE * q9s;H9u.B1T(50);var c0s=H9u.f1T(4,19,78,3,1);C6h=Number.MAX_VALUE * c0s;M6h=this.color;if(M6h == "auto" || Q0E.isTransparent(M6h)){M6h=this.stx.defaultColor;}this.rays=[];for(var U6h="0" - 0;U6h < this.parameters.fibs.length;U6h++){v8C="aut";v8C+="o";H8C="aut";H8C+="o";d6h.textAlign="left";d6h.fillStyle=M6h;t6h=this.parameters.fibs[U6h];if(!t6h.display)continue;J6h=this.stx.pixelFromValueAdjusted(e6h,this.p0[0],Y6h < o6h?N6h - j6h * t6h.level:H6h + j6h * t6h.level);h6h=Q0E.xIntersection({x0:y6h,x1:p6h,y0:o6h,y1:Y6h},J6h);W6h=this.parameters.extendLeft?0:h6h;Z6h=e6h.left + e6h.width;if(this.parameters.printLevels){r8C="ri";r8C+="g";r8C+="ht";H9u.v1T(38);var x0s=H9u.n1T(973,14,18,59);H9u.B1T(51);var o0s=H9u.n1T(8,7,8,1,2);H9u.v1T(30);var O0s=H9u.n1T(6,425,82);H9u.v1T(0);var U0s=H9u.n1T(3232,8);H9u.B1T(52);var f0s=H9u.n1T(7869,7,12);L4h=Math.round(t6h.level * x0s) / o0s + (O0s == (U0s,f0s)?"I":"%");Z6h-=u4h;if(this.parameters.printValues){N8C="s";N8C+="tx_y";N8C+="ax";N8C+="is";d6h.fillStyle=M6h;this.stx.canvasFont(N8C,d6h);;}if(Z6h < W6h){d6h.textAlign=r8C;}d6h.fillText(L4h,Z6h,J6h);if(Z6h < W6h){Z6h+=5;}else {Z6h-=+"5";}}if(this.parameters.printValues){if(h6h < e6h.width){r6h=this.stx.transformedPriceFromPixel(J6h,e6h);if(n6h.priceFormatter){r6h=n6h.priceFormatter(this.stx,e6h,r6h);}else {r6h=this.stx.formatYAxisPrice(r6h,e6h);}if(d6h == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(e6h,r6h,J6h,M6h,null,d6h);if(d6h == this.stx.chart.context){this.stx.startClip(e6h.name);}}}D6h=t6h.color;if(D6h == "auto" || Q0E.isTransparent(D6h)){D6h=this.color;}if(D6h == H8C || Q0E.isTransparent(D6h)){D6h=this.stx.defaultColor;}k6h=t6h.color;if(k6h == "auto" || Q0E.isTransparent(k6h)){k6h=this.fillColor;}if(k6h == v8C || Q0E.isTransparent(k6h)){k6h=this.stx.defaultColor;}d6h.fillStyle=k6h;a6h=Q0E.clone(t6h.parameters);if(this.highlighted){a6h.opacity=1;}this.stx.plotLine(W6h,Z6h,J6h,J6h,this.highlighted?g6h:D6h,"segment",d6h,e6h,a6h);this.rays.push([[W6h,J6h],[Z6h,J6h]]);d6h.globalAlpha=0.05;d6h.beginPath();d6h.moveTo(Z6h,J6h);d6h.lineTo(W6h,J6h);if(W6h){d6h.lineTo(p6h,Y6h);}else {d6h.lineTo(W6h,Y6h);}d6h.lineTo(Z6h,Y6h);if(typeof k6h != "undefined"){d6h.fill();}d6h.globalAlpha=1;if(J6h < F6h){X6h=h6h;F6h=J6h;}if(J6h > C6h){K6h=h6h;C6h=J6h;}}for(var z6h=0;z6h <= 1;z6h++){i6h=V4h?s6h - E6h * z6h:G6h + E6h * z6h;i6h=Math.round(i6h);if(i6h < F6h){X6h=Q0E.xIntersection({x0:y6h,x1:p6h,y0:o6h,y1:Y6h},i6h);F6h=i6h;}if(i6h > C6h){K6h=Q0E.xIntersection({x0:y6h,x1:p6h,y0:o6h,y1:Y6h},i6h);C6h=i6h;}}q4h=Q0E.clone(this.parameters.trend.parameters);if(this.highlighted){q4h.opacity=1;}this.stx.plotLine(X6h,K6h,F6h,C6h,g6h,s8C,d6h,e6h,q4h);if(this.highlighted){f4h=this.highlighted == "p0"?! ![]:!{};l4h=this.highlighted == "p1"?! ![]:!"1";this.littleCircle(d6h,y6h,o6h,f4h);this.littleCircle(d6h,p6h,Y6h,l4h);}};Q0E.Drawing.fibonacci.prototype.reposition=function(x4h,P4h,w4h,Q4h){if(!P4h){return;}Q0E.Drawing.BaseTwoPoint.prototype.reposition.apply(this,arguments);this.adjust();};Q0E.Drawing.fibonacci.prototype.intersected=function(O4h,I4h,d4h){var b4h,B4h,v4h,c4h,T4h,i3C,k3C,D3C,m4h,i8C;b4h=this.p0;B4h=this.p1;if(!b4h || !B4h){return null;}v4h={0:b4h,1:B4h};for(var S4h in v4h){if(this.pointIntersection(v4h[S4h][0],v4h[S4h]["1" - 0],d4h)){H9u.B1T(0);this.highlighted=H9u.n1T(("593.79" * 1,8658) >= 535.94?"p":"9.80e+3" - 0,S4h);return {action:"drag",point:"p" + S4h};}}c4h=this.outer;T4h=this.rays;H9u.v1T(53);i3C=-H9u.f1T("711959179",0);k3C=-295251273;D3C=2;for(var w3C=1;H9u.D2C(w3C.toString(),w3C.toString().length,87653) !== i3C;w3C++){m4h=c4h && this.lineIntersection(O4h,I4h,d4h,"segment",c4h.p0,c4h.p1);D3C+=2;}if(H9u.D2C(D3C.toString(),D3C.toString().length,+"56944") !== k3C){m4h=c4h || this.lineIntersection(O4h,I4h,d4h,"",c4h.p0,c4h.p1);}H9u.Y9u();if(!m4h){for(var R4h=0;R4h < T4h.length;R4h++){i8C="r";i8C+="a";i8C+="y";if(this.lineIntersection(O4h,I4h,d4h,i8C,T4h[R4h][0],T4h[R4h][1],!0)){m4h=! !1;break;}}}if(m4h){this.highlighted=! !"1";return {action:"move",p0:Q0E.clone(b4h),p1:Q0E.clone(B4h),tick:O4h,value:I4h};}return null;};Q0E.Drawing.fibonacci.prototype.reconstruct=function(J4h,e4h){e4h=Q0E.replaceFields(e4h,Q0E.reverseObject(Q0E.Drawing.fibonacci.mapping));this.stx=J4h;this.parameters=e4h.parameters;if(!this.parameters){this.parameters=Q0E.clone(this.stx.currentVectorParameters.fibonacci);}this.color=e4h.col;this.fillColor=e4h.fc;this.panelName=e4h.pnl;this.d0=e4h.d0;this.d1=e4h.d1;this.d2=e4h.d2;this.tzo0=e4h.tzo0;this.tzo1=e4h.tzo1;this.tzo2=e4h.tzo2;this.v0=e4h.v0;this.v1=e4h.v1;this.v2=e4h.v2;this.adjust();};Q0E.Drawing.fibonacci.prototype.adjust=function(){var Y4h;Y4h=this.stx.panels[this.panelName];if(!Y4h){return;}this.setPoint(+"0",this.d0,this.v0,Y4h.chart);this.setPoint(1,this.d1,this.v1,Y4h.chart);this.setOuter();};Q0E.Drawing.fibonacci.prototype.serialize=function(){var Z4h;Z4h={name:this.name,parameters:this.parameters,pnl:this.panelName,col:this.color,fc:this.fillColor,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};return Q0E.replaceFields(Z4h,Q0E.Drawing.fibonacci.mapping);};Q0E.Drawing.retracement=function(){var k8C,G1C,q1C,c3C;k8C="retr";k8C+="ace";k8C+="ment";G1C=2125451561;q1C=-1136250907;H9u.z9u();c3C=2;for(var o3C=1;H9u.D2C(o3C.toString(),o3C.toString().length,+"37928") !== G1C;o3C++){this.name="";c3C+=+"2";}if(H9u.A2C(c3C.toString(),c3C.toString().length,14017) !== q1C){this.name="";}this.name=k8C;};Q0E.inheritsFrom(Q0E.Drawing.retracement,Q0E.Drawing.fibonacci);Q0E.Drawing.fibprojection=function(){this.name="fibprojection";this.dragToDraw=! !"";this.p2=null;};Q0E.inheritsFrom(Q0E.Drawing.fibprojection,Q0E.Drawing.fibonacci);Q0E.Drawing.fibprojection.prototype.recommendedLevels=[0,0.618,1,1.272,1.618,2.618,4.236];Q0E.Drawing.fibprojection.prototype.click=function(t4h,k4h,i4h){var o4h,U0C,f0C,p0C;o4h=this.stx.panels[this.panelName];if(!o4h){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,k4h,i4h,o4h.chart);this.penDown=! !{};return !1;}if(this.accidentalClick(k4h,i4h)){this.stx.undo();return ! !{};}if(this.p2 !== null){this.setPoint(2,this.p2[0],this.p2[1],o4h.chart);this.parameters=Q0E.clone(this.parameters);U0C=-293743376;f0C=-384119742;p0C=2;for(var y0C=1;H9u.D2C(y0C.toString(),y0C.toString().length,35568) !== U0C;y0C++){return ! !"";}if(H9u.A2C(p0C.toString(),p0C.toString().length,2974) !== f0C){return ! !{};}return !"";}this.setPoint(1,k4h,i4h,o4h.chart);this.p2=[this.p1[0],this.p1[1]];return !1;;};Q0E.Drawing.fibprojection.prototype.render=function(W4h){var T8C,n8C,A8C,D4h,E4h,a4h,n4h,H4h,K4h,X4h,U4h,r4h,q8h,j4h,V8h,h4h,K8C,z4h,p4h,A8h,F4h,M4h,W8C,u8h,N4h,C4h,y4h,g4h,s4h,Y8C,L8h,f8h,l8h;T8C="seg";T8C+="men";T8C+="t";n8C="segm";n8C+="en";n8C+="t";A8C="mi";A8C+="ddl";A8C+="e";D4h=this.stx.panels[this.panelName];if(!D4h){return;}E4h=D4h.yAxis;if(!this.p1){return;}H9u.B1T(54);var p0s=H9u.f1T(17,21,149,13,14);H9u.B1T(0);var N0s=H9u.n1T(0,1);a4h=this.p1[p0s] - this.p0[N0s];n4h=this.stx.pixelFromTick(this.p0["0" >> 267832320],D4h.chart);H4h=this.stx.pixelFromTick(this.p1[+"0"],D4h.chart);K4h=this.stx.pixelFromValueAdjusted(D4h,this.p0[0],this.p0[1]);X4h=this.stx.pixelFromValueAdjusted(D4h,this.p1[0],this.p1[+"1"]);U4h=null;r4h=null;if(this.p2){U4h=this.stx.pixelFromTick(this.p2[+"0"],D4h.chart);r4h=this.stx.pixelFromValueAdjusted(D4h,this.p2[0],this.p2[1]);}q8h={color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:"1" << 984004384}};if(!this.parameters.trend){this.parameters.trend=q8h;}j4h=this.getLineColor(this.parameters.trend.color);W4h.textBaseline=A8C;this.stx.canvasFont("stx_yaxis",W4h);H9u.v1T(39);var y0s=H9u.f1T(12,2,1);V8h=W4h.measureText("161.8%").width + y0s;h4h=this.color;if(h4h == "auto" || Q0E.isTransparent(h4h)){h4h=this.stx.defaultColor;}if(this.p2){this.rays=[];for(var G4h=0;G4h < this.parameters.fibs.length;G4h++){K8C="a";K8C+="u";K8C+="t";K8C+="o";W4h.textAlign="left";W4h.fillStyle=h4h;z4h=this.parameters.fibs[G4h];if(!z4h.display)continue;p4h=this.stx.pixelFromValueAdjusted(D4h,this.p2[0],this.p2[1] + a4h * z4h.level);A8h=Q0E.xIntersection({x0:n4h,x1:H4h,y0:K4h,y1:X4h},p4h);F4h=this.parameters.extendLeft?0:n4h;M4h=D4h.left + D4h.width;if(this.parameters.printLevels){W8C="ri";W8C+="g";W8C+="ht";H9u.B1T(55);var r0s=H9u.f1T(11,10,0,552,5);H9u.B1T(30);var H0s=H9u.f1T(16,5212,651);H9u.B1T(56);var v0s=H9u.f1T(1501,20,3,2267);u8h=Math.round(z4h.level * +"1000") / ("10" | r0s) + ((+"6203",H0s) != v0s?"%":(191.88,184.42));M4h-=V8h;if(this.parameters.printValues){W4h.fillStyle=h4h;this.stx.canvasFont("stx_yaxis",W4h);;}if(M4h < F4h){W4h.textAlign=W8C;}W4h.fillText(u8h,M4h,p4h);if(M4h < F4h){H9u.B1T(13);M4h+=H9u.f1T("5",262969536);}else {M4h-=5;}}if(this.parameters.printValues){if(A8h < D4h.width){N4h=this.stx.transformedPriceFromPixel(p4h,D4h);if(E4h.priceFormatter){N4h=E4h.priceFormatter(this.stx,D4h,N4h);}else {N4h=this.stx.formatYAxisPrice(N4h,D4h);}if(W4h == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(D4h,N4h,p4h,h4h,null,W4h);if(W4h == this.stx.chart.context){this.stx.startClip(D4h.name);}}}C4h=z4h.color;if(C4h == "auto" || Q0E.isTransparent(C4h)){C4h=this.color;}if(C4h == "auto" || Q0E.isTransparent(C4h)){C4h=this.stx.defaultColor;}y4h=z4h.color;if(y4h == "auto" || Q0E.isTransparent(y4h)){y4h=this.fillColor;}if(y4h == K8C || Q0E.isTransparent(y4h)){y4h=this.stx.defaultColor;}W4h.fillStyle=y4h;g4h=Q0E.clone(z4h.parameters);if(this.highlighted){g4h.opacity=1;}this.stx.plotLine(F4h,M4h,p4h,p4h,this.highlighted?j4h:C4h,"segment",W4h,D4h,g4h);this.rays.push([[F4h,p4h],[M4h,p4h]]);W4h.globalAlpha=0.05;W4h.beginPath();W4h.moveTo(M4h,p4h);W4h.lineTo(F4h,p4h);if(F4h){W4h.lineTo(n4h,r4h);}else {W4h.lineTo(F4h,r4h);}W4h.lineTo(M4h,r4h);if(typeof y4h != "undefined"){W4h.fill();}W4h.globalAlpha=+"1";}}s4h=Q0E.clone(this.parameters.trend.parameters);if(this.highlighted){H9u.B1T(40);s4h.opacity=H9u.n1T(1011083232,"1");}this.stx.plotLine(n4h,H4h,K4h,X4h,j4h,n8C,W4h,D4h,s4h);if(this.p2){this.stx.plotLine(H4h,U4h,X4h,r4h,j4h,T8C,W4h,D4h,s4h);}if(this.highlighted){Y8C="p";Y8C+="1";L8h=this.highlighted == "p0"?! ![]:!{};f8h=this.highlighted == Y8C?!"":!{};l8h=this.highlighted == "p2"?! !1:!{};this.littleCircle(W4h,n4h,K4h,L8h);this.littleCircle(W4h,H4h,X4h,f8h);this.littleCircle(W4h,U4h,r4h,l8h);}};Q0E.Drawing.fibprojection.prototype.move=function(w8h,P8h,x8h){if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[P8h,x8h];}else {this.p2=[P8h,x8h];}this.render(w8h);};Q0E.Drawing.fibprojection.prototype.reposition=function(B8h,Q8h,v8h,c8h){var V8C,S8h,R8h,b8h;V8C="mov";V8C+="e";if(!Q8h){return;}S8h=this.stx.panels[this.panelName];R8h=Q8h.tick - v8h;b8h=Q8h.value - c8h;if(Q8h.action == V8C){this.setPoint(0,Q8h.p0[0] - R8h,Q8h.p0[1] - b8h,S8h.chart);this.setPoint(1,Q8h.p1[0] - R8h,Q8h.p1[1] - b8h,S8h.chart);this.setPoint(2,Q8h.p2[0] - R8h,Q8h.p2[1] - b8h,S8h.chart);this.render(B8h);}else if(Q8h.action == "drag"){this[Q8h.point]=[v8h,c8h];this.setPoint(0,this.p0["0" | 0],this.p0[1],S8h.chart);this.setPoint(1,this.p1[0],this.p1[1],S8h.chart);this.setPoint(2,this.p2[0],this.p2[1],S8h.chart);this.render(B8h);}};Q0E.Drawing.fibprojection.prototype.intersected=function(e8h,J8h,Y8h){var m8h,T8h,O8h,Z8h,o8h,k8h;m8h=this.p0;T8h=this.p1;O8h=this.p2;H9u.z9u();if(!m8h || !T8h || !O8h){return null;}Z8h={0:m8h,1:T8h,2:O8h};for(var I8h in Z8h){if(this.pointIntersection(Z8h[I8h][0],Z8h[I8h][1],Y8h)){H9u.v1T(0);this.highlighted=H9u.n1T((986.27,"8340" - 0) === "8720" - 0?0x1f58:270.35 !== 594?(9740,873.49) <= (1418,952.28)?"p":(0x10cf,+"3.38e+3"):9.27e+3,I8h);return {action:"drag",point:"p" + I8h};}}o8h=this.rays;k8h=this.lineIntersection(e8h,J8h,Y8h,"segment",m8h,T8h) || this.lineIntersection(e8h,J8h,Y8h,"segment",T8h,O8h);if(!k8h){for(var d8h=0;d8h < o8h.length;d8h++){if(this.lineIntersection(e8h,J8h,Y8h,"ray",o8h[d8h][0],o8h[d8h][1],!0)){k8h=!0;break;}}}if(k8h){this.highlighted=! !{};return {action:"move",p0:Q0E.clone(m8h),p1:Q0E.clone(T8h),p2:Q0E.clone(O8h),tick:e8h,value:J8h};}return null;};Q0E.Drawing.fibprojection.prototype.adjust=function(){var i8h;H9u.Y9u();i8h=this.stx.panels[this.panelName];if(!i8h){return;}this.setPoint(0,this.d0,this.v0,i8h.chart);this.setPoint(1,this.d1,this.v1,i8h.chart);this.setPoint(2,this.d2,this.v2,i8h.chart);};Q0E.Drawing.fibarc=function(){this.name="fibarc";H9u.Y9u();;};Q0E.inheritsFrom(Q0E.Drawing.fibarc,Q0E.Drawing.fibonacci);Q0E.Drawing.fibarc.prototype.recommendedLevels=[0.382,0.5,0.618,1];Q0E.Drawing.fibarc.prototype.setOuter=function(){var t8h,W8h,D8h,M8h,y8h,p8h,F8h;t8h=this.stx.panels[this.panelName];H9u.z9u();if(!t8h){return;}this.outer={p0:Q0E.clone(this.p0),p1:Q0E.clone(this.p1)};W8h=this.stx.pixelFromValueAdjusted(t8h,this.p0[0],this.p0[1]);D8h=this.stx.pixelFromValueAdjusted(t8h,this.p1[0],this.p1[1]);M8h=this.stx.pixelFromTick(this.p0[0],t8h.chart);y8h=this.stx.pixelFromTick(this.p1[0],t8h.chart);H9u.v1T(30);p8h=H9u.n1T(W8h,D8h,2);F8h=Q0E.xIntersection({x0:M8h,x1:y8h,y0:W8h,y1:D8h},p8h);this.outer.p0[1]=this.stx.valueFromPixel(p8h,t8h);this.outer.p0[0]=this.stx.tickFromPixel(F8h,t8h.chart);};Q0E.Drawing.fibarc.prototype.intersected=function(n8h,K8h,r8h){var l8C,Q8C,U8h,h8h,z8h,G8h,j8h,B8C,X8C,E8h,C8h,H8h,s8h,X8h;l8C="m";l8C+="ov";l8C+="e";Q8C="s";Q8C+="egment";U8h=this.stx.panels[this.panelName];if(!U8h){return;}h8h=this.p0;z8h=this.p1;G8h=this.outer;if(!h8h || !z8h){return null;}j8h={0:h8h,1:z8h};for(var N8h in j8h){if(this.pointIntersection(j8h[N8h][0],j8h[N8h][1],r8h)){B8C="dr";B8C+="ag";H9u.v1T(0);this.highlighted=H9u.f1T((4250,2305) <= +"6587"?7810 <= (241,89.42)?(0xf86,"332.00" ^ 0):"p":0x822,N8h);return {action:B8C,point:("146.47" - 0 == +"6897"?173.41:"p") + N8h};}}if(this.lineIntersection(n8h,K8h,r8h,Q8C,G8h.p0,G8h.p1)){X8C="m";X8C+="o";X8C+="v";X8C+="e";this.highlighted=!"";return {action:X8C,p0:Q0E.clone(h8h),p1:Q0E.clone(z8h),tick:n8h,value:K8h};}E8h={x0:h8h[0],x1:z8h[+"0"],y0:h8h[1],y1:z8h[+"1"]};C8h=Q0E.convertBoxToPixels(this.stx,this.panelName,E8h);H8h={x:Math.abs(Math.sqrt(2) * (C8h.x1 - C8h.x0)),y:Math.abs(Math.sqrt(2) * (C8h.y1 - C8h.y0))};s8h=this.stx.pixelFromTick(n8h,U8h.chart);X8h=this.stx.pixelFromValueAdjusted(U8h,n8h,K8h);if(s8h + r8h.r < C8h.x1 - H8h.x || s8h - r8h.r > C8h.x1 + H8h.x){return null;}if(X8h + r8h.r < C8h.y1 - H8h.y || X8h - r8h.r > C8h.y1 + H8h.y){return null;}if(C8h.y0 < C8h.y1 && X8h - r8h.r > C8h.y1){return null;}if(C8h.y0 > C8h.y1 && X8h + r8h.r < C8h.y1){return null;}this.highlighted=!0;return {action:l8C,p0:Q0E.clone(this.p0),p1:Q0E.clone(this.p1),tick:n8h,value:K8h};};Q0E.Drawing.fibarc.prototype.render=function(g8h){var j8C,F8C,a8h,Q5h,x5h,A5h,l5h,V5h,R5h,b5h,B5h,f5h,u8C,g8C,h8C,q5h,T5h,v5h,w5h,m5h,O5h,P5h,u5h,L5h,c5h,I5h,d5h;j8C="seg";j8C+="m";j8C+="e";j8C+="nt";F8C="a";F8C+="u";F8C+="t";F8C+="o";a8h=this.stx.panels[this.panelName];if(!a8h){return;}Q5h=a8h.yAxis;if(!this.p1){return;}x5h=this.stx.pixelFromTick(this.p0[0],a8h.chart);A5h=this.stx.pixelFromTick(this.p1[0],a8h.chart);l5h=this.stx.pixelFromValueAdjusted(a8h,this.p0[0],this.p0[1]);V5h=this.stx.pixelFromValueAdjusted(a8h,this.p1[0],this.p1[1]);H9u.B1T(57);R5h=H9u.f1T(V5h,l5h);H9u.B1T(58);b5h=Math.abs(H9u.f1T(V5h,x5h,A5h,l5h));B5h=this.getLineColor(this.parameters.trend.color);g8h.textBaseline="middle";this.stx.canvasFont("stx_yaxis",g8h);f5h=this.color;if(f5h == F8C || Q0E.isTransparent(f5h)){f5h=this.stx.defaultColor;}for(var S5h=0;S5h < this.parameters.fibs.length;S5h++){u8C="a";u8C+="u";u8C+="t";u8C+="o";g8C="a";g8C+="u";g8C+="to";h8C="a";h8C+="u";h8C+="t";h8C+="o";g8h.fillStyle=f5h;q5h=this.parameters.fibs[S5h];if(q5h.level < 0 || !q5h.display)continue;H9u.v1T(59);var s0s=H9u.f1T(3,63,6,21,5);H9u.v1T(8);var i0s=H9u.n1T(17,16);H9u.B1T(0);var k0s=H9u.n1T(0,2);T5h=Math.abs(this.p1[s0s] - this.p0[i0s]) * Math.sqrt(k0s) * q5h.level;H9u.v1T(60);var D0s=H9u.n1T(8,8,1,27,10);H9u.B1T(61);var A0s=H9u.f1T(7219,19,19,20);H9u.v1T(61);var w0s=H9u.f1T(3167,18,16,11);H9u.v1T(62);var W0s=H9u.n1T(11,19,11,1,20);v5h=this.p1[D0s] + T5h * (R5h?A0s:+"1") * (Q5h.flipped?w0s:W0s);w5h=this.stx.pixelFromValueAdjusted(a8h,this.p0[0],v5h);m5h=Q0E.xIntersection({x0:x5h,x1:A5h,y0:l5h,y1:V5h},w5h);if(this.parameters.printLevels){g8h.textAlign="center";H9u.B1T(21);var K0s=H9u.n1T(9,15,18000,268991);H9u.v1T(63);var n0s=H9u.f1T(6,19,1,15,1);O5h=Math.round(q5h.level * K0s) / n0s + "%";if(this.parameters.printValues){g8h.fillStyle=f5h;this.stx.canvasFont("stx_yaxis",g8h);;}g8h.fillText(O5h,A5h,Math.round(w5h - 5));}g8h.textAlign="left";if(this.parameters.printValues){if(m5h < a8h.width){P5h=v5h;if(Q5h.priceFormatter){P5h=Q5h.priceFormatter(this.stx,a8h,P5h);}else {P5h=this.stx.formatYAxisPrice(P5h,a8h);}if(g8h == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(a8h,P5h,w5h,f5h,null,g8h);if(g8h == this.stx.chart.context){this.stx.startClip(a8h.name);}}}u5h=q5h.color;if(u5h == h8C || Q0E.isTransparent(u5h)){u5h=this.color;}if(u5h == g8C || Q0E.isTransparent(u5h)){u5h=this.stx.defaultColor;}g8h.strokeStyle=this.highlight?B5h:u5h;L5h=q5h.color;if(L5h == "auto" || Q0E.isTransparent(L5h)){L5h=this.fillColor;}if(L5h == u8C || Q0E.isTransparent(L5h)){L5h=this.stx.defaultColor;}g8h.fillStyle=L5h;g8h.globalAlpha=this.highlighted?1:q5h.parameters.opacity;g8h.lineWidth=q5h.parameters.lineWidth;if(g8h.setLineDash){g8h.setLineDash(Q0E.borderPatternToArray(g8h.lineWidth,q5h.parameters.pattern));g8h.lineDashOffset=0;;}g8h.save();g8h.beginPath();H9u.B1T(64);g8h.scale(H9u.f1T(b5h,1,"1"),1);H9u.B1T(23);g8h.arc(H9u.f1T(b5h,A5h),V5h,Math.abs(w5h - V5h),0,Math.PI,!R5h);if(this.pattern != "none"){g8h.stroke();}g8h.globalAlpha=0.05;g8h.fill();g8h.restore();if(g8h.setLineDash){g8h.setLineDash([]);}H9u.v1T(14);g8h.globalAlpha=H9u.f1T(0,"1");}g8h.textAlign="left";c5h=Q0E.clone(this.parameters.trend.parameters);if(this.highlighted){c5h.opacity=1;}H9u.B1T(30);this.stx.plotLine(A5h,H9u.f1T(x5h,A5h,2),V5h,H9u.n1T(l5h,V5h,2),B5h,j8C,g8h,a8h,c5h);if(this.highlighted){I5h=this.highlighted == "p0"?! !1:!{};d5h=this.highlighted == "p1"?! ![]:![];this.littleCircle(g8h,x5h,l5h,I5h);this.littleCircle(g8h,A5h,V5h,d5h);}};Q0E.Drawing.fibfan=function(){this.name="fibfan";;};Q0E.inheritsFrom(Q0E.Drawing.fibfan,Q0E.Drawing.fibonacci);H9u.B1T(7);Q0E.Drawing.fibfan.prototype.recommendedLevels=[H9u.n1T(2147483647,"0"),0.382,0.5,0.618,1];Q0E.Drawing.fibfan.prototype.setOuter=function(){};Q0E.Drawing.fibfan.prototype.render=function(e5h){var Z8C,Y5h,X5h,J5h,i5h,Z5h,F5h,K5h,U5h,j5h,s5h,E5h,r5h,h5h,z5h,D5h,L8C,e8C,d8C,p5h,k5h,n5h,o5h,M5h,g5h,C8C,C5h,t5h,W5h,G5h,y5h,J8C,a5h,q0h;Z8C="m";Z8C+="i";Z8C+="ddl";Z8C+="e";Y5h=this.stx.panels[this.panelName];if(!Y5h){return;}X5h=Y5h.yAxis;if(!this.p1){return;}J5h=this.stx.pixelFromTick(this.p0[0],Y5h.chart);i5h=this.stx.pixelFromTick(this.p1[0],Y5h.chart);Z5h=this.stx.pixelFromValueAdjusted(Y5h,this.p0[0],this.p0[1]);F5h=this.stx.pixelFromValueAdjusted(Y5h,this.p1[0],this.p1[1]);K5h=Math.min(F5h,Z5h);U5h=Math.max(F5h,Z5h);H9u.v1T(1);j5h=H9u.f1T(U5h,K5h);H9u.v1T(49);s5h=H9u.f1T(F5h,Z5h,0,i5h,J5h);E5h=this.getLineColor(this.parameters.trend.color);e5h.textBaseline=Z8C;this.stx.canvasFont("stx_yaxis",e5h);H9u.B1T(65);var t0s=H9u.f1T(14,10,60,6,3);r5h=e5h.measureText("161.8%").width + t0s;h5h=Number.MAX_VALUE;H9u.B1T(8);var T0s=H9u.n1T(11,12);z5h=Number.MAX_VALUE * T0s;D5h=this.color;if(D5h == "auto" || Q0E.isTransparent(D5h)){D5h=this.stx.defaultColor;}this.rays=[];for(var H5h=0;H5h < this.parameters.fibs.length;H5h++){L8C="a";L8C+="uto";e8C="au";e8C+="t";e8C+="o";d8C="a";d8C+="u";d8C+="t";d8C+="o";e5h.fillStyle=D5h;p5h=this.parameters.fibs[H5h];if(!p5h.display)continue;k5h=this.stx.pixelFromValueAdjusted(Y5h,this.p0[0],(this.p0[1] - this.p1[1]) * p5h.level + this.p1[1]);n5h=Q0E.xIntersection({x0:i5h,x1:i5h,y0:Z5h,y1:F5h},k5h);o5h=Y5h.left;if(i5h > J5h){o5h+=Y5h.width;}H9u.B1T(66);M5h=H9u.n1T(J5h,n5h,o5h,J5h,Z5h,k5h,Z5h);if(J5h > o5h - (this.parameters.printLevels?r5h + +"5":0) && i5h > J5h)continue;else if(J5h < o5h + (this.parameters.printLevels?r5h + "5" * 1:+"0") && i5h < J5h)continue;if(this.parameters.printLevels){H9u.B1T(67);var Y0s=H9u.f1T(2,250,3356,6,18);H9u.B1T(30);var V0s=H9u.n1T(7,116,18);g5h=Math.round(p5h.level * Y0s) / V0s + "%";if(i5h > J5h){o5h-=r5h;e5h.textAlign="left";}else {C8C="ri";C8C+="gh";C8C+="t";o5h+=r5h;e5h.textAlign=C8C;}if(this.parameters.printValues){e5h.fillStyle=D5h;this.stx.canvasFont("stx_yaxis",e5h);;}H9u.v1T(66);M5h=H9u.n1T(J5h,n5h,o5h,J5h,Z5h,k5h,Z5h);e5h.fillText(g5h,o5h,M5h);if(i5h > J5h){o5h-=5;}else {o5h+=5;}}e5h.textAlign="left";if(this.parameters.printValues){if(n5h < Y5h.width){C5h=this.stx.transformedPriceFromPixel(k5h,Y5h);if(X5h.priceFormatter){C5h=X5h.priceFormatter(this.stx,Y5h,C5h);}else {C5h=this.stx.formatYAxisPrice(C5h,Y5h);}if(e5h == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(Y5h,C5h,k5h,D5h,null,e5h);if(e5h == this.stx.chart.context){this.stx.startClip(Y5h.name);}}}t5h=p5h.color;if(t5h == d8C || Q0E.isTransparent(t5h)){t5h=this.color;}if(t5h == "auto" || Q0E.isTransparent(t5h)){t5h=this.stx.defaultColor;}W5h=p5h.color;if(W5h == e8C || Q0E.isTransparent(W5h)){W5h=this.fillColor;}if(W5h == L8C || Q0E.isTransparent(W5h)){W5h=this.stx.defaultColor;}e5h.fillStyle=W5h;if(this.parameters.printLevels){H9u.B1T(66);M5h=H9u.n1T(J5h,n5h,o5h,J5h,Z5h,k5h,Z5h);}G5h=Q0E.clone(p5h.parameters);if(this.highlighted){G5h.opacity=1;}this.stx.plotLine(J5h,o5h,Z5h,M5h,this.highlighted?E5h:t5h,"segment",e5h,Y5h,G5h);this.rays.push([[J5h,Z5h],[o5h,M5h]]);H9u.B1T(1);e5h.globalAlpha=H9u.n1T("0.05",0);e5h.beginPath();e5h.moveTo(o5h,M5h);e5h.lineTo(J5h,Z5h);e5h.lineTo(o5h,Z5h);e5h.fill();e5h.globalAlpha=1;if(k5h < h5h){h5h=k5h;}if(k5h > z5h){z5h=k5h;}}for(var N5h=0;N5h <= 1;N5h++){y5h=s5h?U5h - j5h * N5h:K5h + j5h * N5h;y5h=Math.round(y5h);if(y5h < h5h){h5h=y5h;}if(y5h > z5h){z5h=y5h;}}if(this.highlighted){J8C="p";J8C+="1";a5h=this.highlighted == "p0"?!"":![];q0h=this.highlighted == J8C?! !{}:! !0;this.littleCircle(e5h,J5h,Z5h,a5h);this.littleCircle(e5h,i5h,F5h,q0h);}};Q0E.Drawing.fibtimezone=function(){H9u.Y9u();this.name="fibtimezone";;};Q0E.inheritsFrom(Q0E.Drawing.fibtimezone,Q0E.Drawing.fibonacci);Q0E.Drawing.fibtimezone.prototype.render=function(V0h){var o5C,x5C,c5C,q8C,R8C,E8C,A0h,u0h,P0h,b0h,B0h,S0h,v0h,O0h,c0h,Q0h,L0h,T0h,x0h,w0h,f0h,l0h,R0h,O5C,I0h,d0h,m0h;o5C="a";o5C+="u";o5C+="to";x5C="aut";x5C+="o";c5C="au";c5C+="to";q8C="a";q8C+="ut";q8C+="o";R8C="stx_y";R8C+="axis";E8C="mi";E8C+="ddl";E8C+="e";A0h=this.stx.panels[this.panelName];if(!A0h){return;}if(!this.p1){return;}u0h=this.stx.pixelFromTick(this.p0[0],A0h.chart);P0h=this.stx.pixelFromTick(this.p1[0],A0h.chart);b0h=this.stx.pixelFromValueAdjusted(A0h,this.p0[0],this.p0[1]);B0h=this.stx.pixelFromValueAdjusted(A0h,this.p1[+"0"],this.p1[+"1"]);H9u.B1T(14);S0h=[1,H9u.n1T(0,"0")];v0h=this.getLineColor(this.parameters.trend.color);V0h.textBaseline=E8C;this.stx.canvasFont(R8C,V0h);O0h=20;c0h=this.p1[0] - this.p0[0];Q0h=this.color;if(Q0h == q8C || Q0E.isTransparent(Q0h)){Q0h=this.stx.defaultColor;}V0h.textAlign="center";L0h=u0h;T0h=A0h.yAxis.top;x0h=A0h.yAxis.bottom;w0h=+"0";f0h=this.parameters.timezone.color;if(f0h == c5C || Q0E.isTransparent(f0h)){f0h=this.color;}if(f0h == x5C || Q0E.isTransparent(f0h)){f0h=this.stx.defaultColor;}l0h=this.parameters.timezone.color;if(l0h == o5C || Q0E.isTransparent(l0h)){l0h=this.fillColor;}if(l0h == "auto" || Q0E.isTransparent(l0h)){l0h=this.stx.defaultColor;}if(this.parameters.printLevels){H9u.v1T(1);x0h-=H9u.f1T(O0h,7);}R0h=Q0E.clone(this.parameters.timezone.parameters);if(this.highlighted){R0h.opacity=1;}do {O5C="segm";O5C+="ent";L0h=this.stx.pixelFromTick(this.p0[0] + w0h * c0h,A0h.chart);if(u0h < P0h && L0h > A0h.left + A0h.width)break;else if(u0h > P0h && L0h < A0h.left)break;if(this.parameters.printLevels){V0h.fillStyle=Q0h;V0h.fillText(P0h > u0h?w0h:w0h * -1,L0h,x0h + 7);}V0h.fillStyle=l0h;this.stx.plotLine(L0h,L0h,0,x0h,this.highlighted?v0h:f0h,O5C,V0h,A0h,R0h);H9u.v1T(1);V0h.globalAlpha=H9u.n1T("0.05",0);V0h.beginPath();V0h.moveTo(u0h,T0h);V0h.lineTo(L0h,T0h);V0h.lineTo(L0h,x0h);V0h.lineTo(u0h,x0h);V0h.fill();V0h.globalAlpha=1;H9u.v1T(68);var a0s=H9u.n1T(20,11,55,6);w0h=S0h[0] + S0h[a0s];S0h.unshift(w0h);}while(c0h);V0h.textAlign="left";this.stx.plotLine(u0h,P0h,b0h,B0h,v0h,"segment",V0h,A0h,R0h);if(this.highlighted){I0h=this.highlighted == "p0"?! !"1":!{};d0h=this.highlighted == "p1"?! !1:![];this.littleCircle(V0h,u0h,b0h,I0h);this.littleCircle(V0h,P0h,B0h,d0h);}else {m0h=this.stx.valueFromPixel(A0h.height / 2,A0h);this.setPoint(0,this.p0[0],m0h,A0h.chart);this.setPoint(1,this.p1[0],m0h,A0h.chart);}};Q0E.Drawing.fibtimezone.prototype.intersected=function(k0h,i0h,Y0h){var U5C,e0h,Z0h,t0h,o0h,W0h;U5C="s";U5C+="eg";U5C+="me";U5C+="nt";e0h=this.p0;Z0h=this.p1;t0h=this.stx.panels[this.panelName];if(!e0h || !Z0h || !t0h){return null;}o0h={0:e0h,1:Z0h};for(var J0h in o0h){if(this.pointIntersection(o0h[J0h][0],o0h[J0h][1],Y0h)){H9u.B1T(0);this.highlighted=H9u.n1T(8321 < (4092,"5554" * 1)?! !"":(766.05,+"6294") < (5340,+"5685")?(7994,2930) === (1057,7667)?"j":0x4a1:"p",J0h);return {action:"drag",point:(590 >= 8510?(4.01e+2,!{}):"p") + J0h};}}W0h=this.lineIntersection(k0h,i0h,Y0h,U5C);if(W0h || Y0h.x0 <= this.p0[0] && Y0h.x1 >= e0h[0]){this.highlighted=!"";return {action:"move",p0:Q0E.clone(e0h),p1:Q0E.clone(Z0h),tick:k0h,value:i0h};}return null;};Q0E.Drawing.arrow_v0=function(){this.name="arrow";H9u.Y9u();this.dimension=[11,11];H9u.B1T(53);this.points=[[("89.14" - 0,5767) === 5880?(2404,546) >= (8144,5830)?0x9c4:("t","I"):"M",3,0,"L",7,0,"L",+"7",5,(401.11,9180) > 2052?(5710,4729) < (+"5290",3070)?2.84e+3:"L":401.78,10,H9u.f1T("5",0),("987" & 2147483647,937.37) !== 3850?"9070" - 0 == (5433,26.54)?"2.82e+3" | 260:6960 == (122,738.7)?"O":"L":"I",+"5",H9u.n1T("10",521253952,H9u.v1T(13)),528.34 != ("3170" ^ 0,3600)?"6780" * 1 <= 213.33?"K":"L":190.74,0,5,"L",3,5,(3439,4320) == 253.08?"c":"L",3,0]];};Q0E.inheritsFrom(Q0E.Drawing.arrow_v0,Q0E.Drawing.shape);Q0E.Drawing.xcross=function(){var f5C;f5C="x";f5C+="cr";f5C+="os";f5C+="s";this.name=f5C;this.dimension=[7,7];H9u.z9u();H9u.v1T(1);this.points=[[91.62 != "3850" - 0?"M":(1298,+"6750") != (940.51,9238)?(+"0x2384",!1):(6.95e+3,+"886.86"),1,0,"L",3,2,+"7740" >= (5560,6890)?(9230,8921) <= 1627?(!{},"F"):811 === +"6012"?(+"8.56e+3","A"):"L":(0x1e22,![]),5,0,(1800,"751.53" * 1) >= 3970?(0xb37,696.99):(876.33,2117) != +"943.63"?(+"8910",56.68) < (+"2170",374.1)?"L":0xf8f:0xc02,H9u.n1T("6",0),1,(883,78.57) == +"4712"?("b",0x1a25):"L",4,3,(795.5,+"669") < ("6462" | 6172)?(4740,87.02) == 7490?("0x1615" * 1,572.73):693.61 < 2410?"L":+"6.43e+3":("J",0x3eb),6,5,"L",5,6,(619,99) <= 5236?"L":"V",3,4,("595.36" * 1,755.45) >= 574.01?686 < 117.95?(9.02e+3,![]):+"7773" != 4560?"L":(3.85e+2,4.46e+3):(!{},"o"),1,6,5740 > 8811?![]:"L",0,5,"L",2,3,"L",0,H9u.n1T(1889279392,"1",H9u.B1T(40)),(276.87,3180) === 8377?(0x398,438.28):3432 !== (+"6700",9080)?"L":(869.34,518.73) < (4939,4858)?(4.25e+3,!""):("x","D"),1,+"0"]];;};Q0E.inheritsFrom(Q0E.Drawing.xcross,Q0E.Drawing.shape);Q0E.Drawing.check=function(){H9u.Y9u();this.name="check";this.dimension=[8,9];H9u.B1T(23);this.points=[[915.65 > (9130,794)?4440 === 3024?! ![]:(274,317.46) !== (+"987","9421" & 2147483647)?"M":"1.82e+3" >> 1722325024:(+"0x21f2","631.06" - 0),1,+"5",(8917,8030) != 384?"L":(6511,2390) <= (8070,6920)?"648.03" * 1:(8.10e+3,"P"),H9u.f1T(1,"0"),6,(+"132.93",9109) >= (5960,+"507.94")?"L":(330,3300) !== 67.48?("u",429.52):"e",2,8,(1891,+"7287") == ("3010" >> 598944704,659.28)?+"761.39":(7700,931.64) != ("2820" ^ 0,5620)?"L":("N",0x1158),7,1,("6985" | 6913,+"7843") != (444.2,+"1940")?"L":(3.91e+2,547),6,0,"L",2,6,"L",1,5]];;};Q0E.inheritsFrom(Q0E.Drawing.check,Q0E.Drawing.shape);Q0E.Drawing.star=function(){this.name="star";this.dimension=[12,12];H9u.v1T(7);this.points=[["M",0,4,"L",H9u.n1T(2147483647,"4"),4,(745.56,"9390" | 1058) == 818.67?829 <= "8614" * 1?0x9e4:(1.48e+3,+"0x772"):"L",5.5,0,(8354,2140) !== 476.33?(7850,2120) != 139.3?"L":350.98:! !{},7,+"4",+"5266" > 730?"L":7.17e+2,11,4,"L",8,H9u.f1T("7",0,H9u.B1T(53)),"3730" << 1274302432 === 9847?(595.37,"X"):(680,"2974" ^ 0) === 186.46?3870 >= +"5714"?(0x25d9,! !{}):6.91e+3:"L",9,11,(7088,"9393" ^ 0) === (3073,1020)?(643.22,882.41) < 658.96?("C",+"2.55e+3"):"3.73e+3" & 2147483647:"L",H9u.n1T("5.5",0,H9u.B1T(1)),9,75.95 <= 5040?9061 != (555.66,632)?("9500" * 1,459.68) !== 3230?"L":(! !{},! !""):! !1:(0x16b2,"i"),H9u.f1T(1,"2",H9u.B1T(23)),11,339.74 == 4050?("8.11e+2" >> 1439945824,924.46):"L",3,7,"L",+"0",H9u.f1T(1287895328,"4",H9u.B1T(40))]];H9u.Y9u();;};Q0E.inheritsFrom(Q0E.Drawing.star,Q0E.Drawing.shape);Q0E.Drawing.heart=function(){this.name="heart";this.dimension=[+"23",20];H9u.v1T(23);this.points=[[769.46 > (5726,8979)?(2877,975.1) === (8571,"2595" | 2594)?1.48:(4676,764.17) >= 1697?("j",0x1f75):! !0:"M",11,+"3","6760" << 1312177024 > 6264?"B":!0,11,2.4,10,0,6,H9u.f1T(1,"0"),(701.1,973.77) == (679.47,8630)?(1.14e+3,0x1dd8):"B",0,H9u.f1T("0",1800392960,H9u.B1T(13)),+"0",7.5,0,+"7.5","B",0,11,+"4",15.4,+"11",H9u.f1T("19",1717393728,H9u.v1T(13)),("5500" | 4364) <= +"1350"?(638.05,+"204.42"):(669.93,3070) < (899.05,7672)?"B":7.46 == 548.06?(+"2.49e+3",461.08):! !0,H9u.n1T(2147483647,"18",H9u.B1T(7)),15.4,H9u.n1T("22",0,H9u.B1T(1)),+"11",22,7.5,"B",22,7.5,+"22",0,16,0,(1970,6050) !== 4306?"B":(8.13e+3,"0x25b3" - 0),13,0,11,2.4,11,3]];;};Q0E.inheritsFrom(Q0E.Drawing.heart,Q0E.Drawing.shape);Q0E.Drawing.focusarrow=function(){H9u.z9u();var p5C;p5C="focusarro";p5C+="w";this.name=p5C;H9u.v1T(53);this.dimension=[H9u.f1T("7",0),5];this.points=[[(4129,2490) === 9717?("T",333.12):"M",0,0,(6905,3760) <= (2757,4065)?"L":0x17e2,2,+"2",(5695,9758) !== (781.3,6790)?990.06 > +"7220"?7360 == (429,8114)?(3.52e+3,"92.92" * 1):(7.82e+3,"T"):"L":(6.42e+3,"K"),0,4,"L",0,0],[540 > (+"716.37",975.29)?(468.06,254.07) === (9793,2703)?("C",+"7.60e+3"):"M":"M",6,0,"L",4,2,"L",+"6",4,5480 >= 7579?5900 < 45.78?! !1:("4.68e+3" | 4608,! !1):"L",6,0]];;};Q0E.inheritsFrom(Q0E.Drawing.focusarrow,Q0E.Drawing.shape);Q0E.Drawing.crossline=function(){H9u.z9u();this.name="crossline";};Q0E.inheritsFrom(Q0E.Drawing.crossline,Q0E.Drawing.horizontal);Q0E.extend(Q0E.Drawing.crossline.prototype,{measure:function(){},accidentalClick:function(D0h,p0h){return !{};},adjust:function(){var M0h;M0h=this.stx.panels[this.panelName];if(!M0h){return;}this.setPoint(0,this.d0,this.v0,M0h.chart);H9u.Y9u();this.p1=Q0E.clone(this.p0);},intersected:function(F0h,C0h,r0h){var r5C,y0h,N5C,y5C;r5C="mo";r5C+="v";r5C+="e";if(!this.p0 || !this.p1){return null;}this.p1[0]+=1;y0h=this.lineIntersection(F0h,C0h,r0h,"line");this.p1=Q0E.clone(this.p0);if(!y0h){N5C="l";N5C+="in";N5C+="e";this.p1[1]+=1;y0h=this.lineIntersection(F0h,C0h,r0h,N5C);this.p1=Q0E.clone(this.p0);if(!y0h){return null;}}this.highlighted=!"";if(this.pointIntersection(this.p0[0],this.p0[1],r0h)){y5C="p";y5C+="0";this.highlighted=y5C;}return {action:r5C,p0:Q0E.clone(this.p0),p1:Q0E.clone(this.p1),tick:F0h,value:C0h};},render:function(G0h){var H5C,h0h,N0h,H0h,K0h,s0h,n0h,z0h,X0h,E0h,U0h,j0h,v5C,g0h;H5C="v";H5C+="ertical";h0h=this.stx.panels[this.panelName];if(!h0h){return;}N0h=this.stx.pixelFromTick(this.p0["0" >> 835703168],h0h.chart);H0h=this.stx.pixelFromValueAdjusted(h0h,this.p0[0],this.p0["1" ^ 0]);K0h=this.getLineColor();s0h={pattern:this.pattern,lineWidth:this.lineWidth};H9u.v1T(0);this.stx.plotLine(N0h,H9u.n1T(N0h,100),H0h,H0h,K0h,"horizontal",G0h,h0h,s0h);H9u.v1T(69);this.stx.plotLine(N0h,N0h,H0h,H9u.n1T(H0h,"100"),K0h,H5C,G0h,h0h,s0h);H9u.z9u();if(this.axisLabel && !this.repositioner){this.stx.endClip();n0h=this.p0[1];if(h0h.chart.transformFunc){n0h=h0h.chart.transformFunc(this.stx,h0h.chart,n0h);}if(h0h.yAxis.priceFormatter){n0h=h0h.yAxis.priceFormatter(this.stx,h0h,n0h);}else {n0h=this.stx.formatYAxisPrice(n0h,h0h);}this.stx.createYAxisLabel(h0h,n0h,H0h,K0h);this.stx.startClip(h0h.name);if(this.p0[0] >= 0 && !this.stx.chart.xAxis.noDraw){z0h=this.stx.dateFromTick(this.p0[0],h0h.chart,! ![]);if(!Q0E.ChartEngine.isDailyInterval(this.stx.layout.interval)){E0h=z0h.getSeconds() * +"1000" + z0h.getMilliseconds();if(S0E.Date && this.stx.displayZone){X0h=new S0E.Date(z0h.getTime(),this.stx.displayZone);z0h=new Date(X0h.getFullYear(),X0h.getMonth(),X0h.getDate(),X0h.getHours(),X0h.getMinutes());z0h=new Date(z0h.getTime() + E0h);}}else {H9u.v1T(23);z0h.setHours(0,0,H9u.n1T(1,"0"),0);}U0h=Q0E.mmddhhmm(Q0E.yyyymmddhhmm(z0h));if(h0h.chart.xAxis.formatter){U0h=h0h.chart.xAxis.formatter(z0h,this.name,null,null,U0h);}else if(this.stx.internationalizer){if(z0h.getHours() !== 0 || z0h.getMinutes() !== 0){j0h=this.stx.internationalizer.monthDay.format(z0h);H9u.B1T(70);var B0s=H9u.n1T(14,63,18,2);H9u.v1T(56);var Q0s=H9u.f1T(2198,4,10,32964);j0h+=(("1721" | B0s) == ("7210" ^ 0,742.17)?Q0s:" ") + this.stx.internationalizer.hourMinute.format(z0h);}else {j0h=this.stx.internationalizer.yearMonthDay.format(z0h);}U0h=j0h;}this.stx.endClip();this.stx.createXAxisLabel({panel:h0h,txt:U0h,x:N0h,backgroundColor:K0h,color:null,pointed:!"",padding:2});this.stx.startClip(h0h.name);}}if(this.highlighted){v5C="p";v5C+="0";g0h=this.highlighted == v5C?!0:!"1";this.littleCircle(G0h,N0h,H0h,g0h);}}},! ![]);Q0E.Drawing.speedarc=function(){var s5C;s5C="sp";s5C+="eedar";s5C+="c";this.name=s5C;this.printLevels=! !{};};Q0E.inheritsFrom(Q0E.Drawing.speedarc,Q0E.Drawing.segment);Q0E.extend(Q0E.Drawing.speedarc.prototype,{defaultOpacity:0.25,configs:["color","fillColor",i5C,"pattern"],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;H9u.Y9u();this.pattern=this.stx.currentVectorParameters.pattern;},intersected:function(a0h,q7h,P7h){var A7h,x7h,u7h,L7h,f7h,l7h;if(!this.p0 || !this.p1){return null;}A7h={0:this.p0,1:this.p1};for(var V7h in A7h){if(this.pointIntersection(A7h[V7h]["0" << 1431414368],A7h[V7h][1],P7h)){H9u.v1T(0);this.highlighted=H9u.n1T((632.9,986) >= 5331?(+"8.69e+3",7.70e+3):(+"3099","640.97" * 1) < ("926.19" * 1,"929" << 1987137216)?"p":(! !{},9.81e+3),V7h);return {action:"drag",point:"p" + V7h};}}x7h=this.lineIntersection(a0h,q7h,P7h,this.name);if(x7h){this.highlighted=! !1;return {action:"move",p0:Q0E.clone(this.p0),p1:Q0E.clone(this.p1),tick:a0h,value:q7h};}u7h=this.p1[0] - (this.p0[0] - this.p1[0]);L7h=this.p0[0];f7h=this.p1[1];l7h=this.p0[1];H9u.Y9u();if(a0h > Math.max(u7h,L7h) || a0h < Math.min(u7h,L7h)){return null;}if(q7h > Math.max(l7h,f7h) || q7h < Math.min(l7h,f7h)){return null;}this.highlighted=!"";return {action:"move",p0:Q0E.clone(this.p0),p1:Q0E.clone(this.p1),tick:a0h,value:q7h};},render:function(w7h){var k5C,Q7h,c7h,R7h,B7h,S7h,m7h,O7h,T7h,b7h,d7h,e7h,I7h,J7h,Y7h,D5C,Z7h,o7h;k5C="s";k5C+="t";k5C+="x_yax";k5C+="is";Q7h=this.stx.panels[this.panelName];if(!Q7h){return;}if(!this.p1){return;}c7h=this.stx.pixelFromTick(this.p0[0],Q7h.chart);R7h=this.stx.pixelFromTick(this.p1[0],Q7h.chart);B7h=this.stx.pixelFromValueAdjusted(Q7h,this.p0[0],this.p0[1]);S7h=this.stx.pixelFromValueAdjusted(Q7h,this.p1[0],this.p1[1]);H9u.v1T(57);m7h=H9u.f1T(S7h,B7h);H9u.v1T(58);O7h=Math.abs(H9u.f1T(S7h,c7h,R7h,B7h));T7h=this.getLineColor();w7h.strokeStyle=T7h;b7h=this.fillColor;H9u.z9u();if(b7h == "auto" || Q0E.isTransparent(b7h)){b7h=this.stx.defaultColor;}w7h.fillStyle=b7h;if(w7h.setLineDash){w7h.setLineDash(Q0E.borderPatternToArray(this.lineWidth,this.pattern));H9u.B1T(23);w7h.lineDashOffset=H9u.f1T(1,"0");;}this.stx.canvasFont(k5C,w7h);for(var v7h=1;v7h < 3;v7h++){H9u.B1T(71);var I0s=H9u.f1T(2,1,4);H9u.B1T(72);var S0s=H9u.n1T(111,0,4,17,11);H9u.v1T(47);var X0s=H9u.f1T(15,54,12,9);d7h=Math.abs(this.p1[I0s] - this.p0[S0s]) * Math.sqrt(+"2") * v7h / X0s;H9u.v1T(1);var l0s=H9u.n1T(10,9);H9u.v1T(73);var F0s=H9u.n1T(9,9,5,11,5);H9u.B1T(74);var h0s=H9u.n1T(51,0,17,15,4);H9u.v1T(29);var b0s=H9u.n1T(30,20,11);H9u.B1T(5);var g0s=H9u.f1T(6,3,4);e7h=this.p1[l0s] + d7h * (m7h?F0s:h0s) * (Q7h.yAxis.flipped?b0s:g0s);I7h=this.stx.pixelFromValueAdjusted(Q7h,this.p0[+"0"],e7h);w7h.save();w7h.beginPath();H9u.B1T(9);w7h.scale(H9u.n1T(O7h,1),1);H9u.v1T(23);w7h.arc(H9u.f1T(O7h,R7h),S7h,Math.abs(I7h - S7h),0,Math.PI,!m7h);w7h.globalAlpha=this.highlighted?"1" | 0:this.defaultOpacity;if(this.pattern != "none"){w7h.stroke();}w7h.globalAlpha=0.1;w7h.fill();w7h.restore();w7h.globalAlpha=1;if(this.printLevels){w7h.fillStyle=T7h;w7h.textAlign="center";H9u.B1T(0);J7h=H9u.f1T(v7h,"/3");w7h.fillText(J7h,R7h,Math.round(I7h - +"5"));w7h.fillStyle=b7h;}}w7h.textAlign="left";Y7h={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};this.stx.plotLine(c7h,R7h,B7h,S7h,T7h,"segment",w7h,Q7h,Y7h);if(w7h.setLineDash){w7h.setLineDash([]);}if(this.highlighted){D5C="p";D5C+="0";Z7h=this.highlighted == D5C?! !1:![];o7h=this.highlighted == "p1"?!"":!"1";this.littleCircle(w7h,c7h,B7h,Z7h);this.littleCircle(w7h,R7h,S7h,o7h);}},reconstruct:function(i7h,k7h){this.stx=i7h;this.color=k7h.col;this.fillColor=k7h.fc;this.panelName=k7h.pnl;this.pattern=k7h.ptrn;this.lineWidth=k7h.lw;this.d0=k7h.d0;this.d1=k7h.d1;this.tzo0=k7h.tzo0;this.tzo1=k7h.tzo1;this.v0=k7h.v0;this.v1=k7h.v1;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};}},! ![]);Q0E.Drawing.speedline=function(){var T2C,Y2C,V2C;T2C=1912683957;H9u.z9u();Y2C=-1218556524;V2C=2;for(var B2C=1;H9u.A2C(B2C.toString(),B2C.toString().length,+"50514") !== T2C;B2C++){this.name="";this.printLevels=!{};V2C+=2;}if(H9u.A2C(V2C.toString(),V2C.toString().length,77510) !== Y2C){this.name="speedline";this.printLevels=! !1;}};Q0E.inheritsFrom(Q0E.Drawing.speedline,Q0E.Drawing.speedarc);Q0E.extend(Q0E.Drawing.speedline.prototype,{intersected:function(F7h,C7h,r7h){var D7h,p7h,M7h,y7h;D7h=this.p0;p7h=this.p1;if(!D7h || !p7h){return null;}M7h={0:D7h,1:p7h};H9u.z9u();for(var t7h in M7h){if(this.pointIntersection(M7h[t7h][0],M7h[t7h][1],r7h)){H9u.v1T(0);this.highlighted=H9u.n1T("p",t7h);return {action:"drag",point:((64.4,"257.59" - 0) == ("47" - 0,4180)?(742.00,! !0):"p") + t7h};}}y7h=this.rays;for(var W7h=+"0";W7h < y7h.length;W7h++){if(this.lineIntersection(F7h,C7h,r7h,"ray",y7h[W7h][0],y7h[W7h][1],! !"1")){this.highlighted=!"";return {action:"move",p0:Q0E.clone(D7h),p1:Q0E.clone(p7h),tick:F7h,value:C7h};}}return null;},render:function(h7h){var n5C,A5C,X7h,z7h,N7h,n7h,K7h,f92,G7h,E7h,l92,P92,x92,u92,L92,H7h,U7h,s7h,q92,j7h,a7h,V92,A92,w5C,W5C,K5C,t5C,w92,Q92;n5C="lef";n5C+="t";A5C="1/";A5C+="3";X7h=this.stx.panels[this.panelName];if(!X7h){return;}if(!this.p1){return;}z7h=this.stx.pixelFromTick(this.p0[0],X7h.chart);N7h=this.stx.pixelFromTick(this.p1[+"0"],X7h.chart);n7h=this.stx.pixelFromValueAdjusted(X7h,this.p0[0],this.p0[1]);K7h=this.stx.pixelFromValueAdjusted(X7h,this.p1[0],this.p1[1]);this.stx.canvasFont("stx_yaxis",h7h);f92=this.getLineColor();G7h=this.color;if(G7h == "auto" || Q0E.isTransparent(G7h)){G7h=this.stx.defaultColor;}h7h.strokeStyle=G7h;E7h=this.fillColor;if(E7h == "auto" || Q0E.isTransparent(E7h)){E7h=this.stx.defaultColor;}h7h.fillStyle=E7h;l92={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};u92=["1","2/3",A5C,"3/2","3"];H9u.v1T(9);L92=[1,H9u.f1T(3,2),H9u.n1T(3,"1",H9u.v1T(75)),H9u.n1T(3,"2",H9u.v1T(76)),H9u.n1T(1,"3",H9u.v1T(14))];H7h=[];this.rays=[];H9u.z9u();for(var g7h=0;g7h < L92.length;g7h++){U7h=L92[g7h];if(U7h > ("1" ^ 0) && !this.extension)continue;s7h=this.stx.pixelFromValueAdjusted(X7h,this.p0[0],this.p0[1] - (this.p0[1] - this.p1[1]) * U7h);if(U7h > 1){q92=Q0E.xIntersection({x0:z7h,x1:N7h,y0:n7h,y1:s7h},K7h);H7h.push(q92);}else {q92=Q0E.xIntersection({x0:N7h,x1:N7h,y0:n7h,y1:K7h},s7h);H7h.push(s7h);}j7h=U7h > 1?q92:N7h;a7h=U7h > 1?K7h:s7h;if(!this.confineToGrid){j7h=X7h.left;if(N7h > z7h){j7h+=X7h.width;}H9u.B1T(66);a7h=H9u.f1T(z7h,N7h,j7h,z7h,n7h,s7h,n7h);}if(this.printLevels){if(U7h != ("1" & 2147483647) || this.extension){h7h.fillStyle=G7h;V92=0;A92=0;if(n7h > K7h){H9u.B1T(1);A92=-H9u.n1T("5",0);h7h.textBaseline="bottom";}else {w5C="t";w5C+="o";w5C+="p";A92=5;h7h.textBaseline=w5C;}if(z7h > N7h){W5C="rig";W5C+="h";W5C+="t";V92=5;h7h.textAlign=W5C;}else {K5C="l";K5C+="e";K5C+="f";K5C+="t";V92=-5;h7h.textAlign=K5C;}if(U7h > 1){h7h.fillText(u92[g7h],q92 + (this.confineToGrid?0:V92),K7h);}else {h7h.fillText(u92[g7h],N7h,s7h + (this.confineToGrid?0:A92));}h7h.fillStyle=E7h;}}this.stx.plotLine(z7h,j7h,n7h,a7h,this.highlighted?f92:G7h,"segment",h7h,X7h,l92);if(U7h == ("1" | 0)){P92=j7h;x92=a7h;}this.rays.push([[z7h,n7h],[j7h,a7h]]);h7h.globalAlpha=0.1;h7h.beginPath();h7h.moveTo(j7h,a7h);h7h.lineTo(z7h,n7h);h7h.lineTo(P92,x92);h7h.fill();h7h.globalAlpha=1;}h7h.textAlign=n5C;h7h.textBaseline="middle";if(this.confineToGrid){h7h.globalAlpha=0.3;h7h.beginPath();H9u.B1T(1);h7h.strokeRect(z7h,n7h,H9u.f1T(N7h,z7h),H9u.n1T(K7h,n7h));h7h.moveTo(z7h,H7h[1]);h7h.lineTo(N7h,H7h[1]);h7h.moveTo(z7h,H7h[2]);h7h.lineTo(N7h,H7h[2]);if(this.extension){h7h.moveTo(H7h[3],n7h);h7h.lineTo(H7h[3],K7h);h7h.moveTo(H7h[+"4"],n7h);h7h.lineTo(H7h[4],K7h);}h7h.stroke();h7h.globalAlpha=+"1";}if(this.highlighted){t5C="p";t5C+="0";w92=this.highlighted == t5C?! ![]:!1;Q92=this.highlighted == "p1"?! !1:!"1";this.littleCircle(h7h,z7h,n7h,w92);this.littleCircle(h7h,N7h,K7h,Q92);}}},! ![]);Q0E.Drawing.gannfan=function(){this.name="gannfan";this.printLevels=!0;};Q0E.inheritsFrom(Q0E.Drawing.gannfan,Q0E.Drawing.speedline);Q0E.extend(Q0E.Drawing.gannfan.prototype,{render:function(S92){var T5C,B92,R92,v92,b92,I92,k92,c92,O92,i92,t92,W92,Z92,T92,D92,o92,m92,d92,J92,Y92,p92,M92;T5C="le";T5C+="f";T5C+="t";B92=this.stx.panels[this.panelName];if(!B92){return;}if(!this.p1){return;}R92=this.stx.pixelFromTick(this.p0[0],B92.chart);v92=this.stx.pixelFromTick(this.p1[0],B92.chart);b92=this.stx.pixelFromValueAdjusted(B92,this.p0[0],this.p0["1" | 0]);I92=this.stx.pixelFromValueAdjusted(B92,this.p1[0],this.p1[1]);this.stx.canvasFont("stx_yaxis",S92);k92=this.getLineColor();c92=this.color;if(c92 == "auto" || Q0E.isTransparent(c92)){c92=this.stx.defaultColor;}S92.strokeStyle=c92;O92=this.fillColor;if(O92 == "auto" || Q0E.isTransparent(O92)){O92=this.stx.defaultColor;}S92.fillStyle=O92;i92={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};H9u.B1T(23);Z92=[H9u.f1T(1,"1"),2,3,4,8,H9u.f1T(2,1,H9u.B1T(9)),H9u.n1T(1,"3",H9u.B1T(76)),H9u.n1T(4,1,H9u.B1T(9)),H9u.f1T(8,1,H9u.B1T(9))];this.rays=[];for(var e92=0;e92 < Z92.length;e92++){T92=Z92[e92];H9u.B1T(77);D92=H9u.f1T(R92,v92,R92,T92);H9u.v1T(78);o92=H9u.f1T(T92,I92,b92,b92);m92=B92.left;if(v92 > R92){m92+=B92.width;}H9u.B1T(66);d92=H9u.n1T(R92,v92,m92,R92,b92,o92,b92);if(this.printLevels){S92.fillStyle=c92;J92=0;Y92=+"0";if(b92 > I92){Y92=5;S92.textBaseline="top";}else {Y92=-5;S92.textBaseline="bottom";}if(R92 > v92){J92=5;S92.textAlign="left";}else {J92=-5;S92.textAlign="right";}if(T92 > 1){H9u.B1T(0);S92.fillText(H9u.f1T(T92,"x1"),H9u.n1T(D92,J92),I92);}else {H9u.v1T(45);S92.fillText(H9u.n1T(1,T92,"1x"),v92,H9u.n1T(o92,Y92,H9u.v1T(0)));}S92.fillStyle=O92;}this.stx.plotLine(R92,m92,b92,d92,this.highlighted?k92:c92,"segment",S92,B92,i92);this.rays.push([[R92,b92],[m92,d92]]);if(T92 == 1){t92=m92;W92=d92;}H9u.v1T(1);S92.globalAlpha=H9u.n1T("0.1",0);S92.beginPath();S92.moveTo(m92,d92);S92.lineTo(R92,b92);S92.lineTo(t92,W92);S92.fill();S92.globalAlpha=1;}S92.textAlign=T5C;S92.textBaseline="middle";if(this.highlighted){p92=this.highlighted == "p0"?!"":! !"";M92=this.highlighted == "p1"?! ![]:! !0;this.littleCircle(S92,R92,b92,p92);this.littleCircle(S92,v92,I92,M92);}}},! !"1");Q0E.Drawing.timecycle=function(){this.name="timecycle";H9u.z9u();this.printLevels=! !"1";};Q0E.inheritsFrom(Q0E.Drawing.timecycle,Q0E.Drawing.speedarc);Q0E.extend(Q0E.Drawing.timecycle.prototype,{intersected:function(z92,n92,C92){var y92,r92,N92,h92,H92;y92=this.p0;H9u.z9u();r92=this.p1;N92=this.stx.panels[this.panelName];if(!y92 || !r92 || !N92){return null;}h92={0:y92,1:r92};for(var F92 in h92){if(this.pointIntersection(h92[F92][0],h92[F92][1],C92)){H9u.v1T(0);this.highlighted=H9u.f1T((75,6789) === (5178,862.87)?(0x1d2a,0x498):8666 === 22.21?8980 !== 934.25?![]:(6.49e+3,"Z"):"p",F92);return {action:"drag",point:((942.21,688.68) === (+"4260",528)?![]:(7360,8400) <= (2159,"56" & 2147483647)?+"0x964":"p") + F92};}}H92=this.lineIntersection(z92,n92,C92,"segment");if(H92 || C92.x0 <= this.p0[+"0"] && C92.x1 >= y92[+"0"]){this.highlighted=! !{};return {action:"move",p0:Q0E.clone(y92),p1:Q0E.clone(r92),tick:z92,value:n92};}return null;},render:function(X92){var K92,j92,a92,u22,L22,V22,f22,Q22,l22,U92,P22,E92,g92,q22,x22,G92,A22,S22,R22,b22,w22;K92=this.stx.panels[this.panelName];if(!K92){return;}if(!this.p1){return;}j92=this.stx.pixelFromTick(this.p0[0],K92.chart);a92=this.stx.pixelFromTick(this.p1[0],K92.chart);u22=this.stx.pixelFromValueAdjusted(K92,this.p0[0],this.p0[1]);L22=this.stx.pixelFromValueAdjusted(K92,this.p1[0],this.p1[1]);V22=0;f22=this.getLineColor();X92.textBaseline="middle";this.stx.canvasFont("stx_yaxis",X92);Q22=20;l22=this.p1[0] - this.p0[0];H9u.z9u();X92.textAlign="center";U92=j92;P22=K92.yAxis.top;E92=K92.yAxis.bottom;g92=this.color;if(g92 == "auto" || Q0E.isTransparent(g92)){g92=this.stx.defaultColor;}q22=this.fillColor;if(q22 == "auto" || Q0E.isTransparent(q22)){q22=this.stx.defaultColor;}if(this.printLevels){H9u.B1T(1);E92-=H9u.f1T(Q22,7);}x22={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};G92=[];X92.save();X92.fillStyle=q22;H9u.B1T(1);X92.globalAlpha=H9u.f1T("0.05",0);do {U92=this.stx.pixelFromTick(this.p0["0" >> 130397376] + V22 * l22,K92.chart);V22++;if(j92 < a92 && U92 > K92.left + K92.width)break;else if(j92 > a92 && U92 < K92.left)break;else if(U92 < K92.left || U92 > K92.left + K92.width)continue;X92.beginPath();X92.moveTo(j92,P22);X92.lineTo(U92,P22);X92.lineTo(U92,E92);X92.lineTo(j92,E92);X92.fill();G92.push({c:V22,x:U92});}while(l22);X92.globalAlpha=1;A22=0;for(var s92=0;s92 < G92.length;s92++){this.stx.plotLine(G92[s92].x,G92[s92].x,0,E92,this.highlighted?f22:g92,"segment",X92,K92,x22);if(this.printLevels){X92.fillStyle=g92;H9u.v1T(5);var u0s=H9u.n1T(7,10,0);S22=this.stx.chart.context.measureText(G92[s92].c).width + u0s;if(S22 < this.stx.layout.candleWidth + A22){X92.fillText(G92[s92].c,G92[s92].x,E92 + 7);A22=0;}else {A22+=this.stx.layout.candleWidth;}}}X92.restore();X92.textAlign="left";this.stx.plotLine(j92,a92,u22,L22,f22,"segment",X92,K92,x22);if(this.highlighted){R22=this.highlighted == "p0"?!0:![];b22=this.highlighted == "p1"?!"":!{};this.littleCircle(X92,j92,u22,R22);this.littleCircle(X92,a92,L22,b22);}else {w22=this.stx.valueFromPixel(K92.height / 2,K92);this.setPoint(0,this.p0[+"0"],w22,K92.chart);this.setPoint(1,this.p1[0],w22,K92.chart);}}},!"");Q0E.Drawing.regression=function(){this.name="regression";};Q0E.inheritsFrom(Q0E.Drawing.regression,Q0E.Drawing.segment);Q0E.extend(Q0E.Drawing.regression.prototype,{configs:["color","lineWidth","pattern","active1","color1","lineWidth1","pattern1",Y5C,"color2",V5C,"pattern2","active3",a5C,"lineWidth3","pattern3"],copyConfig:function(v22){var B22;Q0E.Drawing.copyConfig(this,v22);B22=this.stx.currentVectorParameters;this.active1=! !B22.active1;this.active2=! !B22.active2;this.active3=! !B22.active3;this.color1=B22.color1 || "auto";this.color2=B22.color2 || "auto";this.color3=B22.color3 || "auto";this.lineWidth1=B22.lineWidth1;this.lineWidth2=B22.lineWidth2;this.lineWidth3=B22.lineWidth3;this.pattern1=B22.pattern1;this.pattern2=B22.pattern2;this.pattern3=B22.pattern3;},$controls:[B5C,'cq-cvp-controller[cq-cvp-header="2"]','cq-cvp-controller[cq-cvp-header="3"]'],click:function(Y22,m22,O22){var T22,c22,I22,d22;if(m22 < 0){return;}this.copyConfig();T22=this.stx.panels[this.panelName];if(!this.penDown){this.setPoint(0,m22,O22,T22.chart);this.penDown=! !{};c22=this.stx;this.field=c22.highlightedDataSetField;if(!this.field && T22 != c22.chart.panel){for(var e22 in c22.chart.seriesRenderers){I22=c22.chart.seriesRenderers[e22];if(I22.params.panel == T22.name){this.field=I22.seriesParams[0].field;break;}}for(var J22 in c22.layout.studies){d22=c22.layout.studies[J22];if(d22.panel == T22.name){this.field=Object.keys(d22.outputMap)[H9u.f1T(2147483647,"0",H9u.v1T(7))];break;}}}return !{};}if(this.accidentalClick(m22,O22)){return this.dragToDraw;}this.setPoint(+"1",m22,O22,T22.chart);this.penDown=![];return ! !"1";;},getYValue:function(D22){var Q5C,k22,i22,t22,p22,o22,Z22,W22;Q5C="Clo";Q5C+="se";k22=this.stx.chart.dataSet[D22];i22=this.stx.chart.dataSet[D22];if(!k22){return null;}t22=this.stx.panels[this.panelName];p22=this.stx.getYAxisByField(t22,this.field) || t22.yAxis;if(this.stx.charts[t22.name] && t22.chart.transformFunc && p22 == t22.yAxis){i22=k22.transform;}if(!i22){return null;}o22=null;H9u.z9u();Z22=null;W22=this.stx.defaultPlotField || Q5C;if(this.field){Z22=Q0E.existsInObjectChain(i22,this.field);if(!Z22){return null;}o22=Z22=Z22.obj[Z22.member];if(k22 != i22){o22=Q0E.existsInObjectChain(k22,this.field);o22=o22.obj[o22.member];}if(typeof Z22 == "object"){Z22=Z22[W22];o22=o22[W22];}}else {Z22=i22[W22];o22=k22[W22];}return {transformed:Z22,untransformed:o22};},render:function(n22){var y22,C22,r22,g22,N22,a22,H22,U22,f12,l12,P12,x12,j22,q12,M22,h22,w12,Q12,G22,s22,S12,E22,V12,A12,X22,K22,u12,L12,b12,R12,B12,z22,I5C,v12,T12;y22=this.stx.panels[this.panelName];if(!y22){return;}if(!this.p1){return;}if(this.p0[+"0"] < 0 || this.p1[0] < 0){return;}C22=this.stx.pixelFromTick(this.p0[0],y22.chart);H9u.z9u();r22=this.stx.pixelFromTick(this.p1["0" - 0],y22.chart);if(C22 < y22.left && r22 < y22.left){return;}if(C22 > y22.right && r22 > y22.right){return;}g22=this.stx.getYAxisByField(y22,this.field);N22=[];a22=[];H22=0;U22=0;f12=0;H9u.v1T(14);l12=H9u.f1T(0,"0");P12=Math.min(this.p1[0],this.p0[+"0"]);H9u.v1T(79);var j0s=H9u.f1T(684,18,8,19,3);x12=Math.max(this.p1[0],this.p0[0]) + j0s;H9u.v1T(1);j22=H9u.n1T(x12,P12);for(var F22=P12;F22 < x12;F22++){q12=this.getYValue(F22);if(q12){N22.push(q12.transformed);a22.push(q12.untransformed);}}M22=N22.length;H9u.v1T(80);h22=H9u.f1T(M22,M22,"2",1);w12=Math.pow(h22,2);H9u.B1T(81);Q12=H9u.f1T("2",3,M22,h22,1);for(F22=0;F22 < M22;F22++){f12+=M22 * N22[F22] - H22;H22+=N22[F22];l12+=M22 * a22[F22] - U22;U22+=a22[F22];}H9u.v1T(82);G22=H9u.n1T(M22,h22,w12,f12,Q12,H22,M22);H9u.v1T(83);s22=H9u.f1T(h22,G22,H22,M22);H9u.B1T(82);S12=H9u.f1T(M22,h22,w12,l12,Q12,U22,M22);H9u.B1T(83);E22=H9u.n1T(h22,G22,U22,M22);if(this.p0[0] < this.p1[0]){V12=s22;H9u.B1T(84);A12=H9u.n1T(j22,G22,s22);this.p0[1]=E22;H9u.B1T(84);this.p1[1]=H9u.f1T(j22,S12,E22);}else {H9u.B1T(84);V12=H9u.n1T(j22,G22,s22);A12=s22;H9u.B1T(84);this.p0[+"1"]=H9u.f1T(j22,S12,E22);this.p1[1]=E22;}X22=this.stx.pixelFromTransformedValue(V12,y22,g22);K22=this.stx.pixelFromTransformedValue(A12,y22,g22);u12=this.getLineColor();L12={pattern:this.pattern,lineWidth:this.lineWidth};this.stx.plotLine(C22,r22,X22,K22,u12,"segment",n22,y22,L12);H9u.B1T(1);this.stx.plotLine(C22,C22,H9u.f1T(X22,20),H9u.f1T(X22,20,H9u.v1T(0)),u12,"segment",n22,y22,L12);H9u.v1T(85);this.stx.plotLine(r22,r22,H9u.n1T("20",K22,1637057056),H9u.f1T(K22,"20",H9u.v1T(69)),u12,"segment",n22,y22,L12);if(this.active1 || this.active2 || this.active3){H9u.v1T(9);b12=H9u.f1T(M22,H22);H9u.B1T(7);R12=H9u.n1T(2147483647,"0");for(F22=0;F22 < M22;F22++){R12+=Math.pow(N22[F22] - b12,2);}H9u.B1T(9);B12=Math.sqrt(H9u.f1T(M22,R12));z22={context:n22,panel:y22,points:{0:{x:C22,v:V12},1:{x:r22,v:A12}},stddev:B12,yAxis:g22};this.lines={};if(this.active1){this.renderStddev(836.2 != 6690?"1":("v","D"),(643,654.67) === 4150?(! !{},"M"):"p",z22);this.renderStddev((5540,360.61) >= 9760?0x251:"1",(410.42,59.52) > (9650,7720)?(0x83a,616.82):(8029,697.89) != (822,8532)?"n":6320 >= 233.64?292.26:6.65e+2,z22);}if(this.active2){this.renderStddev((642.15,564) != +"7933"?+"6270" != ("961" >> 969304480,"5410" & 2147483647)?874.65 < 534?715.11:"2":9.21e+3:("9.92e+3" | 8256,815.24),"p",z22);this.renderStddev((6640,"51.56" - 0) == 8080?(4.21e+3,0x1539):"2",(8840,185.33) > 3528?(!{},1.13e+3):170.34 !== ("787.88" - 0,9170)?"n":0x1fd2,z22);}if(this.active3){this.renderStddev(600.43 >= +"6810"?944.06 <= "680.31" - 0?(4.29e+3,326.52):! ![]:"3",1215 < "6076" << 632765728?"529.57" - 0 != (9970,6240)?(5320,5580) !== (4362,6815)?"p":("0x22b" & 2147483647,!{}):(0x107,!""):("236" & 2147483647,6.37e+3),z22);this.renderStddev("3",(7193,"2880" & 2147483647) != 551.28?"n":! !{},z22);}}if(!this.highlighted){this.pixelX=[C22,r22];this.pixelY=[X22,K22];}else {I5C="p";I5C+="0";v12=this.highlighted == I5C?! !"1":! !0;T12=this.highlighted == "p1"?! !1:!1;this.littleCircle(n22,C22,X22,v12);this.littleCircle(n22,r22,K22,T12);}},renderStddev:function(Y12,y12,Z12){H9u.Y9u();var W12,F12,C12,r12,o12,D12,p12,i12,t12,d12,O12,k12,m12,I12,e12,J12,h12,z12,M12,n12;H9u.B1T(11);W12=H9u.n1T(Y12,y12,"stddev");H9u.B1T(0);F12=H9u.f1T("color",Y12);H9u.v1T(0);C12=H9u.n1T("pattern",Y12);H9u.B1T(0);r12=H9u.n1T("lineWidth",Y12);o12=Z12.points;D12=o12["0" ^ 0].v;p12=o12[1].v;i12=Z12.stddev;t12=y12 === (798 > "6119" >> 1520895360?(6.57e+3,! !{}):(978,5007) != 798.4?"n":(1572,"972.46" * 1) <= ("5" & 2147483647)?+"277":"h")?Y12 * -1:Y12 * 1;d12=this.stx;O12=Z12.panel;k12=Z12.yAxis;m12={name:W12,color:this.getLineColor(this[F12]),type:"segment",y0:d12.pixelFromTransformedValue(D12 + i12 * t12,O12,k12),y1:d12.pixelFromTransformedValue(p12 + i12 * t12,O12,k12),params:{pattern:this[C12],lineWidth:this[r12]}};if(this.lines){this.lines[W12]=m12;}I12=Z12.context;e12=o12[0].x;J12=o12[1].x;d12.plotLine(e12,J12,m12.y0,m12.y1,m12.color,m12.type,I12,O12,m12.params);d12.plotLine(e12,e12,m12.y0 - 10,m12.y0 + +"10",m12.color,m12.type,I12,O12,m12.params);d12.plotLine(J12,J12,m12.y1 - 10,m12.y1 + 10,m12.color,m12.type,I12,O12,m12.params);H9u.v1T(0);h12=H9u.n1T(Y12,7430 != 4363?"\u03c3":2986 > 6200?("C",2.00e+3):999 >= (215.46,+"6770")?(0x23de,0x151f):(652.16,8.51e+3));z12=Math.max(e12,J12) + +"5";M12=e12 < J12?m12.y1:m12.y0;I12.fillStyle=m12.color;I12.save();I12.textBaseline="middle";I12.fillText(h12,z12,M12);I12.restore();if(Z12.formatPrice && this.axisLabel && !this.highlighted && !this.penDown){if(e12 >= O12.chart.left && e12 <= O12.chart.right || J12 >= O12.chart.left && J12 <= O12.chart.right){H9u.B1T(86);n12=H9u.n1T(i12,e12 < J12?p12:D12,t12);d12.endClip();d12.createYAxisLabel(O12,Z12.formatPrice(n12,k12),M12,m12.color,null,I12,k12);d12.startClip(O12.name);}}},intersected:function(X12,K12,E12){var U12,j12,S5C,G12,g12,a12,s12,H12;if(!this.pixelX || !this.pixelY){return null;}U12=this.repositionIntersection(X12,K12);if(U12){return U12;}j12={0:this.pixelX,1:this.pixelY};for(var N12=+"0";N12 < 2;N12++){if(this.pointIntersection(j12[0][N12],j12["1" ^ 0][N12],E12,!"")){S5C="d";S5C+="ra";S5C+="g";H9u.B1T(0);this.highlighted=H9u.n1T("p",N12);return {action:S5C,point:"p" + N12};}}G12=this;H9u.B1T(14);g12=this.pixelX[H9u.n1T(0,"0")];a12=this.pixelX[+"1"];s12=function(V32){var A32,u32;A32=[g12,V32.y0];u32=[a12,V32.y1];H9u.Y9u();return G12.lineIntersection(X12,K12,E12,G12.name,A32,u32,! ![]);};H12=s12({y0:this.pixelY[0],y1:this.pixelY[1]});if(!H12 && this.lines){for(var q32 in this.lines){if(s12(this.lines[q32])){H12=!0;break;}}}if(H12){this.highlighted=! !1;return {action:"move",p0:Q0E.clone(this.p0),p1:Q0E.clone(this.p1),tick:X12,value:K12};}return null;},repositionIntersection:function(L32,f32){var X5C;if(!this.p0 || !this.p1){return !"1";}if(this == this.stx.repositioningDrawing && this.highlighted){X5C="dr";X5C+="a";X5C+="g";if(this.highlighted === ! !1){return {action:"move",p0:Q0E.clone(this.p0),p1:Q0E.clone(this.p1),tick:L32,value:f32};}return {action:X5C,point:this.highlighted};}return !1;},lineIntersection:function(B32,v32,S32,R32,P32,x32,b32){var Q32,l32,w32;if(!b32){H9u.v1T(0);console.log(H9u.f1T(R32," lineIntersection must accept p0 and p1 in pixels.  Please verify and set isPixels=true."));return !{};}if(!P32){P32=this.p0;}if(!x32){x32=this.p1;}if(!(P32 && x32)){return ! !0;}Q32=this.stx;l32=Q0E.convertBoxToPixels(Q32,this.panelName,S32);if(l32.x0 === undefined){return ![];}w32={x0:P32["0" ^ 0],x1:x32[0],y0:P32[1],y1:x32[1]};return Q0E.boxIntersects(l32.x0,l32.y0,l32.x1,l32.y1,w32.x0,w32.y0,w32.x1,w32.y1);},boxIntersection:function(T32,m32,c32){if(c32.cx0 > Math.max(this.pixelX[0],this.pixelX[1]) || c32.cx1 < Math.min(this.pixelX[0],this.pixelX[1])){return ![];}if(!this.stx.repositioningDrawing && (c32.cy1 < this.pixelY[0] || c32.cy0 > this.pixelY[+"1"])){return !1;}return ! !{};},reconstruct:function(I32,O32){this.stx=I32;this.color=O32.col;this.color1=O32.col1;this.color2=O32.col2;this.color3=O32.col3;this.active1=O32.dev1;this.active2=O32.dev2;this.active3=O32.dev3;this.panelName=O32.pnl;this.pattern=O32.ptrn;this.pattern1=O32.ptrn1;this.pattern2=O32.ptrn2;this.pattern3=O32.ptrn3;this.lineWidth=O32.lw;this.lineWidth1=O32.lw1;this.lineWidth2=O32.lw2;this.lineWidth3=O32.lw3;this.d0=O32.d0;this.d1=O32.d1;this.tzo0=O32.tzo0;this.tzo1=O32.tzo1;this.field=O32.fld;this.adjust();},serialize:function(){H9u.z9u();return {name:this.name,pnl:this.panelName,dev1:this.active1,dev2:this.active2,dev3:this.active3,col:this.color,col1:this.color1,col2:this.color2,col3:this.color3,ptrn:this.pattern,ptrn1:this.pattern1,ptrn2:this.pattern2,ptrn3:this.pattern3,lw:this.lineWidth,lw1:this.lineWidth1,lw2:this.lineWidth2,lw3:this.lineWidth3,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},!0);Q0E.Drawing.trendline=function(){var l5C;l5C="trendlin";H9u.Y9u();l5C+="e";this.name=l5C;};Q0E.inheritsFrom(Q0E.Drawing.trendline,Q0E.Drawing.segment);Q0E.Drawing.trendline.prototype.configs=["color","fillColor","lineWidth",F5C,h5C];Q0E.Drawing.trendline.prototype.measure=function(){H9u.z9u();;};Q0E.Drawing.trendline.prototype.reconstruct=function(d32,e32){Q0E.Drawing.segment.prototype.reconstruct.call(this,d32,e32);this.callout=new Q0E.Drawing.callout();this.callout.reconstruct(d32,e32.callout);};Q0E.Drawing.trendline.prototype.serialize=function(){var J32;J32=Q0E.Drawing.segment.prototype.serialize.call(this);J32.callout=this.callout.serialize();return J32;};Q0E.Drawing.trendline.prototype.render=function(W32){var b5C,Y32,r32,k32,i32,Z32,o32,D32,t32,p32,h32,M32,z32,n32,y32,F32,C32,N32,H32,X32,K32;b5C=" ";b5C+="(";Y32=this.stx.panels[this.panelName];if(!Y32){return;}Q0E.Drawing.segment.prototype.render.call(this,W32);if(!this.callout){this.callout=new Q0E.Drawing.callout();r32=Q0E.Drawing.segment.prototype.serialize.call(this);this.callout.reconstruct(this.stx,r32);}this.callout.p0=Q0E.clone(this.p0);k32=this.stx.pixelFromTick(this.p0[0],Y32.chart);i32=this.stx.pixelFromTick(this.p1["0" >> 509300832],Y32.chart);Z32=this.stx.pixelFromValueAdjusted(Y32,this.p0["0" - 0],this.p0[1]);o32=this.stx.pixelFromValueAdjusted(Y32,this.p1[0],this.p1[1]);if(!isFinite(Z32) || !isFinite(o32)){return;}H9u.B1T(4);D32=H9u.f1T(k32,i32,2);H9u.v1T(4);t32=H9u.n1T(Z32,o32,2);this.fontSize=Q0E.stripPX(this.font && this.font.size || 13);H9u.v1T(87);var P0s=H9u.n1T(1403,7015,7026);H9u.B1T(11);var Z0s=H9u.f1T(14,6,4520);H9u.v1T(88);var C0s=H9u.n1T(6,9689,9708,1618);H9u.v1T(89);var z0s=H9u.n1T(7,5,116,2,11);H9u.v1T(90);var M0s=H9u.n1T(62,20,4,4);p32=this.callout.w * +"1.2" + (this.callout.stemEntry[0] == ((6.3,P0s) == Z0s?(! !{},C0s):"c")?"0" * z0s:M0s);h32=Math.sqrt(Math.pow(i32 - k32,2) + Math.pow(o32 - Z32,2));H9u.B1T(91);var m0s=H9u.n1T(15,12,6,107);H9u.v1T(1);var d0s=H9u.f1T(11,10);H9u.B1T(8);var e0s=H9u.n1T(9,8);M32=p32 / (h32 || p32) * (this.p1[m0s] < this.p0[d0s]?e0s:- +"1");H9u.B1T(92);z32=H9u.f1T(M32,D32,o32,t32);H9u.B1T(68);n32=H9u.n1T(D32,i32,t32,M32);this.callout.p0[0]=this.stx.tickFromPixel(z32,Y32.chart);H9u.v1T(1);this.callout.p0[H9u.n1T("1",0)]=this.stx.priceFromPixel(n32,Y32);this.callout.v0=this.callout.p0[1];this.callout.p1=Q0E.clone(this.p0);this.callout.stx=this.stx;this.callout.fillColor=this.fillColor || this.callout.fillColor;this.callout.borderColor=this.color;this.callout.font=this.font || this.callout.font;this.callout.noHandles=! ![];H9u.B1T(93);var L0s=H9u.f1T(6,14,14,5);H9u.v1T(1);var J0s=H9u.n1T(6,5);y32=this.p1[L0s] - this.p0[J0s];H9u.B1T(68);var E0s=H9u.n1T(4,0,42,10);H9u.B1T(94);H9u.Y9u();var R0s=H9u.f1T(16,19,16,6,14);H9u.B1T(27);var G0s=H9u.f1T(11,156,14);this.callout.text="" + Number(y32).toFixed(E0s) + (this.p0["1" * R0s] === +"0"?"":b5C + Number(100 * y32 / this.p0[1]).toFixed(G0s) + "%) ") + "" + Math.abs(this.p1[0] - this.p0[0]) + " Bars";F32=Math.floor((this.p0[0] + this.p1[0]) / 2);if(Math.abs(this.p0[0] - this.p1[0]) > 1 && Math.abs(this.p0[0] - this.p1[0]) < 20){N32=this.stx.pixelFromTick(F32,Y32.chart);H9u.v1T(95);H32=H9u.f1T(N32,Z32,i32,k32,k32,Z32,o32);C32=this.stx.priceFromPixel(H32,Y32) || t32;}else {C32=this.stx.priceFromPixel(t32,Y32);}this.callout.stem={t:F32,v:C32};this.callout.renderText();this.callout.render(W32);if(this.highlighted){X32=this.highlighted == "p0"?!"":!1;K32=this.highlighted == "p1"?! !"1":!1;this.littleCircle(W32,k32,Z32,X32);this.littleCircle(W32,i32,o32,K32);}};Q0E.Drawing.trendline.prototype.lineIntersection=function(U32,j32,G32,s32){var g5C;g5C="seg";g5C+="me";g5C+="n";g5C+="t";return Q0E.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,U32,j32,G32,g5C);};Q0E.Drawing.trendline.prototype.intersected=function(g32,a32,V62){var q62,E32;if(!this.p0 || !this.p1){return null;}q62=this.callout.intersected(g32,a32,V62);E32=Q0E.Drawing.segment.prototype.intersected.call(this,g32,a32,V62);this.callout.highlighted=! !(q62 || E32);if(E32){return E32;}else if(q62){return {action:"move",p0:Q0E.clone(this.p0),p1:Q0E.clone(this.p1),tick:g32,value:a32};}return null;};Q0E.Drawing.average=function(){var u5C;u5C="ave";u5C+="rage";this.name=u5C;};Q0E.inheritsFrom(Q0E.Drawing.average,Q0E.Drawing.regression);Q0E.extend(Q0E.Drawing.average.prototype,{configs:Q0E.Drawing.regression.prototype.configs.concat("axisLabel"),measure:function(){var j5C,A62,L62,l62,P62,f62,u62;H9u.Y9u();if(this.p0 && this.p1){j5C="&e";j5C+="n";j5C+="sp;";this.stx.setMeasure(0,!{},this.p0[0],this.p1[0],! !1,this.name);A62=[];L62="";if(this.active1){A62.push("1");}if(this.active2){A62.push(1400 != (3830,443.52)?"2":(244,+"346.90"));}if(this.active3){A62.push("3");}if(A62.length){L62=j5C + A62.join(", ") + " &sigma;";}l62=(this.stx.drawingContainer || document).querySelector(".mMeasure");P62=this.stx.controls.mSticky;f62=P62 && P62.querySelector(".mStickyInterior");if(l62){l62.innerHTML+=L62;}if(f62){u62=[];u62.push(Q0E.capitalize(this.name));u62.push(this.field || this.stx.defaultPlotField || "Close");u62.push(f62.innerHTML + L62);f62.innerHTML=u62.join("<br>");}}},render:function(B62){var x62,Q62,S62,m62,R62,J62,Y62,D62,Z62,d62,b62,c62,O62,T62,w62,I62,e62,o62,i62,v62,t62,W62;x62=this.stx.panels[this.panelName];if(!x62){return;}if(!this.p1){return;}if(this.p0[0] < 0 || this.p1[0] < 0){return;}Q62=this.stx.pixelFromTick(this.p0[0],x62.chart);S62=this.stx.pixelFromTick(this.p1[0],x62.chart);if(Q62 < x62.left && S62 < x62.left){return;}if(Q62 > x62.right && S62 > x62.right){return;}m62=this.stx.getYAxisByField(x62,this.field);R62=this.stx;J62=Math.min(this.p1[0],this.p0[0]);Y62=Math.max(this.p1[0],this.p0[0]) + +"1";H9u.v1T(1);D62=H9u.f1T(Y62,J62);Z62=0;d62=[];for(b62=J62;b62 < Y62;b62++){c62=this.getYValue(b62);if(c62 !== null){Z62+=c62.transformed;d62.push(c62);}}O62=d62.length;if(!O62){return;}H9u.v1T(9);T62=H9u.n1T(O62,Z62);w62=R62.pixelFromTransformedValue(T62,x62,m62);I62=this.getLineColor();e62={pattern:this.pattern,lineWidth:this.lineWidth};R62.plotLine(Q62,S62,w62,w62,I62,"segment",B62,x62,e62);H9u.B1T(12);R62.plotLine(Q62,Q62,H9u.n1T("20",w62),H9u.f1T(w62,20,H9u.v1T(0)),I62,"segment",B62,x62,e62);H9u.B1T(1);R62.plotLine(S62,S62,H9u.n1T(w62,20),H9u.n1T(w62,20,H9u.v1T(0)),I62,"segment",B62,x62,e62);if(this.axisLabel && !this.highlighted && !this.penDown){if(Q62 >= x62.chart.left && Q62 <= x62.chart.right || S62 >= x62.chart.left && S62 <= x62.chart.right){R62.endClip();R62.createYAxisLabel(x62,k62(T62,m62),w62,I62,null,B62,m62);R62.startClip(x62.name);}}if(this.active1 || this.active2 || this.active3){o62=0;for(b62=+"0";b62 < O62;b62++){c62=d62[b62];o62+=Math.pow(c62.transformed - T62,2);}H9u.v1T(9);i62=Math.sqrt(H9u.n1T(O62,o62));v62={context:B62,formatPrice:k62,panel:x62,points:{0:{x:Q62,v:T62},1:{x:S62,v:T62}},stddev:i62,yAxis:m62};this.lines={};if(this.active1){this.renderStddev(("7050" | 2434) <= 616.54?(9203,3328) < (416.93,5288)?(950.12,5.95e+3):! !0:"1",(5621,6928) === (+"280.86",213.89)?311.38:"p",v62);this.renderStddev("1",1325 > (+"2426",3926)?0xf2b:(5269,946.66) != 4030?"n":(27,"129.45" - 0) == (8643,858.95)?2.17e+3:(! ![],!{}),v62);}if(this.active2){this.renderStddev("963.24" - 0 > (+"480",4319)?(! ![],0x73b):("2264" & 2147483647,2077) >= (8790,4750)?(! !{},0x2632):1500 < 7234?"2":(5.10e+3,"E"),156.12 == 6580?4670 === 8474?163.62:"j":"p",v62);this.renderStddev((3320,+"4036") >= 6128?7.89e+3:"2",12 === (1090,"9860" - 0)?(11.94,"9100" - 0) >= 348.06?(6.93e+3,"0x1b60" & 2147483647):("E",!{}):"n",v62);}if(this.active3){this.renderStddev(8186 == ("6941" | 6681)?(301.72,8520) > 6500?("3209" - 0,935.08) < (4260,7850)?("k",0x1033):410.27:(0x1c57,491.54):"3",(1461,9599) === (4400,898.84)?(0x16a,0x157b):(820.34,7940) >= (972,499.23)?"p":(3458,303.76) > 5534?0x1c47:"n",v62);this.renderStddev(("4580" - 0,4911) >= 8593?"l":"3",(4.19,9580) !== (696.67,562)?"n":"l",v62);}}function k62(p62,M62){if(M62 && M62.priceFormatter){p62=M62.priceFormatter(R62,x62,p62);}else {p62=R62.formatYAxisPrice(p62,x62,null,M62);}return p62;}if(!this.highlighted){this.pixelX=[Q62,S62];this.pixelY=[w62,w62];}else {t62=this.highlighted == "p0"?! !{}:!"1";W62=this.highlighted == "p1"?! !1:!1;this.littleCircle(B62,Q62,w62,t62);this.littleCircle(B62,S62,w62,W62);}},reconstruct:function(F62,y62){this.axisLabel=y62.al;Q0E.Drawing.regression.prototype.reconstruct.call(this,F62,y62);},serialize:function(){var C62;H9u.z9u();C62=Q0E.Drawing.regression.prototype.serialize.call(this);C62.al=this.axisLabel;return C62;}},! !1);Q0E.Drawing.quadrant=function(){var P5C;P5C="quadr";P5C+="ant";this.name=P5C;};Q0E.inheritsFrom(Q0E.Drawing.quadrant,Q0E.Drawing.regression);Q0E.extend(Q0E.Drawing.quadrant.prototype,{configs:["color","fillColor",Z5C,"pattern"],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;H9u.z9u();this.lineWidth=this.stx.currentVectorParameters.lineWidth;this.pattern=this.stx.currentVectorParameters.pattern;},$controls:[],render:function(n62){var m5C,z5C,C5C,h62,r62,z62,N62,j62,H62,X62,E62,G62,g62,a62,q42,V42,A42,s62,K62,u42,U62,M5C,f42,g1C,u1C,j1C,l42;m5C="t";m5C+="iro";m5C+="n";m5C+="e";z5C="se";z5C+="g";z5C+="ment";C5C="a";C5C+="uto";h62=this.stx;r62=h62.panels[this.panelName];if(!r62){return;}if(!this.p1){return;}z62=h62.pixelFromTick(this.p0[0],r62.chart);N62=h62.pixelFromTick(this.p1[0],r62.chart);if(z62 < r62.left && N62 < r62.left){return;}if(z62 > r62.right && N62 > r62.right){return;}j62=this.stx.getYAxisByField(r62,this.field);H62=null;X62=null;for(var L42=Math.min(this.p1[0],this.p0[0]);L42 <= Math.max(this.p1[0],this.p0[0]);L42++){E62=this.getYValue(L42);if(E62 !== null){if(H62 === null || E62.transformed > H62){H62=E62.transformed;}if(X62 === null || E62.transformed < X62){X62=E62.transformed;}}}G62=h62.pixelFromTransformedValue(H62,r62,j62);H9u.B1T(96);g62=h62.pixelFromTransformedValue(H9u.n1T(H62,4,3,X62),r62,j62);H9u.B1T(96);a62=h62.pixelFromTransformedValue(H9u.f1T(H62,3,2,X62),r62,j62);H9u.B1T(4);q42=h62.pixelFromTransformedValue(H9u.n1T(H62,X62,2),r62,j62);H9u.v1T(97);V42=h62.pixelFromTransformedValue(H9u.n1T(3,2,X62,H62),r62,j62);H9u.B1T(98);A42=h62.pixelFromTransformedValue(H9u.f1T("4",X62,3,H62),r62,j62);s62=h62.pixelFromTransformedValue(X62,r62,j62);this.p0[1]=0;this.p1[1]=!"1";K62=this.getLineColor();u42=this.fillColor;if(u42 == C5C || Q0E.isTransparent(u42)){u42=h62.defaultColor;}n62.fillStyle=u42;U62={pattern:this.pattern,lineWidth:this.lineWidth};h62.plotLine(z62,N62,G62,G62,K62,z5C,n62,r62,U62);h62.plotLine(z62,N62,s62,s62,K62,"segment",n62,r62,U62);if(this.name == "quadrant"){h62.plotLine(z62,N62,g62,g62,K62,"segment",n62,r62,U62);h62.plotLine(z62,N62,A42,A42,K62,"segment",n62,r62,U62);}else if(this.name == "tirone"){M5C="segm";M5C+="e";M5C+="nt";h62.plotLine(z62,N62,a62,a62,K62,M5C,n62,r62,U62);h62.plotLine(z62,N62,V42,V42,K62,"segment",n62,r62,U62);}h62.plotLine(z62,z62,G62,s62,K62,"segment",n62,r62,U62);h62.plotLine(N62,N62,G62,s62,K62,"segment",n62,r62,U62);h62.plotLine(z62,N62,q42,q42,K62,"segment",n62,r62,Q0E.extend(U62,{opacity:this.name == "tirone"?0.2:1}));n62.globalAlpha=+"0.1";n62.beginPath();H9u.v1T(1);n62.fillRect(z62,G62,H9u.n1T(N62,z62),H9u.f1T(s62,G62));if(this.name == "quadrant"){H9u.B1T(1);n62.fillRect(z62,g62,H9u.f1T(N62,z62),H9u.n1T(A42,g62));}else if(this.name == m5C){H9u.v1T(1);n62.fillRect(z62,a62,H9u.n1T(N62,z62),H9u.n1T(V42,a62));}n62.globalAlpha=1;if(!this.highlighted){this.pixelX=[z62,N62];this.pixelY=[G62,s62,q42];if(this.name === "quadrant"){this.pixelY.push(g62,A42);}if(this.name === "tirone"){this.pixelY.push(a62,V42);}}else {f42=this.highlighted == "p0"?! !{}:! !"";g1C=-2059394740;u1C=-1360444775;j1C=2;for(var Z1C=1;H9u.D2C(Z1C.toString(),Z1C.toString().length,73788) !== g1C;Z1C++){l42=this.highlighted == "p1"?! !"1":!1;this.littleCircle(n62,z62,q42,f42);j1C+=2;}if(H9u.D2C(j1C.toString(),j1C.toString().length,4715) !== u1C){l42=this.highlighted != ""?![]:! ![];this.littleCircle(n62,z62,q42,f42);}this.littleCircle(n62,N62,q42,l42);}},intersected:function(S42,R42,B42){var b42,Q42,v42,d5C;var {pixelX:P42, pixelY:x42}=this;if(!P42 || !x42){return null;}b42=this.repositionIntersection(S42,R42);if(b42){return b42;}for(var w42="0" ^ 0;w42 < +"2";w42++){if(this.pointIntersection(P42[w42],x42[2],B42,! !{})){H9u.v1T(0);this.highlighted=H9u.f1T("p",w42);return {action:"drag",point:((994.42,"5830" ^ 0) != 6630?"p":("427.25" - 0,2900) != (+"5580",993.43)?(1078,73.86) != ("1448" ^ 0)?!{}:("K",4.49e+3):(4.89e+3,! !{})) + w42};}}Q42=[];P42.forEach(c42=>{Q42.push({p0:[c42,x42[0]],p1:[c42,x42[1]]});});x42.forEach(T42=>{Q42.push({p0:[P42["0" | 0],T42],p1:[P42[+"1"],T42]});});v42=Q42.some(({p0:m42, p1:O42})=>{return this.lineIntersection(S42,R42,B42,this.name,m42,O42,!"");});H9u.Y9u();if(v42){d5C="m";d5C+="o";d5C+="v";d5C+="e";this.highlighted=! !"1";return {action:d5C,p0:Q0E.clone(this.p0),p1:Q0E.clone(this.p1),tick:S42,value:R42};}return null;},reconstruct:function(d42,I42){this.stx=d42;this.color=I42.col;this.fillColor=I42.fc;this.panelName=I42.pnl;this.pattern=I42.ptrn;this.lineWidth=I42.lw;this.d0=I42.d0;this.d1=I42.d1;this.tzo0=I42.tzo0;this.tzo1=I42.tzo1;this.field=I42.fld;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},! !"1");Q0E.Drawing.tirone=function(){H9u.z9u();this.name="tirone";};Q0E.inheritsFrom(Q0E.Drawing.tirone,Q0E.Drawing.quadrant);Q0E.Drawing.elliottwave=function(){this.name="elliottwave";this.lastPoint=+"0";this.points=[];this.pts=[];this.dx=0;this.dy=-20;this.dragToDraw=!"1";this.annotationPoints=[];this.edit=null;};Q0E.inheritsFrom(Q0E.Drawing.elliottwave,Q0E.Drawing.annotation);Q0E.Drawing.elliottwave.defaultTemplate={impulse:[(+"1220",+"8650") === 245.18?! ![]:935.18 > 7480?(2790,177.82) === 986.88?(1.75e+3,! !{}):! !0:"I","II","III",e5C,"816.15" - 0 != 495.08?"V":(5535,398.62) > (8983,2491)?"57.10" - 0:8402 > "2390" - 0?(!"1",! ![]):! !"1"],corrective:["A",(542.78,1540) == (5051,3118)?(9.21e+3,"v"):"B","C"],decoration:"enclosed",showLines:! ![]};Q0E.Drawing.elliottwave.prototype.initializeSettings=function(e42){H9u.Y9u();e42.currentVectorParameters.waveParameters=Q0E.clone(Q0E.Drawing.elliottwave.defaultTemplate);};Q0E.Drawing.elliottwave.prototype.configs=["color",L5C,"lineColor",J5C,E5C,R5C];Q0E.Drawing.elliottwave.prototype.$controls=["br[cq-wave-parameters]","cq-wave-parameters"];Q0E.Drawing.elliottwave.prototype.construct=function(J42,Z42){var Y42;this.stx=J42;this.panelName=Z42.name;Y42=J42.currentVectorParameters;Object.assign(this,Y42.waveParameters);};Q0E.Drawing.elliottwave.prototype.serialize=function(){var x6C,c6C,q5C,k42,G5C;x6C="f";x6C+="l";c6C="s";c6C+="z";q5C="s";q5C+="t";k42={};for(var o42=0;o42 < this.points.length;o42++){G5C="t";G5C+="z";G5C+="o";H9u.B1T(0);k42[H9u.f1T((883,9040) <= 721.47?(688.85,2798) === ("1130" | 2,6540)?"n":"0x23b" >> 367791232:"d",o42)]=this[H9u.n1T("d",o42)];H9u.v1T(0);k42[H9u.n1T(G5C,o42)]=this[H9u.f1T("tzo",o42)];H9u.B1T(0);k42[H9u.n1T("v",o42)]=this[H9u.n1T("49.78" * 1 != (2360,8910)?(223,891) !== (1180,7180)?8327 === (+"8520",6480)?0xd00:"v":3.57e+3:"G",o42)];}k42.annotations=this.annotationPoints.join(",");return Object.assign({name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,mxSeg:this.maxSegments,show:this.showLines,decor:this.decoration,dx:this.dx,dy:this.dy,trend:this.trend,fnt:Q0E.removeNullValues(Q0E.replaceFields(this.font,{style:q5C,size:c6C,weight:"wt",family:x6C}))},k42);};Q0E.Drawing.elliottwave.prototype.reconstruct=function(t42,i42){var O6C,o6C;O6C="w";O6C+="eig";O6C+="ht";o6C="s";o6C+="t";o6C+="y";o6C+="le";this.stx=t42;this.color=i42.col;this.panelName=i42.pnl;this.pattern=i42.ptrn;this.lineWidth=i42.lw;this.font=Q0E.replaceFields(i42.fnt,{st:o6C,sz:"size",wt:O6C,fl:"family"});this.decoration=i42.decor;this.showLines=i42.show;this.dx=i42.dx;this.dy=i42.dy;this.trend=i42.trend;this.annotationPoints=i42.annotations.split(",");if(i42.decor === "enclosed"){this.calculateRadius(t42.chart.tempCanvas.context);}this.maxSegments=i42.mxSeg;this.reconstructPoints(i42);this.adjust();};Q0E.Drawing.elliottwave.prototype.reconstructPoints=function(D42){var p42,f6C,U6C,M42,y42;p42=this.stx.panels[this.panelName];if(!p42){return;}H9u.z9u();for(var W42=0;W42 < this.annotationPoints.length;W42++){f6C="t";f6C+="zo";U6C="t";U6C+="z";U6C+="o";H9u.B1T(0);this[H9u.f1T("7490" * 1 <= (276.67,520.85)?"s":859.55 >= (2770,7687)?198.96:"d",W42)]=D42[H9u.n1T("d",W42)];H9u.B1T(0);this[H9u.n1T("v",W42)]=D42[H9u.n1T(377.42 === (4946,74)?(5.18e+3,"U"):116.03 === (171.41,6159)?"0x4a8" >> 89042144:"v",W42)];H9u.B1T(0);this[H9u.f1T(U6C,W42)]=D42[H9u.f1T(f6C,W42)];M42=Q0E.strToDateTime(D42["d" + W42]);y42=this.stx.tickFromDate(M42,p42.chart);this.points.push([y42,D42["v" + W42]]);}};Q0E.Drawing.elliottwave.prototype.calculateRadius=function(h42){var F42,r42;this.getFontString();h42.font=this.fontString;H9u.z9u();H9u.v1T(7);F42=H9u.f1T(2147483647,"0");for(var C42=0;C42 < this.annotationPoints.length;C42++){r42=h42.measureText(this.annotationPoints[C42]).width;if(F42 < r42){F42=r42;}}this.enclosedRadius=F42;};Q0E.Drawing.elliottwave.prototype.check=function(H42,K42,z42){var n42,N42;if(z42 === 1 && this.points.length === 2){return ! !1;}H9u.v1T(1);n42=this.points[H9u.f1T(z42,1)];if(n42 && H42 <= n42[0]){return ![];}H9u.B1T(0);N42=this.points[H9u.n1T(z42,1)];if(N42 && H42 >= N42[0]){return ![];}function X42(j42){for(var U42=2;U42 < j42.length;U42++){if(Math.sign(j42[U42][1] - j42[U42 - 1][1]) == Math.sign(j42[U42 - 1][1] - j42[U42 - 2][1])){return ! !"";}}return !0;}if(!X42(this.points)){return ! !"";}return ! ![];};Q0E.Drawing.elliottwave.prototype.move=function(G42,s42,E42){this.copyConfig();H9u.B1T(8);var q0s=H9u.n1T(13,12);this.points[this.lastPoint + q0s]=[s42,E42];this.render(G42);};Q0E.Drawing.elliottwave.prototype.adjust=function(){var a42,q82;a42=this.stx.panels[this.panelName];if(!a42){return;}for(var g42=0;this.maxSegments + 1 > g42;g42++){H9u.v1T(0);q82=this[H9u.f1T("d",g42)];this.setPoint(g42,q82,this[((7230,7894) >= (940,2440)?"v":"j") + g42],a42.chart);this.points[g42][0]=this.stx.tickFromDate(Q0E.strToDateTime(q82),a42.chart);H9u.v1T(0);this.points[g42][1]=this[H9u.f1T("v",g42)];}};Q0E.Drawing.elliottwave.prototype.click=function(L82,V82,A82){var u82,Q2C,I2C,S2C,f1C,p1C,N1C;u82=this.stx.panels[this.panelName];if(!u82){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,V82,A82,u82.chart);this.points.push(this.p0);this.penDown=! !{};this.segment=0;this.lastPoint=0;if(this.impulse){this.annotationPoints=this.annotationPoints.concat(this.impulse);}if(this.corrective){this.annotationPoints=this.annotationPoints.concat(this.corrective);}this.annotationPoints.unshift((422.6,111) > (+"8324",4920)?(679.87,8241) === (2090,+"1640")?(4.32e+3,!{}):2.27 != (843.23,6732)?!1:9.75e+2:"0");if(this.decoration === "enclosed"){this.calculateRadius(L82);}this.maxSegments=this.annotationPoints.length - +"1";this.trend=1;return ![];}if(this.accidentalClick(V82,A82)){this.penDown=! !1;H9u.B1T(23);Q2C=-H9u.n1T(1,"352864973");I2C=-1516096770;H9u.v1T(53);S2C=H9u.f1T("2",0);for(var l2C="1" * 1;H9u.D2C(l2C.toString(),l2C.toString().length,+"24453") !== Q2C;l2C++){return !"1";}if(H9u.D2C(S2C.toString(),S2C.toString().length,46456) !== I2C){return !0;}}if(this.check(V82,A82,this.lastPoint + 1)){this.lastPoint++;this.setPoint(this.lastPoint,V82,A82,u82.chart);if(this.lastPoint === "1" - 0){this.trend=Math.sign(this.v1 - this.v0);}this.segment++;if(this.segment >= this.maxSegments){this.penDown=!"1";f1C=-1467155987;p1C=-1882499986;N1C=2;for(var r1C="1" - 0;H9u.A2C(r1C.toString(),r1C.toString().length,"90007" * 1) !== f1C;r1C++){return ! ![];}if(H9u.D2C(N1C.toString(),N1C.toString().length,40439) !== p1C){return ![];}}}return !"1";};Q0E.Drawing.elliottwave.prototype.render=function(f82){var N6C,P82,d82,k82,i82,t82,e82,J82,w82,Q82,Y82,S82,x82,p6C,y6C,b82,v82,R82,c82,T82,W82,D82,r6C,m82,O82,B82,Z82,o82,p82,I82;N6C="s";N6C+="trin";N6C+="g";P82=this.stx.panels[this.panelName];if(!P82){return;}d82=this.stx;k82=this.annotationPoints;i82=this.pattern?Q0E.borderPatternToArray(this.lineWidth,this.pattern):[];this.getFontString();f82.font=this.fontString;f82.textAlign="center";f82.textBaseline="middle";f82.lineWidth=this.lineWidth;if(this.fontString !== this.lastFontString){this.calculateRadius(f82);}this.lastFontString=this.fontString;t82=this.getLineColor();f82.fillStyle=f82.strokeStyle=t82;f82.save();f82.setLineDash(i82);e82=this.dx;H9u.z9u();J82=this.dy;w82=this.points;Q82=this.pts;Y82=!this.showLines && this.highlighted;S82=w82.length;if(this.penDown && this.segment){p6C="t";p6C+="o";p6C+="p";H9u.v1T(0);var c7s=H9u.f1T(455851600,1367554800);x82=this.trend * (S82 % ("2" << c7s) - 0.5) < 0;if(P82.yAxis.flipped){x82=!x82;}this.drawDropZone(f82,w82[S82 - 2]["1" << 1415359520],this.stx.priceFromPixel(P82.yAxis[x82?p6C:"bottom"]),w82[S82 - 2][0]);}else if(typeof this.highlighted === N6C && this.stx.repositioningDrawing){y6C="m";y6C+="a";y6C+="x";b82=parseInt(this.highlighted.substring(1,this.highlighted.length),+"10");H9u.B1T(0);var x7s=H9u.f1T(0,2);x82=this.trend * (b82 % x7s - 0.5) > +"0";H9u.v1T(12);v82=w82[H9u.f1T("1",b82)];H9u.B1T(99);R82=w82[H9u.f1T("1",b82,0)];c82=b82 > 0?v82[1]:R82[1];if(R82){c82=Math[x82?y6C:"min"](c82,R82[1]);}if(P82.yAxis.flipped){x82=!x82;}this.drawDropZone(f82,c82,this.stx.priceFromPixel(P82.yAxis[x82?"top":"bottom"]),v82?v82[0]:null,R82?R82[0]:null);}for(var l82=0;l82 < S82;l82++){T82=w82[l82];W82=d82.pixelFromTick(T82[0],P82.chart);D82=d82.pixelFromValueAdjusted(P82,T82[0],T82[1]);Q82[l82]=[W82,D82];}l82=0;if(this.showLines || Y82){f82.beginPath();if(Y82){f82.globalAlpha=0.3;}for(;l82 < Q82.length;l82++){f82.lineTo(Q82[l82][0],Q82[l82][1]);}f82.stroke();l82=0;}f82.restore();for(;l82 < S82;l82++){r6C="pa";r6C+="renthe";r6C+="se";r6C+="s";m82=l82 % 2?e82:-e82;O82=l82 % 2?J82:-J82;m82*=this.trend;O82*=this.trend;if(P82.yAxis.flipped){m82*=-1;O82*=-1;}B82=Q82[l82];Z82=B82[2]=B82[+"0"] + m82;H9u.v1T(0);var o7s=H9u.n1T(0,1);o82=B82[+"3"]=B82[o7s] + O82;p82=this.enclosedRadius || 8;I82=k82[l82];if(this.decoration === r6C){H9u.v1T(11);I82=H9u.n1T(I82,(214.95,3852) === ("108" * 1,+"4419")?(191.21,309.66) <= (5298,478.5)?(3562,7460) === (3163,336.67)?491.53:("275.32" * 1,"l"):0x16e9:")","(");}f82.fillText(I82,Z82,o82);if(this.decoration === "enclosed"){f82.beginPath();f82.arc(Z82,o82,p82,0,2 * Math.PI,!1);f82.stroke();}if(this.highlighted){f82.save();this.littleCircle(f82,this.pts[l82][+"0"],this.pts[l82][1],this.highlighted === (190.97 <= (4160,"7620" >> 1758322464)?(8350,9680) === 228?("386.21" - 0,4540) != (+"580.9",+"64.13")?(+"5.47e+3","v"):! !0:"p":"0xbc1" - 0) + l82);f82.restore();}}};Q0E.Drawing.elliottwave.prototype.reposition=function(X82,M82,C82,r82){var H6C,z82,n82,N82,F82,h82,H82;H6C="mov";H9u.Y9u();H6C+="e";if(!M82){return;}z82=this.stx.panels[this.panelName];n82=M82.tick - C82;N82=M82.value - r82;if(M82.action === H6C){for(var y82=0;M82.points.length > y82;y82++){F82=M82.points[y82];this.setPoint(y82,F82[0] - n82,F82[1] - N82,z82.chart);H9u.v1T(100);var O7s=H9u.f1T(6,8539693440,3,2419579800,10);this.points[y82]=[F82[0] - n82,F82["1" << O7s] - N82];}}if(M82.action === "drag"){h82=M82.point;H82=this.points;H82[h82]=[C82,r82];if(this.check(C82,r82,h82)){this.setPoint(h82,C82,r82,z82.chart);;};}this.render(X82);};Q0E.Drawing.elliottwave.prototype.intersected=function(j82,G82,s82){var E82,U82,v6C,s6C,L9C,J9C,E9C;if(!this.p0 || !this.p1){return null;}for(var K82="0" * 1;this.points.length > K82;K82++){U82=this.points[K82];if(this.pointIntersection(U82[0],U82[1],s82)){v6C="dr";v6C+="a";v6C+="g";H9u.B1T(0);this.highlighted=H9u.f1T(+"906.48" <= 778.39?(! !{},"Z"):7150 < (2707,6290)?237 < ("322.98" - 0,+"737.61")?+"0x2306":(![],0x8dd):"p",K82);return {action:v6C,point:K82,tick:j82,value:G82};}if(this.points[K82 + 1] && this.lineIntersection(j82,G82,s82,"segment",U82,this.points[K82 + 1])){s6C="mo";s6C+="v";s6C+="e";this.highlighted=! !"1";E82={action:s6C,points:Q0E.clone(this.points),tick:j82,value:G82};}}L9C=-106839149;J9C=969934172;E9C=2;for(var G9C=+"1";H9u.D2C(G9C.toString(),G9C.toString().length,86766) !== L9C;G9C++){return E82;}if(H9u.A2C(E9C.toString(),E9C.toString().length,38822) !== J9C){return E82;}return E82;};Q0E.Drawing.elliottwave.prototype.measure=function(){var g82,V52,q52,a82;if(this.points.length >= 2){g82=this.points;this.stx.setMeasure(g82[0][1],g82[g82.length - +"1"][1],g82[+"0"][0],g82[g82.length - 1][0],! !"1");V52=this.stx.controls.mSticky;q52=V52 && V52.querySelector(".mStickyInterior");if(q52){a82=[];a82.push(Q0E.capitalize("Elliott Wave"));if(this.getYValue){a82.push(this.field || this.stx.defaultPlotField || "Close");}a82.push(q52.innerHTML);q52.innerHTML=a82.join("<br>");}}};Q0E.Drawing.printProjection=function(w52,e52,A52){var L52,f52,T52,Q52,m52,S52,O52,R52,x52,v52,P52,I52,c52,B52,u52,d52;L52=e52.arr;if(L52.length > 1){f52=L52[0][0];T52=Math.round(w52.chart.maxTicks * ("0.75" * 1));for(var l52=1;l52 < L52.length;l52++){H9u.v1T(1);Q52=L52[H9u.f1T(l52,1)][0];m52=L52[l52][0];S52=Q0E.strToDateTime(Q52);O52=Q0E.strToDateTime(m52).getTime();R52=w52.standardMarketIterator(S52);x52=0;while(S52.getTime() < O52){S52=R52.next();x52+=1;}v52=Q0E.strToDateTime(Q52).getTime();if(v52 > Q0E.strToDateTime(A52[A52.length - 1].Date).getTime()){P52=A52.length - 1;x52+=1;}else {for(P52=A52.length - 1;P52 >= 0;P52--){if(v52 <= Q0E.strToDateTime(A52[P52].Date).getTime())break;}}I52={x0:+"0",x1:x52,y0:A52[P52].Close,y1:L52[l52]["1" ^ 0]};f52=Q0E.strToDateTime(Q52);R52=w52.standardMarketIterator(f52);c52=![];for(var b52=0;b52 <= x52;b52++){if(!c52){c52=! !1;}else {f52=R52.next();}if(f52.getTime() <= A52[A52.length - 1].DT.getTime())continue;B52=Q0E.yIntersection(I52,b52);if(!B52){B52=0;}H9u.B1T(5);var U7s=H9u.n1T(16,18,9998);H9u.v1T(16);var f7s=H9u.n1T(6,19,9990,49911,10);u52=Math.round(B52 * U7s) / f7s;if(u52 === 0){u52=L52[l52][+"1"];}d52={Date:Q0E.yyyymmddhhmmssmmm(f52),DT:f52,Open:u52,Close:u52,High:u52,Low:u52,Volume:0,Adj_Close:u52,Split_Close:u52,projection:!0};if(w52.layout.interval == "minute")if(T52-- < 0)break;A52[A52.length]=d52;}}}};}};i7B=Y52=>{var J52,i6C;J52=typeof _CIQ !== "undefined"?_CIQ:Y52.CIQ;o233.Y9u();if(!J52.computeEquationChart){i6C="equationsAdvanced feature requires first activating equatio";i6C+="ns feature.";console.error(i6C);}else {J52.formatEquation=function(D52){var X4u=o233;var k52,t52,Z52,i52,o52;X4u.Y9u();k52="";t52=[];Z52="";i52=! !"";for(var W52=1;W52 < D52.length;W52++){o52=D52[W52].toUpperCase();if(o52 == (6880 <= (1440,8860)?"[":(+"77.42",399.62)) && !i52){i52=! !1;}else if(o52 == ((3401,284.88) == +"4780"?(111.24,3880) > (2123,9295)?(3.44e+3,9.13e+3):(! !"1",! ![]):"]") && i52){i52=!"1";if(Z52 !== ""){t52.push(Z52);X4u.v1T(11);k52+=X4u.n1T(Z52,6915 <= +"6376"?(4.04e+3,+"290.69"):"]",("6510" ^ 0) === (8650,3630)?3.27e+3:"[");}Z52="";}else if(i52){Z52+=o52;}else if(o52 == (("7153" >> 1090586912,1350) !== 9448?"+":2.43e+3) || o52 == (7676 <= (8902,+"44.6")?0x11ec:"-") || o52 == (93.01 < +"1655"?"*":+"9950" < ("488.07" * 1,675.72)?0x998:(362.67,4.30e+3)) || o52 == (127.84 === 4565?0xa7f:"/") || o52 == ":" || o52 == ((2036,5030) <= 4330?0x130:"%") || o52 == "(" || o52 == (761.34 >= (7063,"160.95" - 0)?")":("i",! ![]))){if(Z52 !== "" && isNaN(Z52)){t52.push(Z52);X4u.B1T(11);k52+=X4u.n1T(Z52,514.92 !== (667.02,5860)?(707.05,"52" & 2147483647) !== 945.47?"]":("9.62e+3" * 1,+"626.45"):798.62,"[");}else {k52+=Z52;}if(o52 == (("7970" & 2147483647,1600) >= "530.1" * 1?(9870,+"6200") < 673?1.70e+3:":":(0xbb5,! !1))){o52=+"908.38" < 260?"M":"/";}k52+=o52;Z52="";}else if(o52 != " "){Z52+=o52;}}if(Z52 !== "" && isNaN(Z52)){t52.push(Z52);X4u.v1T(11);k52+=X4u.f1T(Z52,8030 <= 3950?(0x63e,+"345.65"):"]","[");}else {k52+=Z52;}return {equation:k52,symbols:t52};};J52.fetchEquationChart=function(p52,z52){var F52,C52,r52,h52,y52;o233.z9u();F52=J52.formatEquation(p52.symbol);C52=F52.symbols;r52=[];h52=p52.stx;p52.stx=null;for(var M52=0;M52 < C52.length;M52++){y52=J52.shallowClone(p52);y52.stx=h52;y52.symbol=C52[M52];y52.symbolObject={symbol:C52[M52]};r52.push(y52);}p52.stx=h52;h52.quoteDriver.multiFetch(r52,function(j52){o233.Y9u();var K52,n52,N52,H52,G52;K52={};p52.loadMoreReplace=!0;n52={charge:+"0"};for(var X52="0" ^ 0;X52 < j52.length;X52++){N52=j52[X52];if(N52.dataCallback.error){z52({error:N52.dataCallback.error});return;}K52[N52.params.symbol]=N52.dataCallback.quotes;p52.loadMoreReplace=p52.loadMoreReplace && N52.params.loadMoreReplace;p52.moreToLoad=p52.moreToLoad || N52.dataCallback.moreAvailable;H52=N52.dataCallback.attribution;if(H52){if(H52.charge){n52.charge+=H52.charge;}n52.source=H52.source;if(n52.exchange === undefined){n52.exchange=H52.exchange;}else if(n52.exchange != H52.exchange){n52.exchange="";};}}if(r52.length || !(p52.loadMore || p52.update)){try{G52=J52.computeEquationChart(F52.equation,K52);z52({quotes:G52,moreAvailable:p52.moreToLoad,attribution:n52});}catch(s52){var U52;U52={error:"Invalid equation: " + F52.equation};if(s52.name && s52.name == "NoException"){U52.suppressAlert=! !{};}z52(U52);}}});};}};t7B=g52=>{var w9u=o233;var E52,K0C,n0C,t0C;E52=typeof _CIQ !== "undefined"?_CIQ:g52.CIQ;if(!E52.Marker){console.error("highPerformanceMarkers feature requires first activating markers feature.");}else if(!E52.Marker.Performance){E52.ChartEngine.prototype.removeDOMMarker=function(a52){console.warn("CIQ.ChartEngine#removeDOMMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance#remove instead.");E52.Marker.Performance.prototype.removeDOMMarker.call(a52.params.node,a52);};E52.ChartEngine.prototype.drawMarkers=function(){var k6C;k6C="CIQ.Char";k6C+="tEngine#drawMarkers is scheduled for deprecation in a future release\n Please use C";k6C+="IQ.Marker.Performance.drawMar";k6C+="kers instead.";console.warn(k6C);E52.Marker.Performance.drawMarkers(this);};E52.ChartEngine.prototype.calculateMarkerStyles=function(q02,V02){var D6C;D6C="CIQ.ChartEngine#calculateMarkerStyles is sche";w9u.z9u();D6C+="duled for deprecation in a future release\n Please use CIQ.Marker.Performance.calculateStyles instead.";console.warn(D6C);E52.Marker.Performance.calculateMarkerStyles(this,q02,V02);};E52.ChartEngine.prototype.drawCircleMarker=function(A02,u02,L02){w9u.z9u();console.warn("CIQ.ChartEngine#drawCircleMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCircleMarker instead.");E52.Marker.Performance.drawCircleMarker(A02,u02,L02);};E52.ChartEngine.prototype.drawSquareMarker=function(f02,l02,P02){var A6C;A6C="CIQ.ChartEngine#drawSquareMarker ";A6C+="is scheduled for deprec";A6C+="ation in a future release\n Please use CIQ.Mark";A6C+="er.Performance.drawSquareMarker instead.";console.warn(A6C);E52.Marker.Performance.drawSquareMarker(f02,l02,P02);};E52.ChartEngine.prototype.drawCalloutMarker=function(x02,w02,Q02){w9u.z9u();console.warn("CIQ.ChartEngine#drawCalloutMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCalloutMarker instead.");E52.Marker.Performance.drawCalloutMarker(x02,w02,Q02);};E52.ChartEngine.prototype.drawMarkerStem=function(S02,R02,b02){console.warn("CIQ.ChartEngine#drawMarkerStem is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkerStem instead.");E52.Marker.Performance.drawMarkerStem(S02,R02,b02);};E52.ChartEngine.prototype.positionDOMMarkers=function(){console.warn("CIQ.ChartEngine#positionDOMMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.");E52.Marker.Performance.drawMarkers(this);};E52.Marker.Performance=function(T02){var K6C,W6C,w6C,v02,B02,O02,d02,m02,I02,e02,n6C,J02;K6C=".stx";K6C+="-marker-ex";K6C+="p";K6C+="and";W6C=".stx-vi";W6C+="sual";w6C="<";w6C+="div class=\"stx-visual\">";this.params={displayCategory:! !1,displayStem:! !"1",invert:![],story:"",headline:""};E52.extend(this.params,T02);v02=this.template=document.createElement("TEMPLATE");w9u.v1T(101);w9u.Y9u();v02.innerHTML=w9u.n1T('<div class="stx-stem"></div>','<div class="stx-marker stx-performance-marker stx-marker-expand"><h4></h4><p></p></div>',"</div>","</div>","</div>",'<div class="stx-marker-content">','<div class="stx-marker highlight">',w6C);B02=this.template.content.cloneNode(! ![]);O02=B02.querySelector(".stx-marker",v02);O02.classList.add(T02.type);O02.classList.add(T02.category);d02=B02.querySelector(W6C,v02);m02=B02.querySelector(K6C);I02=B02.querySelector("h4",v02);e02=B02.querySelector("p",v02);I02.innerText=this.params.headline;e02.innerText=this.params.story;this.hasText=! !T02.headline || ! !T02.story;this.deferAttach=!"";this.node=B02.firstChild;this.node.params=this.params;this.visual=d02;this.expand=m02;if(T02.type === "callout"){n6C=".st";n6C+="x-mar";n6C+="ker-conte";n6C+="nt";J02=m02.removeChild(I02);B02.querySelector(n6C,v02).insertBefore(J02,m02);}};K0C=2135501120;n0C=296888737;w9u.v1T(7);t0C=w9u.f1T(2147483647,"2");for(var Y0C=+"1";w9u.D2C(Y0C.toString(),Y0C.toString().length,74535) !== K0C;Y0C++){E52.inheritsFrom(E52.Marker.Performance,E52.Marker.NodeCreator,! ![]);t0C+=2;}if(w9u.D2C(t0C.toString(),t0C.toString().length,"8947" >> 221236128) !== n0C){E52.inheritsFrom(E52.Marker.Performance,E52.Marker.NodeCreator,! ![]);}E52.inheritsFrom(E52.Marker.Performance,E52.Marker.NodeCreator,!{});E52.Marker.Performance.consolidateExpanded=function(W02){var Y02,Z02,i02,T6C,k02,t02;Y02=W02.markerHelper.highlighted;if(!Y02.length){return;}w9u.v1T(8);var p7s=w9u.n1T(13,12);Z02=Y02[Y02.length - p7s];i02=Z02.params.node;if(!Z02.consolidated){Z02.consolidated=[];}for(var o02=Y02.length - 2;o02 >= 0;o02--){T6C="</consolid";T6C+="a";T6C+="ted>";k02=D02(Y02[o02]);w9u.v1T(11);t02=w9u.n1T(k02,T6C,"<consolidated>");if(k02.length){i02.expand.innerHTML+=t02;}}Z02.stxNodeCreator.quickCache(Z02);function D02(F02){var t6C,M02,p02,y02;t6C="no";t6C+="ne";M02=F02.params.node;p02=M02.expand;if(!p02){return "";}y02=p02.style.display !== t6C?p02.innerHTML:"";return y02;}};E52.Marker.Performance.reconstituteExpanded=function(z02){var C02,Y6C,n02,N02,h02;C02=z02.markerHelper.highlighted;if(!C02.length || !z02.activeMarker){return;}C02=[z02.activeMarker];for(var r02=C02.length - +"1";r02 >= 0;r02--){Y6C="CONSO";Y6C+="LIDAT";Y6C+="ED";n02=C02[r02];N02=n02.params.node;h02=N02.expand;while(h02.lastElementChild.nodeName === Y6C){h02.removeChild(h02.lastElementChild);}}};E52.Marker.Performance.drawMarkers=function(G02){var j02,H02,K02,U02,s02,E02;j02=G02.getMarkerArray("all");H02=G02.chart;w9u.Y9u();for(var X02=0;X02 < j02.length;X02++){K02=j02[X02];U02=K02.stxNodeCreator;s02=H02.dataSegment[0].tick;E02=H02.dataSegment[H02.dataSegment.length - ("1" >> 332353856)].tick;if(s02 <= K02.tick <= E02){if(U02 && U02.drawMarker){U02.drawMarker(K02);}}}};E52.Marker.Performance.calculateMarkerStyles=function(a02,q72,u72){var g02,V6C,V72,a6C,A72;g02=document.querySelector(".stx-marker-templates");w9u.z9u();if(!g02){V6C="-100";V6C+="0px";g02=document.createElement("DIV");g02.style.visibility="hidden";g02.style.left=V6C;document.body.append(g02);}g02.appendChild(q72.node);V72=getComputedStyle(q72.stxNodeCreator.visual);if(!a02.styles.stx_marker_stem){a6C=".stx-";a6C+="stem";A72=getComputedStyle(document.querySelector(a6C,q72.node));a02.styles.stx_marker_stem=a02.cloneStyle(A72);}a02.styles[u72]=a02.cloneStyle(V72);g02.removeChild(q72.node);};E52.Marker.Performance.drawCircleMarker=function(x72,B72,f72){var R72,b72,L72,l72,P72,w72,Q72,S72;R72=x72.params.stx;b72=R72.chart;L72=b72.context;l72=f72.x;P72=f72.y;w72=f72.radius;w9u.Y9u();Q72=f72.label;S72=f72.color?f72.color:B72.backgroundColor;L72.beginPath();L72.setLineDash([]);L72.lineWidth=1;L72.fillStyle=S72;L72.strokeStyle=S72;L72.font="normal bold 12px Roboto, Helvetica, sans-serif";L72.arc(l72,P72,w72,0,2 * Math.PI,! !"");L72.fill();L72.stroke();L72.closePath();if(Q72){L72.fillStyle=E52.colorsEqual("white",L72.fillStyle)?"black":"white";L72.fillText(Q72.charAt(0).toUpperCase(),l72 - 4,P72 + 1);}if(x72.highlight || x72.active){L72.beginPath();w9u.B1T(0);L72.arc(l72,P72,w9u.f1T(w72,4),0,2 * Math.PI,! !"");L72.stroke();L72.closePath();}};E52.Marker.Performance.drawSquareMarker=function(d72,o72,c72){var Y72,Z72,v72,O72,I72,T72,e72,J72,m72,B6C;Y72=d72.params.stx;Z72=Y72.chart;v72=Z72.context;O72=c72.x;I72=c72.y;T72=c72.half;e72=c72.label;J72=c72.color?c72.color:o72.backgroundColor;w9u.z9u();w9u.v1T(23);m72=w9u.f1T(2,T72);v72.beginPath();v72.setLineDash([]);w9u.B1T(53);v72.lineWidth=w9u.f1T("1",0);v72.fillStyle=J72;v72.strokeStyle=J72;v72.font="normal bold 12px Roboto, Helvetica, sans-serif";w9u.B1T(1);v72.rect(w9u.f1T(O72,T72),w9u.n1T(I72,T72),m72,m72);v72.fill();if(d72.highlight || d72.active){w9u.v1T(52);v72.rect(w9u.n1T(O72,4,T72),w9u.n1T(I72,4,T72,w9u.v1T(52)),w9u.f1T(m72,8,w9u.B1T(0)),w9u.f1T(m72,8,w9u.B1T(0)));}v72.stroke();v72.closePath();if(e72){B6C="bl";B6C+="ack";v72.fillStyle=E52.colorsEqual("white",v72.fillStyle)?B6C:"white";v72.fillText(e72.charAt(0).toUpperCase(),O72 - ("4" | 4),I72 + 1);}};E52.Marker.Performance.drawCalloutMarker=function(W72,H72,i72){var Q6C,z72,n72,k72,t72,X72,p72,M72,y72,F72,C72,N72,D72,r72,h72;Q6C="rgba";Q6C+="(255,255,255,0.65";Q6C+=")";z72=W72.params.stx;n72=z72.chart;k72=n72.context;t72=W72.params;X72=i72.x;p72=i72.y;M72=i72.half;y72=i72.midWidth;F72=i72.headline;C72=i72.color?i72.color:H72.backgroundColor;N72=M72 * +"2" || 25;D72=Math.round(k72.measureText(F72).width);r72=y72?y72 * ("2" << 1985952544):D72 + 8;k72.beginPath();k72.setLineDash([]);k72.lineWidth=1;k72.fillStyle=C72;k72.strokeStyle=C72;w9u.z9u();k72.font="normal bold 12px Roboto, Helvetica, sans-serif";k72.rect(t72.box.x0,t72.box.y0,r72,N72);k72.fill();k72.stroke();k72.closePath();k72.beginPath();k72.fillStyle=W72.highlight || W72.active?"rgba(255,255,255,0.8)":Q6C;w9u.B1T(102);h72=w9u.f1T(20,r72,"2",D72);k72.rect(t72.box.x0 + h72,p72 - M72,D72 + +"40",22);k72.fill();k72.stroke();k72.closePath();k72.fillStyle="black";k72.fillText(F72,t72.box.x0 + h72 + 10,p72);};E52.Marker.Performance.drawMarkerStem=function(U72,E72,j72){var g72,a72,K72,G72,A9K,s72,q9K,V9K;g72=U72.params.stx;a72=g72.chart;K72=a72.context;G72=j72.x;A9K=j72.y;K72.beginPath();K72.strokeStyle=E72.borderLeftColor;K72.setLineDash([+"1",1]);s72=E52.stripPX(E72.height);q9K=j72.invert?U72.params.box.y0:U72.params.box.y1;V9K=j72.invert?U72.params.box.y0 - s72:U72.params.box.y1 + s72;K72.moveTo(G72,q9K);K72.lineTo(G72,V9K);K72.stroke();K72.closePath();};E52.Marker.Performance.prototype.drawMarker=function(u9K){var B9K,f9K,d9K,e9K,m9K,l9K,Q9K,S9K,J9K,O9K,v9K,I9K,c9K,P9K,T9K,L9K,R9K,b9K,Y9K,Z9K,x9K,w9K;B9K=u9K.params;f9K=u9K.params.stx;if(!f9K){return;}d9K=f9K.chart;e9K=d9K.dataSegment;if(!e9K.length){return;}m9K=f9K.panels[u9K.params.panelName];l9K=u9K.stxNodeCreator.params;Q9K=l9K.type;S9K=l9K.category;w9u.z9u();J9K=l9K.headline;O9K=l9K.displayCategory;v9K=l9K.color;I9K=l9K.invert;w9u.B1T(103);c9K=w9u.n1T((1249,392) != (358,43.04)?919.78 <= 4223?"_":(6.32e+3,+"0x2238"):(0x1ca4,0x1713),S9K,"stx_marker_",Q9K);if(!f9K.styles[c9K]){E52.Marker.Performance.calculateMarkerStyles(f9K,u9K,c9K);}P9K=u9K.style=f9K.styles[c9K];T9K=f9K.styles.stx_marker_stem;w9u.B1T(1);var N7s=w9u.f1T(70,60);w9u.B1T(56);var y7s=w9u.n1T(7,10,2,0);L9K=parseInt(P9K.height,N7s) / y7s;w9u.B1T(2);var r7s=w9u.f1T(6,7,9);w9u.v1T(5);var H7s=w9u.f1T(19,17,4);R9K=parseInt(P9K.width,r7s) / H7s;b9K=l9K.displayStem?parseInt(T9K.height,10) + parseInt(T9K.marginBottom,10):0;w9u.v1T(104);var v7s=w9u.f1T(19,120,17,9,65);Y9K=b9K + parseInt(P9K.height,v7s);Z9K=b9K?b9K + L9K:0;x9K=f9K.pixelFromDate(B9K.x);w9K=B9K.node.calculateYPosition({marker:u9K,panel:m9K,height:Y9K,half:L9K,offset:Z9K,inverted:I9K});if(!u9K.tick && u9K.tick !== +"0"){return;}B9K.box={x0:x9K - (R9K || L9K),y0:w9K - L9K,x1:x9K + (R9K || L9K),y1:w9K + L9K,midY:L9K,midX:R9K || L9K,stemHeight:b9K};if(!O9K){S9K=O9K;}f9K.startClip(m9K.name);if(Q9K === "circle"){E52.Marker.Performance.drawCircleMarker(u9K,P9K,{x:x9K,y:w9K,radius:L9K,label:S9K,color:v9K});}else if(Q9K === "square"){E52.Marker.Performance.drawSquareMarker(u9K,P9K,{x:x9K,y:w9K,half:L9K,label:S9K,color:v9K});}else if(Q9K === "callout"){E52.Marker.Performance.drawCalloutMarker(u9K,P9K,{x:x9K,y:w9K,half:L9K,midWidth:R9K,headline:J9K,color:v9K});}else {w9u.v1T(11);console.warn(w9u.f1T(Q9K," is unsupported with canvas markers!\nSupported Styles are Square, Circle, and Callout.","Marker type: "));}if(l9K.displayStem){E52.Marker.Performance.drawMarkerStem(u9K,T9K,{x:x9K,y:w9K,invert:I9K});}f9K.endClip();if(u9K.attached){this.positionPopUpNode(u9K);}};E52.Marker.Performance.prototype.positionPopUpNode=function(k9K){var S6C,M9K,t9K,o9K,y9K,D9K,i9K,F9K,I6C,n9K,N9K,H9K,X9K,C9K,W9K,z9K,r9K,p9K,h9K,K9K;S6C="px";S6C+=") translateY(";if(!k9K.attached || !k9K.params.box){return;}M9K=k9K.params;t9K=M9K.stx;o9K=M9K.box;y9K=k9K.params.node.expand;D9K=t9K.chart.dataSet;i9K=t9K.chart.dataSegment;if(k9K.tick){I6C="D";I6C+="ate";n9K=[D9K[i9K[0] && i9K[+"0"].tick - 1],D9K[i9K[0] && i9K[0].tick - 2]];N9K=t9K.getFirstLastDataRecord(n9K.concat(i9K),"Date");w9u.B1T(105);var s7s=w9u.n1T(8,223,16,1,12);w9u.B1T(90);var i7s=w9u.f1T(0,24,12,13);w9u.v1T(33);var k7s=w9u.f1T(8,2,1,6);H9K=[D9K[i9K[i9K.length - s7s].tick + +"1"],D9K[i9K[i9K.length - i7s].tick + ("2" | k7s)]];X9K=t9K.getFirstLastDataRecord(i9K.concat(H9K),I6C,!"");F9K=N9K.DT <= D9K[k9K.tick].DT && D9K[k9K.tick].DT <= X9K.DT;}else {F9K=!{};}if(!k9K.highlight && !k9K.active){F9K=!{};}y9K.style.visibility=F9K?"":"hidden";if(!F9K){return;}C9K=t9K.panels[M9K.panelName];W9K=y9K.rects;z9K=W9K.height / +"2";p9K=k9K.node.params.infoOffset || 0;if(k9K.node.params.infoOnLeft){r9K=o9K.x0 - W9K.width - p9K < C9K.left?o9K.x1 + p9K:o9K.x0 - W9K.width - p9K;}else {r9K=o9K.x0 + W9K.width > C9K.right?o9K.x0 - W9K.width - p9K:o9K.x1 + p9K;}r9K-=t9K.chart.left;h9K=o9K.y0 - z9K >= C9K.top?o9K.y0 + o9K.midY - z9K:o9K.y0;if(!M9K.avoidFlush && o9K.y1 + o9K.stemHeight === C9K.yAxis.bottom && W9K.height > o9K.y1 - o9K.y0 + o9K.stemHeight){h9K=o9K.y1 - W9K.height + o9K.stemHeight;}h9K-=t9K.chart.panel.top;K9K="translateX(" + Math.floor(r9K) + S6C + Math.floor(h9K) + "px) translateZ(0)";y9K.style.transform=K9K;w9u.z9u();y9K.transform={translateX:r9K,translateY:h9K};};E52.Marker.Performance.prototype.quickCache=function(G9K){var s9K,U9K,j9K,E9K;s9K=G9K.params.node;U9K=s9K.expand;w9u.z9u();j9K=G9K.style;E9K=E52.stripPX(j9K.marginLeft) + E52.stripPX(j9K.marginRight) + E52.stripPX(j9K.borderRight) + E52.stripPX(j9K.borderLeft);U9K.rects=U9K.getBoundingClientRect();U9K.scrollBarWidth=U9K.rects.width - U9K.clientWidth - E9K;};E52.Marker.Performance.prototype.calculateYPosition=function(L2K){var u2K,a9K,P2K,f2K,A2K,x2K,q2K,w2K,Q2K,V2K,l2K,S2K,g9K,R2K,b2K;w9u.z9u();u2K=L2K.marker;a9K=L2K.panel;P2K=L2K.height;f2K=L2K.half;A2K=L2K.offset;x2K=L2K.inverted;q2K=u2K.params.stx;w2K=q2K.chart;Q2K=q2K.chart.highLowBars;V2K=w2K.dataSet[u2K.tick];if(!V2K){return;}l2K=Q2K?V2K.High:V2K.Close;S2K=u2K.params.yPositioner;switch(S2K){case "value":if(u2K.params.y || u2K.params.y === 0){g9K=q2K.pixelFromPrice(u2K.params.y,a9K) - P2K * 0.5 + f2K;}else {g9K=q2K.pixelFromPrice(l2K,a9K) - A2K;}break;case "above_candle":g9K=q2K.pixelFromPrice(l2K,a9K) - A2K;break;case "below_candle":g9K=q2K.pixelFromPrice(V2K.Low || l2K,a9K);if(x2K && A2K){g9K+=A2K;}else {g9K+=f2K;}break;case "on_candle":(R2K=V2K.High || V2K.Close,b2K=V2K.Low || V2K.Low === 0 || V2K.Close);w9u.B1T(1);var D7s=w9u.f1T(23052230656,21278982144);g9K=q2K.pixelFromPrice((R2K + b2K) / ("2" >> D7s),a9K) - P2K * 0.5 + f2K;break;case "top":g9K=q2K.pixelFromPrice(a9K.yAxis.high,a9K);if(x2K && A2K){g9K+=A2K;}else {g9K+=f2K;}break;case "bottom":g9K=q2K.pixelFromPrice(a9K.yAxis.low,a9K) - (A2K || f2K);break;default:break;}return g9K;};E52.Marker.Performance.prototype.prepareForHolder=function(v2K){var B2K,c2K;B2K=this.expand;c2K=v2K.params.stx;B2K.classList.add(this.params.type);c2K.markerHelper.domMarkers.push(v2K);return B2K;};E52.Marker.Performance.prototype.addToHolder=function(O2K){var l6C,X6C,m2K,T2K;l6C="tou";l6C+="ch";l6C+="st";l6C+="art";X6C="m";X6C+="ous";X6C+="edo";X6C+="wn";w9u.z9u();m2K=this.expand;T2K=O2K.params.stx;E52.Marker.Performance.reconstituteExpanded(T2K);E52.Marker.Performance.consolidateExpanded(T2K);this.quickCache(O2K);if(m2K.clickClosure){return;}m2K.addEventListener(X6C,I2K);m2K.addEventListener(l6C,I2K);m2K.clickClosure=I2K;function I2K(d2K){T2K.activeMarker=O2K;w9u.z9u();T2K.activeMarker.click({cx:d2K.clientX,cy:d2K.clientY,panel:T2K.currentPanel});d2K.stopPropagation();}};E52.Marker.Performance.prototype.remove=function(J2K){var e2K,Z2K,F6C,o2K,Y2K;e2K=J2K.params.stx;if(!e2K){return;}w9u.Y9u();if(!e2K.markerHelper.domMarkers){return;}Z2K=e2K.markerHelper.domMarkers.indexOf(J2K);if(Z2K != -1){e2K.markerHelper.domMarkers.splice(Z2K,1);}if(J2K.attached){F6C="c";F6C+="lick";o2K=e2K.panels[J2K.params.panelName];Y2K=J2K.params.node.expand;if(Y2K.parentNode === o2K.subholder){o2K.subholder.removeChild(Y2K);}Y2K.removeEventListener(F6C,Y2K.clickClosure);}};E52.Marker.Performance.prototype.click=function(D2K){var t2K,p2K,i2K;if(!this.hasText){return;}if(typeof arguments[0] === "number"){D2K={cx:arguments[0],cy:arguments[+"1"],marker:arguments["2" >> 1231590144],panel:arguments[3]};}var {cx:W2K, cy:M2K, marker:k2K, panel:y2K}=D2K;t2K=k2K.params.stx;if(k2K.attached){i2K=this.expand;if(i2K.rects.width - i2K.scrollBarWidth + i2K.transform.translateX < t2K.backOutX(W2K) && t2K.backOutX(W2K) < i2K.rects.width + i2K.transform.translateX){return;}this.remove(k2K);}else {t2K.addToHolder(k2K);p2K=! ![];}k2K.attached=!k2K.attached;k2K.active=!k2K.active;w9u.Y9u();if(p2K){k2K.stxNodeCreator.positionPopUpNode(k2K);}};}};W7B=C2K=>{var h6C,F2K;h6C="u";h6C+="ndefi";h6C+="ned";F2K=typeof _CIQ !== h6C?_CIQ:C2K.CIQ;F2K.Renderer.OHLC.requestNew=function(j2K,r2K){var h2K,n2K,N2K,H2K,X2K,K2K,u6C,g6C,b6C,U2K,j6C;h2K=null;n2K=r2K.hlc;N2K=r2K.colored;H2K=r2K.hollow;X2K=r2K.volume;K2K=r2K.histogram;for(var z2K="0" - 0;z2K < j2K.length;z2K++){u6C="h";u6C+="l";u6C+="c";g6C="hi";g6C+="sto";g6C+="gram";b6C="c";b6C+="o";b6C+="lo";b6C+="red";U2K=j2K[z2K];switch(U2K){case "bar":case "candle":h2K=U2K;break;case "volume":X2K=! ![];break;case "hollow":H2K=! !"1";break;case b6C:N2K=!"";break;case g6C:K2K=!"";h2K="candle";break;case u6C:j6C="ba";j6C+="r";n2K=!0;h2K=j6C;break;default:return null;}}o233.Y9u();if(h2K === null){return null;}return new F2K.Renderer.OHLC({params:F2K.extend(r2K,{type:h2K,hlc:n2K,colored:N2K,hollow:H2K,volume:X2K,histogram:K2K})});};F2K.Renderer.OHLC.getChartParts=function(A1K,V1K){var s44,v44,H44,r44,y44,N44,p44,f44,U44,O44,o44,x44,c44,q6C,G6C,R6C,E6C,J6C,L6C,e6C,d6C,m6C,M6C,z6C,C6C,Z6C,P6C,E2K,g2K,a2K,G2K,s2K,q1K;s44="fi";s44+="l";s44+="l_colo";s44+="r_even";v44="h";v44+="o";v44+="ll";v44+="ow";H44="fill_c";H44+="olo";H44+="r_dow";H44+="n";r44="ca";r44+="nd";r44+="l";r44+="e";y44="border";y44+="_color_even";N44="fill_color_";N44+="eve";N44+="n";p44="stx_h";p44+="ollow_candle_down";f44="c";f44+="an";f44+="dle";U44="b";U44+="o";U44+="rder_c";U44+="olor_even";O44="st";O44+="x_h";O44+="ollow_candle_";O44+="even";o44="ho";o44+="llo";o44+="w";x44="bo";x44+="rder_";x44+="color_up";c44="border_colo";c44+="r_down";q6C="stx";q6C+="_can";q6C+="dle_dow";q6C+="n";G6C="bo";G6C+="rder_";G6C+="color_";G6C+="up";R6C="cand";R6C+="le";E6C="shad";E6C+="ow";J6C="border_";J6C+="color_down";L6C="c";L6C+="andle";e6C="ca";e6C+="ndle";d6C="stx_";d6C+="ba";d6C+="r_even";m6C="ba";m6C+="r";M6C="b";M6C+="a";M6C+="r";z6C="st";z6C+="x_bar_up";C6C="b";C6C+="a";C6C+="r";Z6C="b";Z6C+="a";Z6C+="r";P6C="border_c";P6C+="olor_up";E2K=1;o233.Y9u();g2K=2;a2K=4;G2K=8;s2K=16;q1K=32;return [{type:"histogram",drawType:"histogram",style:"stx_histogram_up",condition:G2K,fill:"fill_color_up",border:P6C,useColorInMap:!0,useBorderStyleProp:!0},{type:"histogram",drawType:"histogram",style:"stx_histogram_down",condition:s2K,fill:"fill_color_down",border:"border_color_down",useColorInMap:! ![],useBorderStyleProp:!0},{type:"histogram",drawType:"histogram",style:"stx_histogram_even",condition:q1K,fill:"fill_color_even",border:"border_color_even",skipIfPass:! ![],useColorInMap:! !{},useBorderStyleProp:! ![]},{type:Z6C,drawType:"bar",style:A1K || "stx_bar_chart",border:"border_color",useColorInMap:! ![]},{type:C6C,drawType:"bar",style:z6C,condition:V1K?G2K:E2K,border:"border_color_up",useColorInMap:! !{}},{type:M6C,drawType:"bar",style:"stx_bar_down",condition:V1K?s2K:g2K,border:"border_color_down",useColorInMap:! ![]},{type:"bar",drawType:m6C,style:d6C,condition:V1K?q1K:a2K,border:"border_color_even",skipIfPass:!0,useColorInMap:! !{}},{type:e6C,drawType:"shadow",style:"stx_candle_shadow",border:"border_color_up"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_up",condition:G2K,border:"border_color_up"},{type:L6C,drawType:"shadow",style:"stx_candle_shadow_down",condition:s2K,border:J6C},{type:"candle",drawType:E6C,style:"stx_candle_shadow_even",condition:q1K,border:"border_color_even",skipIfPass:! ![]},{type:R6C,drawType:"candle",style:"stx_candle_up",condition:G2K,fill:"fill_color_up",border:G6C,useColorInMap:!0,useBorderStyleProp:! !"1"},{type:"candle",drawType:"candle",style:q6C,condition:s2K,fill:"fill_color_down",border:c44,useColorInMap:!"",useBorderStyleProp:! ![]},{type:"hollow",drawType:"shadow",style:"stx_hollow_candle_up",condition:E2K,border:x44},{type:"hollow",drawType:"shadow",style:"stx_hollow_candle_down",condition:g2K,border:"border_color_down"},{type:o44,drawType:"shadow",style:O44,condition:a2K,border:U44,skipIfPass:!0},{type:"hollow",drawType:f44,style:"stx_hollow_candle_up",condition:E2K | s2K,fill:"fill_color_up",border:"border_color_up",useColorInMap:!""},{type:"hollow",drawType:"candle",style:p44,condition:g2K | s2K,fill:"fill_color_down",border:"border_color_down",useColorInMap:! ![]},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_even",condition:a2K | s2K,fill:N44,border:y44,skipIfPass:! ![],useColorInMap:! !{}},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_up",condition:E2K | G2K,fill:"fill_color_up",border:"border_color_up"},{type:"hollow",drawType:r44,style:"stx_hollow_candle_down",condition:g2K | G2K,fill:H44,border:"border_color_down"},{type:v44,drawType:"candle",style:"stx_hollow_candle_even",condition:a2K | G2K,fill:s44,border:"border_color_even"}];;};F2K.Renderer.Bars=function(L1K){var i44,u1K;i44="ba";i44+="r";this.construct(L1K);u1K=this.params;o233.z9u();u1K.type=i44;this.highLowBars=this.barsHaveWidth=this.standaloneBars=!0;u1K.hlc=u1K.volume=u1K.hollow=u1K.histogram=![];};F2K.inheritsFrom(F2K.Renderer.Bars,F2K.Renderer.OHLC,![]);F2K.Renderer.HLC=function(l1K){o233.z9u();var k44,f1K;k44="b";k44+="a";k44+="r";this.construct(l1K);f1K=this.params;f1K.type=k44;f1K.hlc=! !{};this.highLowBars=this.barsHaveWidth=this.standaloneBars=! !"1";f1K.volume=f1K.hollow=f1K.histogram=!{};};o233.Y9u();F2K.inheritsFrom(F2K.Renderer.HLC,F2K.Renderer.Bars,!1);F2K.Renderer.Shading=function(P1K){this.construct(P1K);this.beenSetup=![];this.errTimeout=null;this.params.useChartLegend=![];o233.Y9u();this.shading=[];if(this.params.type == "rangechannel"){this.highLowBars=! ![];}};F2K.inheritsFrom(F2K.Renderer.Shading,F2K.Renderer.Lines,!{});F2K.Renderer.Shading.requestNew=function(R1K,b1K){var x1K,Q1K,S1K;x1K=null;Q1K=null;for(var w1K=0;w1K < R1K.length;w1K++){S1K=R1K[w1K];if(S1K == "rangechannel"){x1K="rangechannel";}else if(S1K == "step"){Q1K=! ![];}}if(x1K === null){return null;}return new F2K.Renderer.Shading({params:F2K.extend(b1K,{type:x1K,step:Q1K})});};F2K.Renderer.Shading.prototype.setShading=function(B1K){o233.Y9u();if(B1K.constructor != Array){B1K=[B1K];}this.shading=B1K;};F2K.Renderer.Shading.prototype.draw=function(){var m1K,v1K,O1K,A44,D44,t1K,d1K,W1K,Y1K,w44,D1K,I1K,T1K,Z1K,W44,o1K,p1K,n44,K44,c1K,J1K,k1K,i1K,e1K;m1K=this.stx;v1K=this.params;O1K=m1K.panels[v1K.panel].chart;if(v1K.type == "rangechannel"){if(this.beenSetup){if(this.seriesParams.length > 2){this.removeSeries(this.seriesParams[2].id);}}else {A44="L";A44+="o";A44+="w";D44="st";D44+="x";D44+="_line_up";this.beenSetup=! ![];v1K.display=this.seriesParams[0].display;v1K.yAxis=this.seriesParams[0].yAxis;t1K=this.seriesParams[0].color || "auto";d1K=this.seriesParams[0].symbol;W1K="";if(d1K){o233.v1T(0);W1K=o233.n1T(d1K,".");}this.removeAllSeries(! ![]);Y1K=v1K.name;m1K.addSeries(null,{symbol:d1K,loadData:! !d1K,field:"High",renderer:"Shading",name:Y1K,style:D44,display:v1K.display,shareYAxis:!0});m1K.addSeries(null,{symbol:d1K,loadData:! !d1K,field:A44,renderer:"Shading",name:Y1K,style:"stx_line_down",display:v1K.display,shareYAxis:! !{}});this.setShading({primary:this.seriesParams[0].id,secondary:this.seriesParams[1].id,color:t1K});}}if(!this.shading){if(!this.errTimeout){w44="Warning: no shading scheme";w44+=" set.  Use myRenderer.setShading(scheme) to set.";console.log(w44);D1K=this;this.errTimeout=setTimeout(function(){D1K.errTimeout=null;},10000);}}I1K={};function M1K(C1K){var y1K,r1K,F1K;y1K=I1K[C1K];if(y1K){r1K=y1K.parameters.field;F1K=y1K.parameters.subField;o233.B1T(0);return o233.n1T(r1K,F1K?(4332 <= (1199,907)?(0x867,"m"):5474 == (90,871.24)?9370 >= (3690,983.6)?552.23:(! !0,![]):".") + F1K:"");}return C1K;}for(T1K=0;T1K < this.seriesParams.length;T1K++){Z1K={};if(O1K.series[this.seriesParams[T1K].id]){Z1K=F2K.clone(O1K.series[this.seriesParams[T1K].id].parameters);}I1K[this.seriesParams[T1K].id]={parameters:F2K.extend(F2K.extend(Z1K,v1K),this.seriesParams[T1K]),yValueCache:this.caches[this.seriesParams[T1K].id]};}o233.Y9u();m1K.drawSeries(O1K,I1K,v1K.yAxis,this);if(O1K.legend && v1K.type == "rangechannel"){W44="st";W44+="x_li";W44+="ne_d";W44+="own";if(!O1K.legend.colorMap){O1K.legend.colorMap={};}o1K=v1K.display;p1K=[m1K.getCanvasColor("stx_line_up"),m1K.getCanvasColor(W44)];O1K.legend.colorMap[o1K]={color:p1K,display:o1K,isBase:this == m1K.mainSeriesRenderer};;}for(T1K in I1K){this.caches[T1K]=I1K[T1K].yValueCache;}for(T1K=+"0";T1K < this.shading.length;T1K++){n44="C";n44+="lo";n44+="s";n44+="e";K44="Clos";K44+="e";c1K=this.shading[T1K];J1K=c1K.color;if(c1K.color == "auto"){J1K=m1K.defaultColor;}if(!c1K.primary){c1K.primary=K44;}if(!c1K.secondary && this.seriesParams[0]){c1K.secondary=this.seriesParams[0].field;}if(!c1K.secondary)continue;else if(!I1K[c1K.primary] && c1K.primary != "Close")continue;else if(!I1K[c1K.secondary])continue;else if(c1K.primary == "Close" && v1K.yAxis && v1K.yAxis != O1K.yAxis)continue;k1K=M1K(c1K.primary).split((8440,+"432.23") >= 400.74?889.71 !== (680.4,822)?".":+"425.72" < (8730,752.96)?657.20:1.92e+2:"6.10e+3" << 2065135168);i1K=M1K(c1K.secondary).split((1230,2510) > 9250?"312.56" * 1:(6080,9510) <= (7,"3380" & 2147483647)?+"542" === (649.04,8419)?0x1e8:(419.75,+"7.83e+3"):".");e1K={topBand:k1K[0],topSubBand:k1K[1],topColor:c1K.greater || J1K || m1K.containerColor,topAxis:v1K.yAxis,bottomBand:i1K[0],bottomSubBand:i1K[1],bottomColor:c1K.lesser || J1K || m1K.containerColor,bottomAxis:c1K.primary == n44?null:v1K.yAxis,tension:v1K.tension || O1K.tension,opacity:0.1,step:v1K.step};if(!e1K.topColor && !e1K.bottomColor)continue;if(!v1K.highlight && m1K.highlightedDraggable){e1K.opacity*=0.3;}F2K.fillIntersecting(m1K,v1K.panel,e1K);}};F2K.Renderer.Histogram=function(h1K){var t44;o233.z9u();t44="histo";t44+="gram";this.construct(h1K);this.params.type=t44;this.barsHaveWidth=this.standaloneBars=! !"1";if(this.params.yAxis){this.params.bindToYAxis=! !1;if(typeof this.params.yAxis.baseline == "number"){this.params.yAxis.baseline={value:this.params.yAxis.baseline};}}};F2K.inheritsFrom(F2K.Renderer.Histogram,F2K.Renderer,! !"");F2K.Renderer.Histogram.prototype.adjustYAxis=function(){var z1K;z1K=this.params.yAxis;o233.Y9u();if(!z1K || z1K.baseline){return;}z1K.min=0;z1K.highValue/=this.params.heightPercentage || 1;};F2K.Renderer.Histogram.prototype.draw=function(){var d9u=o233;d9u.Y9u();var T44,n1K,N1K,Y44,j2C,P2C,Z2C,H1K,X1K;T44="st";T44+="acked";n1K=F2K.clone(this.params);n1K.type=n1K.subtype;this.useSum=n1K.subtype == T44;if(!n1K.yAxis || n1K.yAxis == this.stx.chart.yAxis){n1K.bindToYAxis=! !{};}this.stx.drawHistogram(n1K,this.seriesParams);N1K=n1K.yAxis && n1K.yAxis.baseline;if(N1K && N1K.color){Y44="l";Y44+="i";Y44+="ne";j2C=978339918;P2C=-758478378;Z2C=2;for(var z2C=1;d9u.D2C(z2C.toString(),z2C.toString().length,2345) !== j2C;z2C++){H1K=this.stx.panels[this.params.panel];d9u.B1T(53);Z2C+=d9u.n1T("2",0);}if(d9u.A2C(Z2C.toString(),Z2C.toString().length,36107) !== P2C){H1K=this.stx.panels[this.params.panel];}X1K=this.stx.pixelFromPrice(N1K.value,H1K,this.params.yAxis) - 0.5;this.stx.plotLine({x0:H1K.left,x1:H1K.right,y0:X1K,y1:X1K,color:N1K.color,type:Y44,context:H1K.chart.context,confineToPanel:H1K,pattern:N1K.pattern || "solid",lineWidth:N1K.lineWidth || 1,opacity:N1K.opacity || 0.8,globalCompositeOperation:"destination-over"});}};F2K.Renderer.Histogram.prototype.getBasis=function(s1K,E1K,g1K){var j1K,V44,G1K,K1K;j1K=0;if(s1K && this.useSum){for(var U1K=0;U1K < this.seriesParams.length;U1K++){V44="Cl";V44+="o";V44+="s";V44+="e";G1K=this.seriesParams[U1K].field;if(G1K === E1K)break;K1K=s1K[G1K];if(K1K && typeof K1K === "object"){K1K=K1K[g1K || this.seriesParams[U1K].subField || this.stx.chart.defaultPlotField || V44];}if(K1K){j1K+=K1K;}}}return j1K;};F2K.Renderer.Heatmap=function(a1K){var a44;a44="h";a44+="e";a44+="atma";a44+="p";this.construct(a1K);o233.z9u();this.params.type=a44;this.params.highlightable=! !"";this.barsHaveWidth=this.standaloneBars=! ![];};F2K.inheritsFrom(F2K.Renderer.Heatmap,F2K.Renderer,!"1");F2K.Renderer.Heatmap.requestNew=function(A3K,L3K){var q3K,u3K;o233.Y9u();q3K=null;for(var V3K="0" * 1;V3K < A3K.length;V3K++){u3K=A3K[V3K];if(u3K == "heatmap"){q3K="heatmap";}}if(q3K === null){return null;}return new F2K.Renderer.Heatmap({params:F2K.extend(L3K,{type:q3K})});};F2K.Renderer.Heatmap.prototype.draw=function(){o233.Y9u();this.stx.drawHeatmap(F2K.clone(this.params),this.seriesParams);};F2K.Renderer.Scatter=function(f3K){o233.z9u();this.construct(f3K);this.standaloneBars=this.barsHaveWidth=! ![];this.bounded=!0;};F2K.inheritsFrom(F2K.Renderer.Scatter,F2K.Renderer.Lines,!{});F2K.Renderer.Scatter.requestNew=function(x3K,Q3K){var l3K,B44,w3K;l3K=null;for(var P3K=0;P3K < x3K.length;P3K++){B44="sc";B44+="at";B44+="t";B44+="er";w3K=x3K[P3K];if(w3K == "scatterplot"){l3K=B44;}}if(l3K === null){return null;}o233.z9u();return new F2K.Renderer.Scatter({params:F2K.extend(Q3K,{type:l3K})});};F2K.Renderer.Scatter.prototype.drawIndividualSeries=function(B3K,R3K){var b3K,S3K;b3K=this.stx.panels[R3K.panel] || B3K.panel;S3K={colors:[]};o233.z9u();if(this.stx.scatter){S3K=this.stx.scatter(b3K,R3K);}else {console.warn("Error, Scatter renderer requires customChart.js");}return S3K;};};D7B=c3K=>{var v3K,Q44,S44;v3K=typeof _CIQ !== "undefined"?_CIQ:c3K.CIQ;if(!v3K.Studies){Q44="accumula";Q44+="tionDistribution feature re";Q44+="quires first activating studies feature.";console.error(Q44);}else {S44="Accumulation/Dis";S44+="tribution";v3K.Studies.calculateAccumulationDistribution=function(Y3K,I3K){var T4u=o233;var J3K,I44,T3K,O3K,d3K,e3K;T4u.Y9u();J3K=I3K.chart.scrubbed;for(var m3K=I3K.startFrom;m3K < J3K.length;m3K++){I44="R";I44+="e";I44+="sult";I44+=" ";if(!m3K)continue;T3K=J3K[m3K];if(T3K.futureTick)break;T4u.B1T(1);O3K=J3K[T4u.f1T(m3K,1)];d3K=0;if(T3K.Close > O3K.Close){d3K=T3K.Close - Math.min(T3K.Low,O3K.Close);}else if(T3K.Close < O3K.Close){d3K=T3K.Close - Math.max(T3K.High,O3K.Close);}if(I3K.inputs["Use Volume"]){d3K*=T3K.Volume;}e3K=O3K[I44 + I3K.name];if(!e3K){T4u.v1T(14);e3K=T4u.f1T(0,"0");}e3K+=d3K;if(!isNaN(T3K.Close)){T3K["Result " + I3K.name]=e3K;}}};v3K.Studies.studyLibrary=v3K.extend(v3K.Studies.studyLibrary,{"W Acc Dist":{name:S44,calculateFN:v3K.Studies.calculateAccumulationDistribution,inputs:{"Use Volume":!{}}}});}};p7B=o3K=>{var X44,Z3K;X44="undef";X44+="ined";Z3K=typeof _CIQ !== X44?_CIQ:o3K.CIQ;if(!Z3K.Studies){console.error("adx feature requires first activating studies feature.");}else {Z3K.Studies.calculateADX=function(K3K,k3K){var D4u=o233;var W3K,D3K,p3K,C3K,r3K,h3K,z3K,i3K,h44,F44,M3K,y3K,l44,n3K,N3K,H3K,b44,X3K;Z3K.Studies.calculateStudyATR(K3K,k3K);W3K=k3K.chart.scrubbed;D3K=k3K.days;p3K=parseInt(k3K.inputs["Smoothing Period"],10);if(!p3K && p3K !== 0){p3K=D3K;}if(W3K.length < k3K.days + ("1" - 0)){k3K.error=! !"1";return;}C3K=0;D4u.z9u();r3K=0;h3K=0;z3K=0;for(var t3K=Math.max(1,k3K.startFrom);t3K < W3K.length;t3K++){h44="-D";h44+="I ";F44="_";F44+="sm+DM";F44+=" ";i3K=W3K[t3K];M3K=Math.max(0,i3K.High - W3K[t3K - 1].High);y3K=Math.max(+"0",W3K[t3K - 1].Low - i3K.Low);if(M3K > y3K){y3K=0;}else if(y3K > M3K){M3K=0;}else {M3K=y3K=0;}if(t3K <= D3K){r3K+=M3K;h3K+=y3K;C3K+=i3K["True Range " + k3K.name];}else {l44="_sm+";l44+="DM ";D4u.v1T(106);var A7s=D4u.f1T(10,10,558322171,72023558754,13);r3K=W3K[t3K - +"1"][l44 + k3K.name] * (D3K - ("1" >> A7s)) / D3K + M3K;D4u.v1T(93);var w7s=D4u.f1T(12,14,16,13);D4u.B1T(1);var W7s=D4u.f1T(4,3);h3K=W3K[t3K - w7s]["_sm-DM " + k3K.name] * (D3K - W7s) / D3K + y3K;D4u.B1T(68);var K7s=D4u.f1T(13,0,196,15);D4u.v1T(107);var n7s=D4u.f1T(17,6,16,18,10);C3K=W3K[t3K - K7s]["_smTR " + k3K.name] * (D3K - n7s) / D3K + i3K["True Range " + k3K.name];}i3K[F44 + k3K.name]=r3K;i3K["_sm-DM " + k3K.name]=h3K;i3K["_smTR " + k3K.name]=C3K;if(t3K < D3K)continue;D4u.v1T(108);n3K=D4u.f1T(r3K,100,C3K);D4u.v1T(109);N3K=D4u.n1T(C3K,"100",h3K,1);D4u.B1T(1);var t7s=D4u.n1T(200,100);H3K=t7s * Math.abs(n3K - N3K) / (n3K + N3K);i3K["+DI " + k3K.name]=n3K;i3K[h44 + k3K.name]=N3K;if(k3K.inputs.Series !== ![] && p3K){if(t3K < D3K + p3K - ("1" << 1964198592)){if(t3K == k3K.startFrom){for(var F3K=D3K;F3K < k3K.startFrom;F3K++){D4u.v1T(87);var T7s=D4u.f1T(5,20,96);z3K+=T7s * Math.abs(W3K[F3K]["+DI " + k3K.name] - W3K[F3K]["-DI " + k3K.name]) / (W3K[F3K]["+DI " + k3K.name] + W3K[F3K]["-DI " + k3K.name]);}}z3K+=H3K;}else if(t3K == D3K + p3K - ("1" << 1289366176)){D4u.B1T(9);i3K["ADX " + k3K.name]=D4u.f1T(p3K,z3K);}else {D4u.v1T(110);var Y7s=D4u.n1T(20,1601,18,11,9);D4u.v1T(111);var V7s=D4u.n1T(14,12,6,283,15);i3K["ADX " + k3K.name]=(W3K[t3K - Y7s]["ADX " + k3K.name] * (p3K - V7s) + H3K) / p3K;}}if(k3K.inputs.Histogram){b44="-D";b44+="I ";X3K=k3K.name + "_hist";if(!i3K["+DI " + k3K.name] && i3K["+DI " + k3K.name] !== "0" >> 649292640)continue;if(!i3K["-DI " + k3K.name] && i3K[b44 + k3K.name] !== 0)continue;i3K[X3K]=i3K["+DI " + k3K.name] - i3K["-DI " + k3K.name];if(k3K.inputs.Series === ! !0){i3K["+DI " + k3K.name]=null;i3K["-DI " + k3K.name]=null;}k3K.outputMap[X3K]="";}}};Z3K.Studies.displayADX=function(j3K,U3K,a3K){var q6K,g44,G3K,s3K,V6K,A6K,E3K,g3K;q6K=U3K.underlay?0.3:U3K.inputs.Series?0.4:1;if(U3K.inputs.Series && U3K.inputs.Shading){g44="-";g44+="DI ";G3K="+DI " + U3K.name;s3K=g44 + U3K.name;V6K=Z3K.Studies.determineColor(U3K.outputs[U3K.outputMap[G3K]]);A6K=Z3K.Studies.determineColor(U3K.outputs[U3K.outputMap[s3K]]);E3K=U3K.getYAxis(j3K);g3K={topBand:G3K,bottomBand:s3K,topColor:V6K,bottomColor:A6K,skipTransform:j3K.panels[U3K.panel].name != U3K.chart.name,topAxis:E3K,bottomAxis:E3K,opacity:0.3};if(!U3K.highlight && j3K.highlightedDraggable){g3K.opacity*=0.3;}Z3K.fillIntersecting(j3K,U3K.panel,g3K);}o233.z9u();if(U3K.inputs.Histogram){Z3K.Studies.createHistogram(j3K,U3K,a3K,!"1",q6K);}if(U3K.inputs.Series !== !{}){Z3K.Studies.displaySeriesAsLine(j3K,U3K,a3K);}else if(!U3K.inputs.Series && !U3K.inputs.Histogram){j3K.displayErrorAsWatermark(U3K.panel,j3K.translateIf(U3K.name) + ": " + j3K.translateIf("Nothing to display"));}};Z3K.Studies.studyLibrary=Z3K.extend(Z3K.Studies.studyLibrary,{ADX:{name:"ADX/DMS",calculateFN:Z3K.Studies.calculateADX,seriesFN:Z3K.Studies.displayADX,inputs:{Period:14,"Smoothing Period":14,Series:! !{},Shading:!{},Histogram:! !0},outputs:{"+DI":"#00FF00","-DI":"#FF0000",ADX:"auto","Positive Bar":"#00DD00","Negative Bar":"#FF0000"}}});}};M7B=L6K=>{var u6K,Z0C,C0C,z0C,L44,e44,G44,R44,E44,J44;u6K=typeof _CIQ !== "undefined"?_CIQ:L6K.CIQ;if(!u6K.Studies){console.error("alligator feature requires first activating studies feature.");}else {u6K.Studies.calculateAlligator=function(R6K,P6K){var C4u=o233;var x6K,f6K,P44,j44,u44,Z44,Q6K,S6K,w6K,C44;C4u.z9u();x6K={J:Number(P6K.inputs["Jaw Period"]),T:Number(P6K.inputs["Teeth Period"]),L:Number(P6K.inputs["Lips Period"])};f6K=P6K.chart.scrubbed;if(f6K.length < Math.max(x6K.J,x6K.T,x6K.L) + 1){P6K.error=! !{};return;}if(P6K.type === "Gator" || P6K.inputs["Show Lines"]){P44="hl";P44+="/";P44+="2";j44="T";j44+="e";j44+="eth";u44="Te";u44+="eth Off";u44+="se";u44+="t";u6K.Studies.MA("welles wilder",x6K.J,"hl/2",P6K.inputs["Jaw Offset"],"Jaw",R6K,P6K);u6K.Studies.MA("welles wilder",x6K.T,"hl/2",P6K.inputs[u44],j44,R6K,P6K);u6K.Studies.MA("welles wilder",x6K.L,P44,P6K.inputs["Lips Offset"],"Lips",R6K,P6K);}for(var l6K=P6K.startFrom;l6K < f6K.length;l6K++){if(!f6K[l6K])continue;if(P6K.type == "Gator"){Z44="_";Z44+="hi";Z44+="s";Z44+="t1";Q6K=f6K[l6K]["Jaw " + P6K.name];S6K=f6K[l6K]["Lips " + P6K.name];w6K=f6K[l6K]["Teeth " + P6K.name];if(w6K || w6K === 0){if(Q6K || Q6K === 0){C4u.B1T(1);f6K[l6K][P6K.name + "_hist1"]=Math.abs(C4u.f1T(Q6K,w6K));}if(S6K || S6K === "0" << 942227040){C4u.B1T(1);f6K[l6K][P6K.name + "_hist2"]=-Math.abs(C4u.n1T(w6K,S6K));}}P6K.outputMap={};P6K.outputMap[P6K.name + Z44]="";P6K.outputMap[P6K.name + "_hist2"]="";}if(P6K.inputs["Show Fractals"]){if(!f6K[l6K - 2] || !f6K[l6K - +"1"] || !f6K[l6K] || !f6K[l6K + 1] || !f6K[l6K + 2])continue;if(f6K[l6K - ("2" >> 1823834080)].High && f6K[l6K - +"1"].High && f6K[l6K].High && f6K[l6K + 1].High && f6K[l6K + "2" * 1].High){if(f6K[l6K].High > f6K[l6K - 1].High && f6K[l6K].High > f6K[l6K - 2].High && f6K[l6K].High > f6K[l6K + 1].High && f6K[l6K].High > f6K[l6K + 2].High){f6K[l6K]["Fractal High " + P6K.name]=1;}}if(f6K[l6K - ("2" - 0)].Low && f6K[l6K - 1].Low && f6K[l6K].Low && f6K[l6K + 1].Low && f6K[l6K + "2" * 1].Low){if(f6K[l6K].Low < f6K[l6K - 1].Low && f6K[l6K].Low < f6K[l6K - 2].Low && f6K[l6K].Low < f6K[l6K + "1" * 1].Low && f6K[l6K].Low < f6K[l6K + 2].Low){C44="Fr";C44+="a";C44+="ctal Low";C44+=" ";f6K[l6K][C44 + P6K.name]=+"1";}}}}};u6K.Studies.displayAlligator=function(b6K,c6K,T6K){var B6K,M44;B6K=c6K.getContext(b6K);function m6K(d6K,e6K){var z44,I6K,O6K,x9C,o9C,O9C;z44="hi";z44+="gh";O6K=b6K.chart.panel.yAxis.flipped;if(d6K == z44){B6K.fillStyle=b6K.defaultColor;B6K.textBaseline=O6K?"top":"bottom";I6K=b6K.pixelFromPrice(T6K[e6K].High);B6K.fillText(O6K?"\u25BC":(8890,9793) === ("4293" | 4292)?("0xa99" >> 220630080,"427.90" * 1):8763 !== (+"4424",9840)?"\u25B2":!0,b6K.pixelFromBar(v6K,b6K.chart) - B6K.measureText((4190,3710) == (472.32,701)?!0:"\u25B2").width / ("2" - 0) + 1,O6K?I6K + 5:I6K - ("5" & 2147483647));x9C=-717683401;o9C=-1969095125;O9C=2;for(var f9C=+"1";o233.D2C(f9C.toString(),f9C.toString().length,65419) !== x9C;f9C++){;O9C+=2;}if(o233.A2C(O9C.toString(),O9C.toString().length,85993) !== o9C){;}}else if(d6K == "low"){B6K.fillStyle=b6K.defaultColor;B6K.textBaseline=O6K?"bottom":"top";I6K=b6K.pixelFromPrice(T6K[e6K].Low);B6K.fillText(O6K?"\u25B2":742 == (5014,964.64)?0x139c:"\u25BC",b6K.pixelFromBar(v6K,b6K.chart) - B6K.measureText((260,747.22) <= 798?"\u25BC":(+"4816","4880" << 2087716768) !== (+"7844",745)?(118.04,461.20):3.18e+3).width / ("2" ^ 0) + 1,O6K?I6K - 5:I6K + +"5");;}}if(c6K.inputs["Show Lines"]){u6K.Studies.displaySeriesAsLine(b6K,c6K,T6K);}if(c6K.inputs["Show Fractals"]){b6K.startClip();B6K.globalAlpha=c6K.underlay?0.3:1;if(!c6K.highlight && b6K.highlightedDraggable){o233.B1T(23);B6K.globalAlpha*=o233.n1T(1,"0.3");}for(var v6K="2" | 0;v6K < T6K.length - 2;v6K++){if(T6K[v6K]){M44="F";M44+="r";M44+="actal Low ";if(T6K[v6K]["Fractal High " + c6K.name]){m6K("high",v6K);}if(T6K[v6K][M44 + c6K.name]){m6K("low",v6K);}}}b6K.endClip();}};u6K.Studies.displayGator=function(Y6K,J6K,p6K){var j4u=o233;var D6K,o6K,M6K,y6K,t6K,F6K,C6K,i6K,W6K,d44,m44;D6K=Y6K.panels[J6K.panel];o6K=J6K.getContext(Y6K);j4u.z9u();M6K=J6K.getYAxis(Y6K);y6K=Y6K.pixelFromPrice(0,D6K,M6K);j4u.v1T(5);var a7s=j4u.f1T(0,2,0);t6K=Y6K.layout.candleWidth - a7s;if(t6K < 2){t6K=1;}F6K=u6K.Studies.determineColor(J6K.outputs["Increasing Bar"]);C6K=u6K.Studies.determineColor(J6K.outputs["Decreasing Bar"]);Y6K.canvasColor("stx_histogram");if(!J6K.underlay){o6K.globalAlpha=1;}o6K.fillStyle="#CCCCCC";Y6K.startClip(J6K.panel);if(!J6K.highlight && Y6K.highlightedDraggable){o6K.globalAlpha*=0.3;}for(var k6K=0;k6K < p6K.length;k6K++){i6K=p6K[k6K];j4u.B1T(1);W6K=p6K[j4u.f1T(k6K,1)];if(!i6K)continue;for(var Z6K=1;Z6K <= 2;Z6K++){d44="_";d44+="h";d44+="ist";m44="_h";m44+="ist";if(!W6K){W6K=Y6K.getPreviousBar(Y6K.chart,J6K.name + m44 + Z6K,k6K);}if(!W6K){o6K.fillStyle="#CCCCCC";}else if(Math.abs(W6K[J6K.name + "_hist" + Z6K]) < Math.abs(i6K[J6K.name + "_hist" + Z6K])){o6K.fillStyle=F6K;}else if(Math.abs(W6K[J6K.name + "_hist" + Z6K]) > Math.abs(i6K[J6K.name + d44 + Z6K])){o6K.fillStyle=C6K;}if(i6K.candleWidth){t6K=Math.floor(Math.max(1,i6K.candleWidth - 2));}o6K.fillRect(Math.floor(Y6K.pixelFromBar(k6K,D6K.chart) - t6K / 2),Math.floor(y6K),Math.floor(t6K),Math.floor(Y6K.pixelFromPrice(i6K[J6K.name + "_hist" + Z6K],D6K,M6K) - y6K));}}Y6K.endClip();};Z0C=284002593;C0C=318213349;z0C=2;for(var m0C=1;o233.D2C(m0C.toString(),m0C.toString().length,20867) !== Z0C;m0C++){L44="#";L44+="FF";L44+="0000";e44="Al";e44+="ligator";u6K.Studies.studyLibrary=u6K.extend(u6K.Studies.studyLibrary,{Alligator:{name:e44,overlay:! !{},seriesFN:u6K.Studies.displayAlligator,calculateFN:u6K.Studies.calculateAlligator,inputs:{"Show Lines":! !"1","Jaw Period":13,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":5,"Lips Offset":3,"Show Fractals":![]},outputs:{Jaw:"#0000FF",Teeth:"#FF0000",Lips:"#00DD00"}},Gator:{name:"Gator Oscillator",seriesFN:u6K.Studies.displayGator,calculateFN:u6K.Studies.calculateAlligator,inputs:{"Jaw Period":13,"Jaw Offset":"8" & 2147483647,"Teeth Period":8,"Teeth Offset":5,"Lips Period":"5" << 57363520,"Lips Offset":3},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":L44},centerline:0}});z0C+=2;}if(o233.A2C(z0C.toString(),z0C.toString().length,48567) !== C0C){G44="Gato";G44+="r Os";G44+="cillat";G44+="or";R44="Lips Peri";R44+="od";E44="#F";E44+="F00";E44+="00";J44="De";J44+="c";J44+="reasing Bar";u6K.Studies.studyLibrary=u6K.extend(u6K.Studies.studyLibrary,{Alligator:{name:J44,overlay:!"1",seriesFN:u6K.Studies.displayAlligator,calculateFN:u6K.Studies.calculateAlligator,inputs:{"Show Lines":! !"","Jaw Period":+"45","Jaw Offset":0,"Teeth Period":1,"Teeth Offset":8,"Lips Period":2,"Lips Offset":7,"Show Fractals":! !1},outputs:{Jaw:E44,Teeth:R44,Lips:G44}},Gator:{name:"Teeth Offset",seriesFN:u6K.Studies.displayGator,calculateFN:u6K.Studies.calculateAlligator,inputs:{"Jaw Period":57,"Jaw Offset":0,"Teeth Period":5,"Teeth Offset":+"7","Lips Period":4,"Lips Offset":8},outputs:{"Increasing Bar":"Teeth Offset","Decreasing Bar":"Gator Oscillator"},centerline:1}});}}};y7B=h6K=>{var r6K,p34;o233.Y9u();r6K=typeof _CIQ !== "undefined"?_CIQ:h6K.CIQ;if(!r6K.Studies){console.error("aroon feature requires first activating studies feature.");}else {p34="au";p34+="to";r6K.Studies.calculateAroon=function(V4K,z6K){var Y4u=o233;var K6K,U6K,j6K,N6K,H6K,s6K,X6K,q44,n6K,E6K,g6K,a6K,q4K;K6K=z6K.chart.scrubbed;if(K6K.length < z6K.days + ("1" >> 1183942016)){z6K.error=!0;return;}U6K=0;Y4u.B1T(23);j6K=Y4u.n1T(1,"0");N6K=null;H6K=null;if(z6K.startFrom > 0){Y4u.v1T(112);var B7s=Y4u.f1T(15,20,11,11,281);s6K=K6K[z6K.startFrom - B7s]["_state " + z6K.name];if(s6K){U6K=s6K[0];j6K=s6K[1];N6K=s6K[2];H6K=s6K[3];}}for(var G6K=z6K.startFrom;G6K < K6K.length;G6K++){q44="_s";q44+="ta";q44+="te ";n6K=K6K[G6K];if(n6K.futureTick)break;if(N6K === null){N6K=n6K.High;}if(H6K === null){H6K=n6K.Low;}N6K=Math.max(N6K,n6K.High);if(N6K == n6K.High){U6K=0;}else {U6K++;if(U6K > z6K.days){N6K=n6K.High;Y4u.B1T(53);U6K=Y4u.n1T("0",0);for(X6K="1" * 1;X6K <= z6K.days;X6K++){N6K=Math.max(N6K,K6K[G6K - X6K].High);if(N6K == K6K[G6K - X6K].High){U6K=X6K;}}}}H6K=Math.min(H6K,n6K.Low);if(H6K == n6K.Low){j6K=0;}else {j6K++;if(j6K > z6K.days){H6K=n6K.Low;j6K=0;for(X6K=1;X6K <= z6K.days;X6K++){H6K=Math.min(H6K,K6K[G6K - X6K].Low);if(H6K == K6K[G6K - X6K].Low){j6K=X6K;}}}}E6K=!isNaN(n6K.High);g6K=!isNaN(n6K.Low);Y4u.v1T(113);var Q7s=Y4u.f1T(3,25,1025,15);Y4u.v1T(5);var I7s=Y4u.n1T(6,7,0);a6K=Q7s * (I7s - U6K / z6K.days);if(E6K){n6K["Aroon Up " + z6K.name]=a6K;}Y4u.B1T(114);var S7s=Y4u.f1T(11,18,19,1,11);q4K=+"100" * (S7s - j6K / z6K.days);if(g6K){n6K["Aroon Down " + z6K.name]=q4K;}if(E6K && g6K){n6K["Aroon Oscillator " + z6K.name]=n6K["Aroon Up " + z6K.name] - n6K["Aroon Down " + z6K.name];}n6K[q44 + z6K.name]=[U6K,j6K,N6K,H6K];}};r6K.Studies.studyLibrary=r6K.extend(r6K.Studies.studyLibrary,{Aroon:{name:"Aroon",range:"0 to 100",calculateFN:r6K.Studies.calculateAroon,outputs:{"Aroon Up":"#00DD00","Aroon Down":"#FF0000"}},"Aroon Osc":{name:"Aroon Oscillator",calculateFN:r6K.Studies.calculateAroon,outputs:{"Aroon Oscillator":p34}}});}};F7B=u4K=>{var A4K,k34;A4K=typeof _CIQ !== "undefined"?_CIQ:u4K.CIQ;if(!A4K.Studies){console.error("atr feature requires first activating studies feature.");}else {k34="sq";k34+="uar";k34+="e";k34+="wave";A4K.Studies.calculateATRBands=function(l4K,L4K){var N34,f4K;N34="Clo";o233.z9u();N34+="se";A4K.Studies.calculateStudyATR(l4K,L4K);f4K=L4K.inputs.Field;if(!f4K || f4K == "field"){f4K=N34;}A4K.Studies.calculateGenericEnvelope(l4K,L4K,L4K.inputs.Shift,f4K,"ATR " + L4K.name);};A4K.Studies.calculateSTARCBands=function(x4K,P4K){var r34;r34="M";o233.z9u();r34+="A Pe";r34+="ri";r34+="od";A4K.Studies.calculateStudyATR(x4K,P4K);A4K.Studies.MA("simple",P4K.inputs[r34],"Close",0,"_MA",x4K,P4K);A4K.Studies.calculateGenericEnvelope(x4K,P4K,P4K.inputs.Multiplier,"_MA " + P4K.name,"ATR " + P4K.name);};A4K.Studies.calculateATRStops=function(O4K,w4K){var P4u=o233;var b4K,c4K,i34,s34,Q4K,m4K,S4K,R4K,v4K,T4K;b4K=w4K.chart.scrubbed;if(!b4K){return;}A4K.Studies.calculateStudyATR(O4K,w4K);c4K=w4K.inputs.HighLow;for(var B4K=Math.max(w4K.startFrom - 1,1);B4K < b4K.length - 1;B4K++){i34="AT";i34+="R";i34+=" ";s34="Sel";s34+="l St";s34+="o";s34+="ps ";Q4K=b4K[B4K];P4u.B1T(1);m4K=b4K[P4u.n1T(B4K,1)];S4K=Q4K["Buy Stops " + w4K.name];if(!S4K){S4K=Q4K[s34 + w4K.name];}if(!S4K){S4K=0;}if(!Q4K || !m4K)continue;R4K=Q4K.Close;v4K=R4K;T4K=Q4K[i34 + w4K.name] * w4K.inputs.Multiplier;if(Q4K.Close > S4K && m4K.Close > S4K){if(c4K){R4K=Q4K.High;}P4u.B1T(1);v4K=Math.max(S4K,P4u.f1T(R4K,T4K));}else if(Q4K.Close <= S4K && m4K.Close <= S4K){if(c4K){R4K=Q4K.Low;}P4u.B1T(0);v4K=Math.min(S4K,P4u.n1T(R4K,T4K));}else if(Q4K.Close > S4K){if(c4K){R4K=Q4K.High;}P4u.B1T(1);v4K=P4u.f1T(R4K,T4K);}else if(Q4K.Close <= S4K){if(c4K){R4K=Q4K.Low;}P4u.v1T(0);v4K=P4u.f1T(R4K,T4K);}if(R4K <= v4K){P4u.v1T(0);b4K[P4u.f1T(B4K,1)]["Buy Stops " + w4K.name]=v4K;P4u.v1T(0);delete b4K[P4u.f1T(B4K,1)]["Sell Stops " + w4K.name];}else if(R4K > v4K){P4u.v1T(0);b4K[P4u.n1T(B4K,1)]["Sell Stops " + w4K.name]=v4K;P4u.B1T(0);delete b4K[P4u.f1T(B4K,1)]["Buy Stops " + w4K.name];}P4u.B1T(0);b4K[P4u.n1T(B4K,1)]["All Stops " + w4K.name]=v4K;}P4u.z9u();w4K.referenceOutput="All Stops";w4K.outputMap={};w4K.outputMap["All Stops " + w4K.name]="";};A4K.Studies.studyLibrary=A4K.extend(A4K.Studies.studyLibrary,{ATR:{name:"Average True Range",calculateFN:A4K.Studies.calculateStudyATR,outputs:{ATR:"auto"}},"ATR Bands":{name:"ATR Bands",overlay:!0,seriesFN:A4K.Studies.displayChannel,calculateFN:A4K.Studies.calculateATRBands,inputs:{Period:5,Field:"field",Shift:"3" >> 943901408,"Channel Fill":! !"1"},outputs:{"ATR Bands Top":"auto","ATR Bands Bottom":"auto","ATR Bands Channel":"auto"},attributes:{Shift:{min:0.1,step:0.1}}},"STARC Bands":{name:"STARC Bands",overlay:! ![],seriesFN:A4K.Studies.displayChannel,calculateFN:A4K.Studies.calculateSTARCBands,inputs:{Period:15,"MA Period":+"5",Multiplier:1.3,"Channel Fill":! !{}},outputs:{"STARC Bands Top":"auto","STARC Bands Median":"auto","STARC Bands Bottom":"auto"},attributes:{Multiplier:{min:0.1,step:0.1}}},"ATR Trailing Stop":{name:"ATR Trailing Stops",overlay:! ![],seriesFN:A4K.Studies.displayPSAR2,calculateFN:A4K.Studies.calculateATRStops,inputs:{Period:21,Multiplier:3,"Plot Type":["points",k34],HighLow:!{}},outputs:{"Buy Stops":"#FF0000","Sell Stops":"#00FF00"},attributes:{Multiplier:{min:0.1,step:0.1}}}});}};C7B=d4K=>{o233.Y9u();var I4K;I4K=typeof _CIQ !== "undefined"?_CIQ:d4K.CIQ;if(!I4K.Studies){console.error("awesomeOscillator feature requires first activating studies feature.");}else {I4K.Studies.calculateAwesomeOscillator=function(Z4K,e4K){var T34,D34,J4K,Y34;T34="simp";T34+="le";D34="_";D34+="M";D34+="A5";J4K=e4K.chart.scrubbed;if(J4K.length < 33){e4K.error=! !{};return;}I4K.Studies.MA("simple",5,"hl/2",0,D34,Z4K,e4K);I4K.Studies.MA(T34,34,"hl/2",0,"_MA34",Z4K,e4K);for(var Y4K=Math.max(e4K.startFrom,"33" ^ 0);Y4K < J4K.length;Y4K++){Y34="_MA";Y34+="5 ";if(!J4K[Y4K])continue;J4K[Y4K][e4K.name + "_hist"]=J4K[Y4K][Y34 + e4K.name] - J4K[Y4K]["_MA34 " + e4K.name];}e4K.outputMap={};e4K.outputMap[e4K.name + "_hist"]="";};I4K.Studies.displayAwesomeOscillator=function(k4K,o4K,y4K){var h0u=o233;var X34,Q34,B34,M4K,i4K,F4K,C4K,D4K,r4K,h4K,C34,b34,h34,l34,W4K,p4K;X34="stx_histogra";X34+="m";Q34="Decreasing B";Q34+="ar";B34="Incre";B34+="asing B";B34+="ar";M4K=k4K.panels[o4K.panel];i4K=o4K.getContext(k4K);F4K=o4K.getYAxis(k4K);C4K=k4K.pixelFromPrice(0,M4K,F4K);h0u.v1T(8);var X7s=h0u.f1T(10,8);D4K=k4K.layout.candleWidth - X7s;if(D4K < 2){D4K=+"1";}r4K=I4K.Studies.determineColor(o4K.outputs[B34]);h4K=I4K.Studies.determineColor(o4K.outputs[Q34]);k4K.canvasColor(X34);if(!o4K.underlay){h0u.B1T(7);i4K.globalAlpha=h0u.f1T(2147483647,"1");}i4K.fillStyle="#CCCCCC";k4K.startClip(o4K.panel);if(!o4K.highlight && k4K.highlightedDraggable){i4K.globalAlpha*=0.3;}for(var t4K=0;t4K < y4K.length;t4K++){C34="_";C34+="h";C34+="i";C34+="st";b34="_his";b34+="t";h34="_h";h34+="i";h34+="s";h34+="t";l34="_hi";l34+="st";W4K=y4K[t4K];h0u.v1T(1);p4K=y4K[h0u.f1T(t4K,1)];if(!p4K){p4K=k4K.getPreviousBar(k4K.chart,o4K.name + l34,t4K);}if(!W4K)continue;if(!p4K);else if(p4K[o4K.name + h34] < W4K[o4K.name + "_hist"]){i4K.fillStyle=r4K;}else if(p4K[o4K.name + "_hist"] > W4K[o4K.name + b34]){i4K.fillStyle=h4K;}if(W4K.candleWidth){D4K=Math.floor(Math.max(1,W4K.candleWidth - 2));}i4K.fillRect(Math.floor(k4K.pixelFromBar(t4K,M4K.chart) - D4K / 2),Math.floor(C4K),Math.floor(D4K),Math.floor(k4K.pixelFromPrice(W4K[o4K.name + C34],M4K,F4K) - C4K));}k4K.endClip();};I4K.Studies.studyLibrary=I4K.extend(I4K.Studies.studyLibrary,{Awesome:{name:"Awesome Oscillator",seriesFN:I4K.Studies.displayAwesomeOscillator,calculateFN:I4K.Studies.calculateAwesomeOscillator,inputs:{},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};r7B=n4K=>{var z4K,M34,c1C,x1C,o1C,E34;z4K=typeof _CIQ !== "undefined"?_CIQ:n4K.CIQ;if(!z4K.Studies){M34="balanceOfPower feature";M34+=" requires first act";M34+="iva";M34+="ting studies feature.";console.error(M34);}else {z4K.Studies.calculateBalanceOfPower=function(U4K,N4K){var e34,X4K,H4K;e34="Moving Aver";e34+="age T";e34+="ype";X4K=N4K.chart.scrubbed;if(X4K.length < N4K.days + 1){N4K.error=! ![];return;}for(var K4K=N4K.startFrom;K4K < X4K.length;K4K++){H4K=X4K[K4K];H4K["_Ratio " + N4K.name]=H4K.Close - H4K.Open;if(H4K.High - H4K.Low !== 0){H4K["_Ratio " + N4K.name]/=H4K.High - H4K.Low;}}z4K.Studies.MA(N4K.inputs[e34],N4K.days,"_Ratio " + N4K.name,0,"Result",U4K,N4K);};c1C=653241070;x1C=-505606696;o1C=2;for(var U1C=1;o233.D2C(U1C.toString(),U1C.toString().length,97467) !== c1C;U1C++){E34="Balance ";E34+="of Po";E34+="w";E34+="er";z4K.Studies.studyLibrary=z4K.extend(z4K.Studies.studyLibrary,{"Bal Pwr":{name:E34,range:"-1 to 1",centerline:0,calculateFN:z4K.Studies.calculateBalanceOfPower,inputs:{Period:14,"Moving Average Type":"ma"}}});o1C+=+"2";}if(o233.A2C(o1C.toString(),o1C.toString().length,34853) !== x1C){z4K.Studies.studyLibrary=z4K.extend(z4K.Studies.studyLibrary,{"Bal Pwr":{name:"Moving Average Type",range:"Moving Average Type",centerline:1,calculateFN:z4K.Studies.calculateBalanceOfPower,inputs:{Period:+"25","Moving Average Type":"Moving Average Type"}}});}}};h7B=G4K=>{var j4K,c94,y94,N94;j4K=typeof _CIQ !== "undefined"?_CIQ:G4K.CIQ;if(!j4K.Studies){c94="bollinger ";c94+="feature requires first activa";c94+="ting";c94+=" studies feature.";console.error(c94);}else {y94="Bol";y94+="linger Bandwidth";N94="au";N94+="t";N94+="o";j4K.Studies.calculateBollinger=function(g4K,s4K){var p94,f94,U94,O94,o94,x94,E4K;p94="Bo";p94+="ll";p94+=" %b";f94="_";f94+="STD";f94+=" Dev ";U94="Mov";U94+="ing Aver";U94+="age Type";O94="_";O94+="M";O94+="A";o94="Clo";o94+="se";x94="f";x94+="i";x94+="el";x94+="d";E4K=s4K.inputs.Field;if(!E4K || E4K == x94){E4K=o94;}j4K.Studies.MA(s4K.inputs["Moving Average Type"],s4K.days,E4K,0,O94,g4K,s4K);s4K.std=new j4K.Studies.StudyDescriptor(s4K.name,"STD Dev",s4K.panel);s4K.std.chart=s4K.chart;s4K.std.startFrom=s4K.startFrom;s4K.std.days=s4K.days;s4K.std.inputs={Field:E4K,"Standard Deviations":1,Type:s4K.inputs[U94]};s4K.std.outputs={"_STD Dev":null};j4K.Studies.calculateStandardDeviation(g4K,s4K.std);j4K.Studies.calculateGenericEnvelope(g4K,s4K,s4K.inputs["Standard Deviations"],"_MA " + s4K.name,f94 + s4K.name);if(s4K.type == p94){s4K.zoneOutput="%b";}};j4K.Studies.studyLibrary=j4K.extend(j4K.Studies.studyLibrary,{"Bollinger Bands":{name:"Bollinger Bands",overlay:! !"1",calculateFN:j4K.Studies.calculateBollinger,seriesFN:j4K.Studies.displayChannel,inputs:{Period:20,Field:"field","Standard Deviations":+"2","Moving Average Type":"ma","Channel Fill":! !{}},outputs:{"Bollinger Bands Top":"auto","Bollinger Bands Median":N94,"Bollinger Bands Bottom":"auto"},attributes:{"Standard Deviations":{min:+"0.1",step:0.1}}},"Boll %b":{name:"Bollinger %b",calculateFN:j4K.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},outputs:{"%b":"auto"},parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:0,studyOverSoldColor:"auto"}},attributes:{"Standard Deviations":{min:"0.1" * 1,step:0.1}}},"Boll BW":{name:y94,calculateFN:j4K.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},outputs:{Bandwidth:"auto"},attributes:{"Standard Deviations":{min:0.1,step:0.1}}}});}};z7B=q8K=>{var r94,a4K,H94;o233.z9u();r94="un";r94+="defined";a4K=typeof _CIQ !== r94?_CIQ:q8K.CIQ;if(!a4K.Studies){H94="cci feature requires first activating s";H94+="tudies feature.";console.error(H94);}else {a4K.Studies.calculateCCI=function(P8K,V8K){var s94,v94,u8K,k94,A8K,f8K,i94;o233.Y9u();s94="hl";s94+="c/3";v94="s";v94+="i";v94+="mple";u8K=V8K.chart.scrubbed;if(u8K.length < V8K.days + 1){V8K.error=! !{};return;}a4K.Studies.MA(v94,V8K.days,s94,"0" >> 789019520,"MA",P8K,V8K);for(var L8K=Math.max(V8K.startFrom,V8K.days - 1);L8K < u8K.length;L8K++){k94="Resu";k94+="lt ";A8K=u8K[L8K];if(!A8K)continue;f8K=0;for(var l8K=0;l8K < V8K.days;l8K++){i94="M";i94+="A";i94+=" ";f8K+=Math.abs(u8K[L8K - l8K]["hlc/3"] - A8K[i94 + V8K.name]);}f8K/=V8K.days;if(Math.abs(f8K) < 0.00000001){A8K["Result " + V8K.name]=0;}else {A8K[k94 + V8K.name]=(A8K["hlc/3"] - A8K["MA " + V8K.name]) / (0.015 * f8K);}}};a4K.Studies.studyLibrary=a4K.extend(a4K.Studies.studyLibrary,{CCI:{name:"Commodity Channel Index",calculateFN:a4K.Studies.calculateCCI,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:"100" - 0,studyOverBoughtColor:"auto",studyOverSoldValue:-100,studyOverSoldColor:"auto"}},attributes:{Period:{min:2}}}});}};n7B=w8K=>{var D94,x8K,K94,W94;D94="un";D94+="def";D94+="i";D94+="ned";x8K=typeof _CIQ !== D94?_CIQ:w8K.CIQ;o233.Y9u();if(!x8K.Studies){console.error("centerOfGravity feature requires first activating studies feature.");}else {K94="fiel";K94+="d";W94="Ce";W94+="nter Of Grav";W94+="ity";x8K.Studies.calculateCenterOfGravity=function(m8K,Q8K){var W0u=o233;W0u.z9u();var A94,S8K,R8K,w94,c8K,v8K,T8K;A94="Clo";A94+="s";A94+="e";S8K=Q8K.chart.scrubbed;if(S8K.length < Q8K.days){Q8K.error=! ![];return;}R8K=Q8K.inputs.Field;if(!R8K || R8K == "field"){R8K=A94;}for(var b8K=Math.max(Q8K.startFrom,Q8K.days - 1);b8K < S8K.length;b8K++){w94="Res";w94+="ult ";c8K=0;v8K=+"0";for(var B8K="0" & 2147483647;B8K < Q8K.days;B8K++){W0u.v1T(1);T8K=S8K[W0u.n1T(b8K,B8K)][R8K];W0u.B1T(115);c8K-=W0u.f1T(T8K,B8K,1);v8K+=T8K;}if(v8K){W0u.v1T(9);S8K[b8K][w94 + Q8K.name]=W0u.n1T(v8K,c8K);}}};x8K.Studies.studyLibrary=x8K.extend(x8K.Studies.studyLibrary,{COG:{name:W94,calculateFN:x8K.Studies.calculateCenterOfGravity,inputs:{Period:+"10",Field:K94}}});}};N7B=I8K=>{var O8K,a94;O8K=typeof _CIQ !== "undefined"?_CIQ:I8K.CIQ;if(!O8K.Studies){console.error("chaikin feature requires first activating studies feature.");}else {a94="Chaiki";a94+="n Volatili";a94+="ty";O8K.Studies.calculateChaikinMoneyFlow=function(k8K,J8K){var m0u=o233;var d8K,Z8K,Y8K,o8K,n94,t94,T94;d8K=J8K.chart.scrubbed;if(d8K.length < J8K.days){J8K.error=!0;return;}Z8K=+"0";m0u.B1T(53);Y8K=m0u.f1T("0",0);m0u.B1T(116);var l7s=m0u.n1T(2,4,2,1,1);o8K=d8K[J8K.startFrom - l7s];if(o8K){n94="_";n94+="su";n94+="mV ";if(o8K["_sumMF " + J8K.name]){Z8K=o8K["_sumMF " + J8K.name];}if(o8K[n94 + J8K.name]){Y8K=o8K["_sumV " + J8K.name];}}for(var e8K=J8K.startFrom;e8K < d8K.length;e8K++){t94="_M";t94+="F";t94+="V";t94+=" ";if(d8K[e8K].High == d8K[e8K].Low){m0u.B1T(53);d8K[e8K][t94 + J8K.name]=m0u.n1T("0",0);}else {d8K[e8K]["_MFV " + J8K.name]=d8K[e8K].Volume * (+"2" * d8K[e8K].Close - d8K[e8K].High - d8K[e8K].Low) / (d8K[e8K].High - d8K[e8K].Low);}Z8K+=d8K[e8K]["_MFV " + J8K.name];Y8K+=d8K[e8K].Volume;if(e8K > J8K.days - +"1"){T94="_";T94+="M";T94+="F";T94+="V ";Z8K-=d8K[e8K - J8K.days][T94 + J8K.name];Y8K-=d8K[e8K - J8K.days].Volume;if(Y8K){m0u.v1T(9);d8K[e8K]["Result " + J8K.name]=m0u.n1T(Y8K,Z8K);}}d8K[e8K]["_sumMF " + J8K.name]=Z8K;d8K[e8K]["_sumV " + J8K.name]=Y8K;}};O8K.Studies.calculateChaikinVolatility=function(p8K,i8K){var d0u=o233;var W8K,t8K,Y94,D8K,V94;W8K=i8K.chart.scrubbed;if(W8K.length < i8K.days){i8K.error=!"";return;}for(t8K=i8K.startFrom;t8K < W8K.length;t8K++){Y94="_";Y94+="Hig";Y94+="h-Low";Y94+=" ";if(W8K[t8K].futureTick)break;W8K[t8K][Y94 + i8K.name]=W8K[t8K].High - W8K[t8K].Low;}O8K.Studies.MA(i8K.inputs["Moving Average Type"],i8K.days,"_High-Low " + i8K.name,0,"_MA",p8K,i8K);D8K=i8K.inputs["Rate Of Change"];d0u.z9u();if(!D8K){D8K=i8K.days;}for(t8K=Math.max(i8K.startFrom,D8K);t8K < W8K.length;t8K++){V94="_";V94+="M";V94+="A";V94+=" ";if(!W8K[t8K - D8K]["_MA " + i8K.name])continue;if(W8K[t8K].futureTick)break;d0u.v1T(1);var F7s=d0u.n1T(112,12);d0u.B1T(94);var h7s=d0u.f1T(9,18,10,4,14);W8K[t8K]["Result " + i8K.name]=F7s * (W8K[t8K]["_MA " + i8K.name] / W8K[t8K - D8K][V94 + i8K.name] - h7s);}};O8K.Studies.studyLibrary=O8K.extend(O8K.Studies.studyLibrary,{"Chaikin MF":{name:"Chaikin Money Flow",calculateFN:O8K.Studies.calculateChaikinMoneyFlow,inputs:{Period:20}},"Chaikin Vol":{name:a94,calculateFN:O8K.Studies.calculateChaikinVolatility,inputs:{Period:14,"Rate Of Change":2,"Moving Average Type":"ma"}}});}};H7B=y8K=>{o233.z9u();var M8K,g94,b94,Q94,B94;M8K=typeof _CIQ !== "undefined"?_CIQ:y8K.CIQ;if(!M8K.Studies){console.error("chande feature requires first activating studies feature.");}else {g94="au";g94+="to";b94="Chande Forec";b94+="a";b94+="st Oscillator";Q94="Variab";Q94+="le";B94="va";B94+="riabl";B94+="e";M8K.Studies.prettify.variable="vma";M8K.Studies.movingAverage.conversions.vma=B94;M8K.Studies.movingAverage.translations.variable=Q94;M8K.Studies.movingAverage.typeMap.vma="Variable";M8K.Studies.movingAverage.typeMap.variable="Variable";M8K.Studies.calculateChandeForecast=function(n8K,F8K){var r0u=o233;var p9C,N9C,y9C,C8K,r8K,I94,z8K;p9C=2038577083;r0u.Y9u();N9C=1769552049;y9C=2;for(var H9C=1;r0u.A2C(H9C.toString(),H9C.toString().length,153) !== p9C;H9C++){C8K=F8K.chart.scrubbed;y9C+=2;}if(r0u.D2C(y9C.toString(),y9C.toString().length,88270) !== N9C){C8K=F8K.chart.scrubbed;}C8K=F8K.chart.scrubbed;if(C8K.length < F8K.days + 1){F8K.error=!0;return;}r8K=F8K.inputs.Field;if(!r8K || r8K == "field"){r8K="Close";}M8K.Studies.MA("time series",F8K.days,r8K,0,"MA",n8K,F8K);for(var h8K=Math.max(1,F8K.startFrom);h8K < C8K.length;h8K++){I94="M";I94+="A ";z8K=C8K[h8K][r8K];if(z8K && typeof z8K == "object"){z8K=z8K[F8K.subField];}r0u.B1T(72);var b7s=r0u.n1T(432,113,4,16,4);r0u.v1T(88);var g7s=r0u.n1T(5918849,201240863,11837698,2);C8K[h8K]["Result " + F8K.name]=b7s * (("1" << g7s) - C8K[h8K][I94 + F8K.name] / z8K);}};M8K.Studies.calculateChandeMomentum=function(A5K,N8K){var L0u=o233;var S94,G8K,K8K,E3C,R3C,G3C,U8K,s8K,E8K,g8K,j8K,X8K,a8K,q5K;L0u.z9u();S94="C";S94+="l";S94+="os";S94+="e";G8K=N8K.name;for(var V5K in N8K.outputs){L0u.v1T(11);G8K=L0u.f1T(95.07 === (921.72,161.08)?406.79:9250 >= (9850,7987)?" ":("6550" | 2306,2780) === (381,4900)?380.44:(!0,282.67),G8K,V5K);}K8K=N8K.chart.scrubbed;if(K8K.length < N8K.days + 1){E3C=-903737800;L0u.B1T(40);R3C=L0u.n1T(320245696,"1025169163");G3C=2;for(var c9C=1;L0u.D2C(c9C.toString(),c9C.toString().length,1171) !== E3C;c9C++){N8K.error=! !1;return;}if(L0u.A2C(G3C.toString(),G3C.toString().length,8956) !== R3C){N8K.error=![];return;}}U8K=N8K.inputs.Field;if(!U8K || U8K == "field"){U8K=S94;}s8K=0;E8K=0;g8K=[];for(var H8K=N8K.startFrom - N8K.days + 1;H8K < K8K.length;H8K++){if(H8K < 1)continue;j8K=K8K[H8K][U8K];L0u.v1T(1);X8K=K8K[L0u.f1T(H8K,1)][U8K];if(j8K && typeof j8K == "object"){j8K=j8K.Close;}if(X8K && typeof X8K == "object"){X8K=X8K.Close;}if(X8K === undefined)continue;L0u.B1T(1);a8K=L0u.n1T(j8K,X8K);g8K.push(a8K);s8K+=a8K;E8K+=Math.abs(a8K);if(g8K.length == N8K.days){L0u.v1T(108);K8K[H8K][G8K]=L0u.n1T(s8K,100,E8K);q5K=g8K.shift();s8K-=q5K;E8K-=Math.abs(q5K);}}};M8K.Studies.calculateMovingAverageVariable=function(I5K,u5K){var x0u=o233;var X94,J5K,P5K,T5K,w5K,x5K,Q5K,l5K,L5K,f5K,S5K,v5K,m5K,c5K,h94,F94,l94,R5K,e5K,b5K,O5K,B5K;X94="f";X94+="i";X94+="eld";J5K=u5K.inputs.Type;P5K=u5K.chart.scrubbed;x0u.v1T(8);var u7s=x0u.f1T(6,4);x0u.v1T(117);var j7s=x0u.f1T(4,19,18,6);T5K=u7s / (u5K.days + j7s);w5K=null;x5K=u5K.name;for(var d5K in u5K.outputs){x0u.B1T(11);x5K=x0u.n1T((293.5,1630) < 3173?" ":(0x198a,0x1b18),x5K,d5K);}Q5K=u5K.inputs.Field;if(!Q5K || Q5K == X94){Q5K="Close";}u5K.cmo=new M8K.Studies.StudyDescriptor(u5K.name,"cmo",u5K.panel);u5K.cmo.chart=u5K.chart;u5K.cmo.days=9;u5K.cmo.inputs={Field:Q5K};u5K.cmo.startFrom=u5K.startFrom;u5K.cmo.outputs={_CMO:null};x0u.z9u();M8K.Studies.calculateChandeMomentum(I5K,u5K.cmo);l5K=parseInt(u5K.inputs.Offset,"10" * 1);if(isNaN(l5K)){l5K=0;}v5K=u5K.startFrom;m5K=l5K;for(L5K=u5K.startFrom - 1;L5K >= 0;L5K--){f5K=P5K[L5K][x5K];if(!f5K && f5K !== 0)continue;if(w5K === null){w5K=f5K;}if(m5K <= +"0")break;m5K--;v5K=L5K;}if(w5K === null){w5K=v5K=+"0";}c5K=[];for(L5K=v5K;L5K < P5K.length;L5K++){h94="_";h94+="C";h94+="MO ";F94="_CM";F94+="O";F94+=" ";l94="_CMO";l94+=" ";R5K=P5K[L5K];f5K=R5K[Q5K];if(f5K && typeof f5K == "object"){f5K=f5K[u5K.subField];}e5K=L5K + l5K >= 0 && L5K + l5K < P5K.length;b5K=e5K?P5K[L5K + l5K]:null;if(!f5K && f5K !== 0){if(b5K){b5K[x5K]=null;}else if(L5K + l5K >= P5K.length){S5K={};S5K[x5K]=null;c5K.push(S5K);}continue;}if(!R5K[l94 + u5K.name] && R5K[F94 + u5K.name] !== 0)continue;x0u.v1T(118);var P7s=x0u.n1T(160,16,20,800);O5K=Math.abs(R5K[h94 + u5K.name]) / P7s;x0u.v1T(119);B5K=x0u.n1T(T5K,T5K,O5K,f5K,w5K,"1",O5K);w5K=B5K;if(L5K < u5K.days){B5K=null;}if(b5K){b5K[x5K]=B5K;}else if(L5K + l5K >= P5K.length){S5K={};S5K[x5K]=B5K;c5K.push(S5K);}}u5K.appendFutureTicks(I5K,c5K);};M8K.Studies.studyLibrary=M8K.extend(M8K.Studies.studyLibrary,{"Chande Fcst":{name:b94,calculateFN:M8K.Studies.calculateChandeForecast,inputs:{Period:14,Field:"field"}},"Chande Mtm":{name:"Chande Momentum Oscillator",calculateFN:M8K.Studies.calculateChandeMomentum,inputs:{Period:9},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:50,studyOverBoughtColor:g94,studyOverSoldValue:-50,studyOverSoldColor:"auto"}}}});}};X7B=Z5K=>{var Y5K,P94;Y5K=typeof _CIQ !== "undefined"?_CIQ:Z5K.CIQ;if(!Y5K.Studies){console.error("choppiness feature requires first activating studies feature.");}else {P94="0";P94+=".";P94+="1";Y5K.Studies.calculateChoppiness=function(D5K,o5K){var E0u=o233;var i5K,u94,k5K,W5K,j94;Y5K.Studies.calculateStudyATR(D5K,o5K);function p5K(r5K,C5K){var y5K,F5K;E0u.v1T(8);var Z7s=E0u.f1T(17,18);y5K=Number.MAX_VALUE * Z7s;F5K=Number.MAX_VALUE;for(var M5K=C5K - r5K + 1;M5K <= C5K;M5K++){if(M5K < 0)continue;y5K=Math.max(y5K,i5K[M5K].High);F5K=Math.min(F5K,i5K[M5K].Low);}return [F5K,y5K];}i5K=o5K.chart.scrubbed;if(i5K.length < o5K.days + 1){o5K.error=! ![];return;}for(var t5K=Math.max(o5K.startFrom,o5K.days);t5K < i5K.length;t5K++){u94="Sum True ";u94+="Range ";k5K=i5K[t5K];if(!k5K)continue;if(k5K.futureTick)break;W5K=p5K(o5K.days,t5K);if(k5K[u94 + o5K.name]){j94="Res";j94+="ult ";E0u.v1T(70);var C7s=E0u.n1T(5,22,5,9);E0u.v1T(39);var z7s=E0u.f1T(9,16,2);k5K[j94 + o5K.name]=("100" | C7s) * Math.log(k5K["Sum True Range " + o5K.name] / Math.max(0.000001,W5K["1" * z7s] - W5K[0])) / Math.log(o5K.days);}else if(!isNaN(k5K)){k5K["Result " + o5K.name]=0;}}};Y5K.Studies.studyLibrary=Y5K.extend(Y5K.Studies.studyLibrary,{Choppiness:{name:"Choppiness Index",calculateFN:Y5K.Studies.calculateChoppiness,centerline:50,parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:61.8,studyOverBoughtColor:"auto",studyOverSoldValue:38.2,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:50,step:P94},studyOverSoldValue:{max:50,step:"0.1"}}}});}};K7B=z5K=>{var h5K,Z94,C94,f04,U04;h5K=typeof _CIQ !== "undefined"?_CIQ:z5K.CIQ;if(!h5K.Studies){Z94="com";Z94+="parisonStudies feature requires first activating studies feature.";console.error(Z94);}else if(!h5K.Studies.initPriceRelative){C94="comparisonStudies feature requi";C94+="res first activat";C94+="ing priceRelative feature.";console.error(C94);}else {f04="B";f04+="et";f04+="a";U04="Per";U04+="forma";U04+="nc";U04+="e Index";h5K.Studies.calculateCorrelationCoefficient=function(A0K,n5K){var A0u=o233;var H5K,K5K,U5K,j5K,G5K,E5K,g5K,a5K,q0K,V0K,m94,M94,X5K,z94,d94,L0K,f0K,l0K,P0K;H5K=n5K.chart.scrubbed;K5K=n5K.days;if(H5K.length < K5K + 1){n5K.error=! ![];return;}n5K.compare=n5K.inputs["Compare To"];if(!n5K.compare){n5K.compare=[];n5K.outputs={};n5K.outputMap={};for(var u0K in A0K.chart.series){U5K=A0K.chart.series[u0K];if(U5K.parameters.color){n5K.compare.push(U5K.display);n5K.outputs["Result " + U5K.display]=U5K.parameters.color;A0u.v1T(120);var M7s=A0u.n1T(205,5,1025,2659);A0u.B1T(0);var m7s=A0u.n1T(597,13);A0u.v1T(5);var d7s=A0u.f1T(27475,11,30897);A0u.B1T(1);var e7s=A0u.f1T(2188,8);A0u.v1T(121);var L7s=A0u.n1T(7,1534,410,14,1640);A0u.v1T(0);var J7s=A0u.f1T(395,3160);A0u.v1T(1);var E7s=A0u.n1T(18210,12140);n5K.outputMap["Result " + U5K.display + ((M7s,552.35) > (m7s,d7s)?e7s == (L7s,J7s)?(!{},!1):(E7s,"u"):" ") + n5K.name]="Result " + U5K.display;}}}else {n5K.compare=[n5K.compare];}if(!n5K.compare.length){n5K.error="Correlation Coefficient requires at least one comparison symbol";return;}for(var s5K=0;s5K < n5K.compare.length;s5K++){j5K=0;G5K=0;E5K=0;A0u.B1T(14);g5K=A0u.n1T(0,"0");a5K=0;q0K=n5K.compare[s5K];V0K=0;for(var N5K=n5K.startFrom - K5K;N5K < H5K.length;N5K++){m94="_";m94+="te";m94+="mps";m94+=" ";M94="_t";M94+="emp";M94+="s ";if(!H5K[N5K])continue;X5K=H5K[N5K][q0K];if(X5K && typeof X5K == "object"){X5K=X5K.Close;}if(!X5K && X5K !== 0){z94="_";z94+="te";z94+="mps ";if(N5K > 0 && H5K[N5K - 1] && H5K[N5K - 1][z94 + n5K.name] && H5K[N5K - 1]["_temps " + n5K.name].c){X5K=H5K[N5K - 1]["_temps " + n5K.name].c;}else {X5K=0;}}if(X5K && typeof X5K == "object"){X5K=X5K.Close;}H5K[N5K][M94 + n5K.name]={};j5K+=H5K[N5K][m94 + n5K.name].b=H5K[N5K].Close;G5K+=H5K[N5K]["_temps " + n5K.name].c=X5K;E5K+=H5K[N5K]["_temps " + n5K.name].b2=Math.pow(H5K[N5K].Close,2);g5K+=H5K[N5K]["_temps " + n5K.name].c2=Math.pow(X5K,2);a5K+=H5K[N5K]["_temps " + n5K.name].bc=H5K[N5K].Close * X5K;if(V0K >= K5K){d94="_t";d94+="e";d94+="m";d94+="ps ";j5K-=H5K[N5K - K5K]["_temps " + n5K.name].b;G5K-=H5K[N5K - K5K][d94 + n5K.name].c;E5K-=H5K[N5K - K5K]["_temps " + n5K.name].b2;g5K-=H5K[N5K - K5K]["_temps " + n5K.name].c2;a5K-=H5K[N5K - K5K]["_temps " + n5K.name].bc;A0u.B1T(8);var R7s=A0u.n1T(5,3);L0K=E5K / K5K - Math.pow(j5K / K5K,R7s);A0u.v1T(0);var G7s=A0u.f1T(0,2);f0K=g5K / K5K - Math.pow(G5K / K5K,G7s);A0u.B1T(122);var q7s=A0u.f1T(11,76,0,6,8);l0K=a5K / K5K - j5K * G5K / Math.pow(K5K,q7s);P0K=l0K / Math.sqrt(L0K * f0K);H5K[N5K]["Result " + q0K + " " + n5K.name]=P0K;}V0K++;}}};h5K.Studies.calculatePerformance=function(b0K,x0K){var e94,w0K,R0K,J94,L94,S0K;e94="m";e94+="a";w0K=x0K.chart.scrubbed;R0K=x0K.inputs["Comparison Symbol"].toUpperCase();o233.z9u();if(!R0K){R0K=x0K.study.inputs["Comparison Symbol"];}if(!x0K.days){x0K.days=x0K.study.inputs.Period;}if(w0K.length < x0K.days + 1){x0K.error=! !{};return;}h5K.Studies.MA(e94,x0K.days,"Close",0,"_MA Base",b0K,x0K);h5K.Studies.MA("ma",x0K.days,R0K,0,"_MA Comp",b0K,x0K);for(var Q0K=x0K.startFrom;Q0K < w0K.length;Q0K++){J94="_MA";J94+=" Comp ";L94="Re";L94+="s";L94+="ul";L94+="t ";S0K=w0K[Q0K][R0K];if(S0K && (S0K.Close || S0K.Close === 0)){S0K=S0K.Close;}w0K[Q0K][L94 + x0K.name]=w0K[Q0K].Close / S0K * (w0K[Q0K][J94 + x0K.name] / w0K[Q0K]["_MA Base " + x0K.name]);}};h5K.Studies.calculateBeta=function(I0K,B0K){var G0u=o233;var O04,o04,x04,c04,q94,E94,c0K,O0K,G94,R94,T0K,m0K;O04="_";O04+="V";O04+="A";O04+="R";o04="_";o04+="V";o04+="ARn";o04+=" ";x04="m";x04+="a";c04="_COVA";c04+="Rn ";q94="m";q94+="a";E94="Compa";E94+="rison Symbol";c0K=B0K.chart.scrubbed;O0K=B0K.inputs["Comparison Symbol"].toUpperCase();if(!O0K){O0K=B0K.study.inputs[E94];}if(!B0K.days){B0K.days=B0K.study.inputs.Period;}if(c0K.length < B0K.days + ("1" - 0)){B0K.error=! !{};return;}for(var v0K=Math.max(B0K.startFrom,1);v0K < c0K.length;v0K++){G94="_C";G94+="ompChange ";R94="_BaseChang";R94+="e";R94+=" ";G0u.B1T(112);var c8s=G0u.n1T(11,4,19,19,41);G0u.v1T(123);var x8s=G0u.f1T(18,32,13,1,0);c0K[v0K][R94 + B0K.name]=c0K[v0K].Close / c0K[v0K - c8s].Close - x8s;T0K=c0K[v0K][O0K];if(T0K && (T0K.Close || T0K.Close === 0)){T0K=T0K.Close;}G0u.v1T(1);m0K=c0K[G0u.f1T(v0K,1)][O0K];if(m0K && (m0K.Close || m0K.Close === 0)){m0K=m0K.Close;}G0u.v1T(71);c0K[v0K][G94 + B0K.name]=G0u.f1T(m0K,1,T0K);}h5K.Studies.MA("ma",B0K.days,"_BaseChange " + B0K.name,0,"_MA Base",I0K,B0K);h5K.Studies.MA(q94,B0K.days,"_CompChange " + B0K.name,0,"_MA Comp",I0K,B0K);for(v0K=Math.max(B0K.startFrom,B0K.days);v0K < c0K.length;v0K++){c0K[v0K]["_COVARn " + B0K.name]=(c0K[v0K]["_BaseChange " + B0K.name] - c0K[v0K]["_MA Base " + B0K.name]) * (c0K[v0K]["_CompChange " + B0K.name] - c0K[v0K]["_MA Comp " + B0K.name]);c0K[v0K]["_VARn " + B0K.name]=Math.pow(c0K[v0K]["_CompChange " + B0K.name] - c0K[v0K]["_MA Comp " + B0K.name],2);}h5K.Studies.MA("ma",B0K.days,c04 + B0K.name,"0" & 2147483647,"_COVAR",I0K,B0K);h5K.Studies.MA(x04,B0K.days,o04 + B0K.name,0,O04,I0K,B0K);for(v0K=Math.max(B0K.startFrom,B0K.days * 2 - 1);v0K < c0K.length;v0K++){c0K[v0K]["Result " + B0K.name]=c0K[v0K]["_COVAR " + B0K.name] / c0K[v0K]["_VAR " + B0K.name];}};h5K.Studies.studyLibrary=h5K.extend(h5K.Studies.studyLibrary,{correl:{name:"Correlation Coefficient",range:"-1 to 1",calculateFN:h5K.Studies.calculateCorrelationCoefficient,outputs:{}},"Perf Idx":{name:U04,centerline:1,initializeFN:h5K.Studies.initPriceRelative,seriesFN:h5K.Studies.displayVsComparisonSymbol,calculateFN:h5K.Studies.calculatePerformance,inputs:{Period:120,"Comparison Symbol":"SPY"},outputs:{Result:"auto",Gain:"#00DD00",Loss:"#FF0000"},deferUpdate:! !"1"},Beta:{name:f04,centerline:1,initializeFN:h5K.Studies.initPriceRelative,seriesFN:h5K.Studies.displayVsComparisonSymbol,calculateFN:h5K.Studies.calculateBeta,inputs:{Period:20,"Comparison Symbol":"SPY"},deferUpdate:! !1}});}};U7B=e0K=>{var d0K,p04;d0K=typeof _CIQ !== "undefined"?_CIQ:e0K.CIQ;if(!d0K.Studies){p04="coppock featu";p04+="re re";p04+="quires first activating studies feature.";console.error(p04);}else {d0K.Studies.calculateCoppock=function(p0K,J0K){var H0u=o233;var N04,Y0K,Z0K,k0K,i0K,t0K,W0K,D0K,I3C,S3C,X3C,H04,r04,y04,v04;N04="f";N04+="ie";N04+="ld";Y0K=J0K.chart.scrubbed;Z0K=J0K.inputs.Field;if(!Z0K || Z0K == N04){Z0K="Close";}k0K=parseInt(J0K.inputs["Long RoC"],10);if(!k0K){k0K=14;}i0K=parseInt(J0K.inputs["Short RoC"],10);H0u.Y9u();if(!i0K){i0K=11;}t0K=J0K.days;if(!t0K){t0K=10;}if(k0K < i0K){return;}if(Y0K.length < Math.max(i0K,k0K,t0K) + 1){J0K.error=! !1;return;}for(var o0K=Math.max(J0K.startFrom,k0K);o0K < Y0K.length;o0K++){H0u.v1T(1);W0K=Y0K[H0u.n1T(o0K,i0K)][Z0K];H0u.B1T(1);D0K=Y0K[H0u.n1T(o0K,k0K)][Z0K];if(W0K && D0K){Y0K[o0K]["_Sum " + J0K.name]=+"100" * (Y0K[o0K][Z0K] / W0K + Y0K[o0K][Z0K] / D0K - +"2");}}I3C=1071821573;S3C=1374512867;X3C=2;for(var F3C="1" << 808077760;H0u.A2C(F3C.toString(),F3C.toString().length,92051) !== I3C;F3C++){H04="Res";H04+="u";H04+="lt";r04="_S";r04+="u";r04+="m";r04+=" ";y04="R";y04+="esult";d0K.Studies.MA(y04,t0K,r04 / J0K.name,1,H04,p0K,J0K);X3C+=2;}if(H0u.D2C(X3C.toString(),X3C.toString().length,26837) !== S3C){v04="Res";v04+="u";v04+="lt";d0K.Studies.MA(v04,t0K,"_Sum " / J0K.name,"1" * 1,"Result",p0K,J0K);}d0K.Studies.MA("weighted",t0K,"_Sum " + J0K.name,0,"Result",p0K,J0K);};d0K.Studies.studyLibrary=d0K.extend(d0K.Studies.studyLibrary,{Coppock:{name:"Coppock Curve",calculateFN:d0K.Studies.calculateCoppock,inputs:{Period:10,Field:"field","Short RoC":11,"Long RoC":14}}});}};j7B=y0K=>{o233.Y9u();var e1C,L1C,J1C,M0K,s04,S04;e1C=202731610;L1C=400913880;J1C=2;for(var R1C=1;o233.D2C(R1C.toString(),R1C.toString().length,53066) !== e1C;R1C++){M0K=-_CIQ == ""?_CIQ:y0K.CIQ;J1C+=2;}if(o233.A2C(J1C.toString(),J1C.toString().length,84375) !== L1C){M0K=typeof _CIQ !== "undefined"?_CIQ:y0K.CIQ;}if(!M0K.Studies){s04="darvasBox feature requires first acti";s04+="vating stud";s04+="ies feature.";console.error(s04);}else {S04="#69";S04+="9158";M0K.Studies.calculateDarvas=function(A7K,H0K){var B0u=o233;var D04,k04,i04,F0K,N0K,g0K,q7K,X0K,h0K,n0K,j0K,K0K,G0K,U0K,r0K,z0K,s0K,C0K,W04,A04,w04,T04,t04,n04,K04,Y04;D04="S";D04+="p";D04+="ik";D04+="e";k04="D";k04+="ar";k04+="vas";i04="*************";i04+="*";i04+="*";i04+="**";F0K=H0K.chart.scrubbed;N0K=0;g0K=parseInt(H0K.inputs["ATH Lookback Period"],10);if(H0K.inputs["Volume Spike"]){M0K.Studies.MA("simple",g0K,"Volume",+"0","ADV",A7K,H0K);}B0u.v1T(124);var o8s=B0u.f1T(90,10,3,2,5);q7K=parseFloat(H0K.inputs["Volume % of Avg"]) / o8s;X0K="n";X0K+="o";X0K+="n";X0K+="e";h0K={};n0K=null;j0K=null;K0K=null;G0K=parseFloat(H0K.inputs["Level Offset"]);U0K=!"1";if(U0K){console.log(i04);}z0K={};[k04,"Ghost","Profit","Loss","ATH","ADV",D04].forEach(function(u7K){B0u.Y9u();z0K[u7K]=u7K + " " + H0K.name;});for(r0K=H0K.startFrom - 1;r0K > 0;r0K--){s0K=F0K[r0K];if(s0K[z0K.Darvas] || s0K[z0K.Ghost]){for(var V7K in z0K){s0K[V7K]=null;}}else {N0K=s0K[z0K.ATH] || 0;j0K=s0K[z0K.Profit];K0K=s0K[z0K.Loss];break;}}for(r0K;r0K < F0K.length;r0K++){C0K=F0K[r0K];if(!C0K)continue;if(parseFloat(H0K.inputs["Price Minimum"]) <= F0K[N0K].Close){W04="h";W04+="i";W04+="g";W04+="h";if(n0K && (!n0K.End || r0K == n0K.End + 1)){if(F0K[r0K - 1].Close > h0K.High){h0K={State:1,High:2 * h0K.High - h0K.Low,Low:h0K.High,Start:r0K,End:2 * h0K.End - h0K.Start + 1};}else {n0K=null;;}if(n0K){A04="Gh";A04+="ost";A04+=" be";A04+="gin:";C0K[z0K.Ghost]=M0K.clone(h0K);if(U0K){console.log(A04 + C0K.DT);}h0K.State=0;if(F0K[h0K.End]){w04="G";w04+="ho";w04+="st ";w04+="end:";F0K[h0K.End][z0K.Ghost]=M0K.clone(h0K);if(U0K){console.log(w04 + F0K[h0K.End].DT);}}n0K={Start:h0K.Start,End:h0K.End};j0K=h0K.High + G0K;if(!K0K || K0K < h0K.Low - G0K){K0K=h0K.Low - G0K;}}}C0K[z0K.Profit]=j0K;C0K[z0K.Loss]=K0K;if(C0K.Close >= j0K){j0K=null;}else if(H0K.inputs["Exit Field"] == "high/low" && C0K.High >= j0K){j0K=null;}if(X0K == "none"){if(r0K == N0K + ("3" ^ 0)){if(!F0K[N0K + 2][z0K.Darvas] && !F0K[N0K + 1][z0K.Darvas] && !F0K[N0K][z0K.Darvas] && F0K[N0K].High > C0K.High){X0K="high";;}}}if(X0K == W04){if(C0K.High > F0K[N0K].High){X0K="none";}else if(F0K[r0K - 3].Low < F0K[r0K - 2].Low && F0K[r0K - 3].Low < F0K[r0K - 1].Low && F0K[r0K - ("3" ^ 0)].Low < C0K.Low){h0K={State:"1" ^ 0,High:F0K[N0K].High,Low:F0K[r0K - 3].Low,Start:N0K};F0K[N0K][z0K.Darvas]=M0K.clone(h0K);X0K="darvas";if(U0K){console.log("Darvas begin:" + F0K[N0K].DT);}if(U0K){console.log("Darvas established:" + C0K.DT);}if(n0K){if(n0K.End > r0K && F0K[n0K.Start]){C0K[z0K.Ghost]=M0K.clone(F0K[n0K.Start][z0K.Ghost]);C0K[z0K.Ghost].End=r0K;if(F0K[n0K.End]){delete F0K[n0K.End][z0K.Ghost];if(U0K){console.log("Ghost End removed:" + F0K[n0K.End].DT);}}}B0u.B1T(7);C0K[z0K.Ghost].State=B0u.n1T(2147483647,"0");F0K[n0K.Start][z0K.Ghost].End=r0K;if(U0K){console.log("Ghost end:" + C0K.DT);}n0K=null;}j0K=h0K.High + G0K;if(!K0K || K0K < h0K.Low - G0K){K0K=h0K.Low - G0K;}}}if(X0K == "darvas"){T04="n";T04+="o";T04+="n";T04+="e";t04="Ghos";t04+="t Boxes";n04="non";n04+="e";K04="Exit F";K04+="ield";if(C0K.Close > h0K.High){n0K={};}else if(H0K.inputs["Exit Field"] == "high/low" && C0K.High > h0K.High){n0K={};}else if(C0K.Close < h0K.Low){X0K="none";}else if(H0K.inputs[K04] == "high/low" && C0K.Low < h0K.Low){X0K="none";}if(n0K){X0K=n04;}else if(X0K == "none"){j0K=null;K0K=null;}if(!H0K.inputs[t04]){n0K=null;}if(X0K == T04){for(var a0K=h0K.Start + +"1";a0K < r0K;a0K++){F0K[a0K][z0K.Darvas]=M0K.clone(h0K);}h0K.State=0;h0K.End=r0K;C0K[z0K.Darvas]=M0K.clone(h0K);if(U0K){console.log("Darvas end:" + C0K.DT);}C0K[z0K.ATH]=N0K;continue;}}if(K0K){if(C0K.Close < h0K.Low || H0K.inputs["Exit Field"] == "high/low" && C0K.Low < h0K.Low){if(X0K == "darvas"){X0K="none";}if(C0K.Close < K0K || H0K.inputs["Exit Field"] == "high/low" && C0K.Low < K0K){j0K=null;K0K=null;}if(n0K){if(n0K.End > r0K && F0K[n0K.Start]){C0K[z0K.Ghost]=M0K.clone(F0K[n0K.Start][z0K.Ghost]);C0K[z0K.Ghost].End=r0K;if(F0K[n0K.End]){Y04="Ghost ";Y04+="End remo";Y04+="v";Y04+="ed:";delete F0K[n0K.End][z0K.Ghost];if(U0K){console.log(Y04 + F0K[n0K.End].DT);}}}C0K[z0K.Ghost].State=0;F0K[n0K.Start][z0K.Ghost].End=r0K;if(U0K){console.log("Ghost end:" + C0K.DT);}n0K=null;}}}}if(C0K.High >= F0K[N0K].High){N0K=r0K;if(U0K){console.log("All Time High:" + C0K.DT);}}if(r0K < 3 || C0K.High >= F0K[r0K - 1].High && C0K.High >= F0K[r0K - 2].High && C0K.High >= F0K[r0K - 3].High){if(r0K - N0K >= g0K){N0K=r0K;for(var E0K=0;E0K < g0K;E0K++){if(r0K - E0K < 0)break;if(F0K[r0K - E0K].High > F0K[N0K].High){B0u.v1T(1);N0K=B0u.f1T(r0K,E0K);}}if(U0K){console.log("All Time High:" + C0K.DT);}}}if(H0K.inputs["Volume Spike"] && r0K > g0K && r0K == N0K){if(C0K[z0K.ADV] * q7K < C0K.Volume){C0K[z0K.Spike]=1;if(U0K){console.log("Volume Spike:" + C0K.DT);}}}C0K[z0K.ATH]=N0K;}};M0K.Studies.displayDarvas=function(f7K,x7K,Q7K){var w0u=o233;var e7K,B7K,m7K,w7K,L7K,l7K,P7K,i7K,v7K,S7K,V04,o7K,t7K,p7K,W7K,R7K,b7K,c7K,J7K,T7K,d7K,O7K,Z7K,I7K,Y7K,M7K,k7K,a04,y7K,B04,Q04,S0C,X0C,l0C,I04,D7K;e7K=M0K.Studies.determineColor(x7K.outputs.Levels);if(!e7K || e7K == "auto" || M0K.isTransparent(e7K)){e7K=f7K.defaultColor;}B7K=M0K.Studies.determineColor(x7K.outputs.Darvas);if(!B7K || B7K == "auto" || M0K.isTransparent(B7K)){B7K=f7K.defaultColor;}m7K=M0K.Studies.determineColor(x7K.outputs.Ghost);if(!m7K || m7K == "auto" || M0K.isTransparent(m7K)){m7K=f7K.defaultColor;}w7K=f7K.panels[x7K.panel];L7K=x7K.getContext(f7K);w0u.B1T(125);var O8s=w0u.n1T(6,1,3,7);S7K=f7K.layout.candleWidth - O8s;if(S7K < 2){S7K=1;}f7K.startClip(x7K.panel);if(x7K.inputs["Stop Levels"]){if(L7K.setLineDash){L7K.setLineDash([+"2",2]);}L7K.lineWidth=2;L7K.strokeStyle=e7K;L7K.beginPath();for(l7K=0;l7K < Q7K.length;l7K++){V04="L";V04+="oss ";P7K=Q7K[l7K];w0u.v1T(1);o7K=Q7K[w0u.n1T(l7K,1)];if(!P7K)continue;v7K=P7K["Loss " + x7K.name]?Math.floor(f7K.pixelFromPrice(P7K["Loss " + x7K.name],w7K)):null;t7K=o7K && o7K[V04 + x7K.name]?Math.floor(f7K.pixelFromPrice(o7K["Loss " + x7K.name],w7K)):null;if(v7K){if(P7K.candleWidth){S7K=Math.floor(Math.max("1" << 1069834208,P7K.candleWidth));}p7K=Math.floor(f7K.pixelFromBar(l7K,w7K.chart) + S7K / 2);W7K=Math.floor(f7K.pixelFromBar(l7K,w7K.chart) - S7K / 2);if(t7K && t7K >= v7K){L7K.lineTo(W7K,v7K);}else if(l7K === 0){L7K.moveTo(f7K.chart.left,v7K);}else {L7K.moveTo(W7K,v7K);}L7K.lineTo(p7K,v7K);}}L7K.stroke();if(L7K.setLineDash){L7K.setLineDash([]);}L7K.lineWidth=1;}R7K=-10;c7K=0;T7K=-10;O7K=0;I7K=!"1";Y7K=!"1";w0u.B1T(8);var U8s=w0u.f1T(16,14);M7K=L7K.measureText("\u25B2").width / U8s;k7K=0;for(l7K=0;l7K < Q7K.length;l7K++){a04="Dar";a04+="v";a04+="as ";if(!Q7K[l7K])continue;if(Q7K[l7K].Close || Q7K[l7K].Close === 0){k7K=l7K;}if(Q7K[l7K]["Spike " + x7K.name]){L7K.fillStyle=B7K;L7K.textBaseline="bottom";y7K=f7K.pixelFromPrice(Q7K[l7K].High,f7K.chart.panel);L7K.fillText("\u25BC",f7K.pixelFromBar(l7K) - M7K,y7K - 5);;}if(Q7K[l7K].candleWidth){S7K=Math.floor(Math.max(1,Q7K[l7K].candleWidth));}if(Q7K[l7K][a04 + x7K.name]){B04="Darv";B04+="a";B04+="s ";P7K=Q7K[l7K][B04 + x7K.name];if(P7K.State == 1 && !I7K){R7K=Math.floor(f7K.pixelFromBar(l7K,w7K.chart) - S7K / +"2");b7K=Math.floor(f7K.pixelFromPrice(P7K.High,w7K));J7K=Math.floor(f7K.pixelFromPrice(P7K.Low,w7K)) - b7K;I7K=!"";}else if(P7K.State === 0){w0u.B1T(126);var f8s=w0u.n1T(20,18,17,19,13);c7K=Math.floor(f7K.pixelFromBar(l7K,w7K.chart) + S7K / f8s) - R7K;b7K=Math.floor(f7K.pixelFromPrice(P7K.High,w7K));J7K=Math.floor(f7K.pixelFromPrice(P7K.Low,w7K)) - b7K;L7K.strokeStyle=B7K;L7K.fillStyle=B7K;if(!x7K.inputs["Stop Levels"]){L7K.strokeRect(R7K,b7K,c7K,J7K);L7K.globalAlpha=0.2;}else {L7K.globalAlpha=0.3;}L7K.fillRect(R7K,b7K,c7K,J7K);L7K.globalAlpha=1;I7K=![];}}if(Q7K[l7K]["Ghost " + x7K.name] && x7K.inputs["Ghost Boxes"]){Q04="Gho";Q04+="st";Q04+=" ";P7K=Q7K[l7K][Q04 + x7K.name];if(P7K.State == 1 && !Y7K){T7K=Math.floor(f7K.pixelFromBar(l7K,w7K.chart) - S7K / 2);d7K=Math.floor(f7K.pixelFromPrice(P7K.High,w7K));O7K=Math.floor((P7K.End - P7K.Start + 1) * f7K.layout.candleWidth + S7K / 2);Z7K=Math.floor(f7K.pixelFromPrice(P7K.Low,w7K)) - d7K;Y7K=! !1;}else if(P7K.State === 0){if(P7K.Start == P7K.End){T7K=Math.floor(f7K.pixelFromBar(l7K,w7K.chart) - S7K / 2);}w0u.v1T(127);var p8s=w0u.n1T(16,2,6,4,6);O7K=Math.floor(f7K.pixelFromBar(l7K,w7K.chart) + S7K / p8s) - T7K;d7K=Math.floor(f7K.pixelFromPrice(P7K.High,w7K));Z7K=Math.floor(f7K.pixelFromPrice(P7K.Low,w7K)) - d7K;L7K.strokeStyle=m7K;L7K.fillStyle=m7K;if(!x7K.inputs["Stop Levels"]){L7K.strokeRect(T7K,d7K,O7K,Z7K);L7K.globalAlpha=0.2;}else {L7K.globalAlpha=0.3;}L7K.fillRect(T7K,d7K,O7K,Z7K);L7K.globalAlpha=1;Y7K=!{};}}}if(I7K){w0u.v1T(1);var N8s=w0u.f1T(6,5);c7K=Math.floor(f7K.pixelFromBar(k7K,w7K.chart) + S7K / ("2" * N8s)) - R7K;L7K.strokeStyle=B7K;L7K.fillStyle=B7K;if(!x7K.inputs["Stop Levels"]){L7K.beginPath();w0u.B1T(86);L7K.moveTo(w0u.n1T(2,R7K,c7K),b7K);L7K.lineTo(R7K,b7K);w0u.v1T(0);L7K.lineTo(R7K,w0u.n1T(b7K,J7K));w0u.B1T(86);L7K.lineTo(w0u.n1T(2,R7K,c7K),w0u.n1T(b7K,J7K,w0u.v1T(0)));L7K.stroke();L7K.globalAlpha=0.2;}else {L7K.globalAlpha=0.3;}w0u.v1T(23);L7K.fillRect(R7K,b7K,w0u.n1T(c7K,2),J7K);L7K.globalAlpha=1;}if(Y7K){L7K.strokeStyle=m7K;L7K.fillStyle=m7K;if(!x7K.inputs["Stop Levels"]){L7K.strokeRect(T7K,d7K,O7K,Z7K);w0u.B1T(1);L7K.globalAlpha=w0u.n1T("0.2",0);}else {L7K.globalAlpha=0.3;}S0C=1721540378;X0C=+"1795605907";l0C=+"2";for(var h0C=1;w0u.A2C(h0C.toString(),h0C.toString().length,20764) !== S0C;h0C++){L7K.fillRect(T7K,d7K,O7K,Z7K);l0C+=+"2";}if(w0u.D2C(l0C.toString(),l0C.toString().length,+"95217") !== X0C){L7K.fillRect(T7K,d7K,O7K,Z7K);}L7K.globalAlpha=1;}if(I7K || Y7K){I04="Stop ";I04+="Levels";if(x7K.inputs[I04]){if(L7K.setLineDash){L7K.setLineDash([2,2]);}L7K.lineWidth=2;L7K.strokeStyle=e7K;D7K=Math.floor(f7K.pixelFromBar(k7K - 1,w7K.chart) + S7K / +"2");if(i7K){L7K.beginPath();L7K.moveTo(D7K,i7K);L7K.lineTo(I7K?R7K + ("2" >> 419220768) * c7K:T7K + O7K,i7K);L7K.stroke();}if(v7K){L7K.beginPath();L7K.moveTo(D7K,v7K);L7K.lineTo(I7K?R7K + 2 * c7K:T7K + O7K,v7K);L7K.stroke();}if(L7K.setLineDash){L7K.setLineDash([]);}L7K.lineWidth=1;}I7K=![];Y7K=!1;}f7K.endClip();};M0K.Studies.studyLibrary=M0K.extend(M0K.Studies.studyLibrary,{Darvas:{name:"Darvas Box",underlay:! ![],calculateFN:M0K.Studies.calculateDarvas,seriesFN:M0K.Studies.displayDarvas,inputs:{"ATH Lookback Period":100,"Exit Field":["close","high/low"],"Ghost Boxes":!0,"Stop Levels":!{},"Level Offset":0.01,"Price Minimum":5,"Volume Spike":![],"Volume % of Avg":+"400"},outputs:{Darvas:"#5F7CB8",Ghost:S04,Levels:"auto"},customRemoval:! !{},attributes:{"Price Minimum":{min:0.01,step:0.01},yaxisDisplayValue:{hidden:! !1},panelName:{hidden:! ![]},flippedEnabled:{hidden:! ![]}}}});}};G7B=C7K=>{var q9u=o233;var F7K,C1C,z1C,M1C,h04;q9u.Y9u();F7K=typeof _CIQ !== "undefined"?_CIQ:C7K.CIQ;if(!F7K.Studies){C1C=-1079584711;z1C=-704035136;q9u.B1T(13);M1C=q9u.n1T("2",1338136512);for(var d1C=1;q9u.D2C(d1C.toString(),d1C.toString().length,34304) !== C1C;d1C++){console.error("detrended feature requires first activating studies feature.");M1C+=2;}if(q9u.D2C(M1C.toString(),M1C.toString().length,+"19257") !== z1C){console.error("");}}else {h04="m";h04+="a";F7K.Studies.calculateDetrendedPrice=function(K7K,r7K){var l04,X04,n7K,N7K,H7K,F04,h7K,X7K;l04="M";l04+="A";X04="Moving Av";X04+="erage ";X04+="Type";n7K=r7K.chart.scrubbed;if(n7K.length < r7K.days + 1){r7K.error=!0;return;}N7K=r7K.inputs.Field;q9u.z9u();if(!N7K || N7K == "field"){N7K="Close";}H7K=Math.floor(r7K.days / 2 + +"1");F7K.Studies.MA(r7K.inputs[X04],r7K.days,N7K,-H7K,l04,K7K,r7K);for(var z7K=Math.max(r7K.days - H7K - 1,r7K.startFrom - H7K);z7K < n7K.length - H7K;z7K++){F04="M";F04+="A";F04+=" ";if(z7K < 0)continue;h7K=n7K[z7K][N7K];if(h7K && typeof h7K == "object"){h7K=h7K[r7K.subField];}X7K=n7K[z7K][F04 + r7K.name];if((h7K || h7K === 0) && (X7K || X7K === +"0")){q9u.v1T(1);n7K[z7K]["Result " + r7K.name]=q9u.f1T(h7K,X7K);}}};F7K.Studies.studyLibrary=F7K.extend(F7K.Studies.studyLibrary,{Detrended:{name:"Detrended Price Oscillator",calculateFN:F7K.Studies.calculateDetrendedPrice,inputs:{Period:14,Field:"field","Moving Average Type":h04}}});}};s7B=j7K=>{var U7K,u04,g04;o233.Y9u();U7K=typeof _CIQ !== "undefined"?_CIQ:j7K.CIQ;if(!U7K.Studies){console.error("disparity feature requires first activating studies feature.");}else {u04="m";u04+="a";g04="f";g04+="i";g04+="el";g04+="d";U7K.Studies.calculateDisparity=function(q9l,G7K){var J0u=o233;var b04,s7K,g7K,a7K;b04="_";b04+="MA";s7K=G7K.chart.scrubbed;if(s7K.length < G7K.days + 1){G7K.error=! !{};return;}g7K=G7K.inputs.Field;if(!g7K || g7K == "field"){g7K="Close";}J0u.Y9u();U7K.Studies.MA(G7K.inputs["Moving Average Type"],G7K.days,g7K,0,b04,q9l,G7K);for(var E7K=Math.max(G7K.startFrom,G7K.days - 1);E7K < s7K.length;E7K++){if(!s7K[E7K])continue;a7K=s7K[E7K]["_MA " + G7K.name];if(a7K){J0u.B1T(6);var y8s=J0u.n1T(3,3,1600,1700);J0u.B1T(2);var r8s=J0u.f1T(13,8,6);s7K[E7K]["Result " + G7K.name]=y8s * (s7K[E7K][g7K] / a7K - r8s);}}};U7K.Studies.studyLibrary=U7K.extend(U7K.Studies.studyLibrary,{Disparity:{name:"Disparity Index",calculateFN:U7K.Studies.calculateDisparity,inputs:{Period:14,Field:g04,"Moving Average Type":u04}}});}};E7B=A9l=>{var V9l;V9l=typeof _CIQ !== "undefined"?_CIQ:A9l.CIQ;if(!V9l.Studies){console.error("easeOfMovement feature requires first activating studies feature.");}else {V9l.Studies.calculateEaseOfMovement=function(S9l,f9l){var O0u=o233;var u9l,j04,P9l,x9l,w9l,Q9l,l9l;u9l=f9l.chart.scrubbed;if(u9l.length < f9l.days){f9l.error=! !{};return;}for(var L9l=Math.max(1,f9l.startFrom);L9l < u9l.length;L9l++){j04="_";j04+="E";j04+="OM";j04+="1 ";O0u.B1T(8);var H8s=O0u.f1T(20,18);P9l=(u9l[L9l].High + u9l[L9l].Low) / H8s;O0u.v1T(128);var v8s=O0u.f1T(11,2,8,16);O0u.v1T(5);var s8s=O0u.f1T(12,8,5);O0u.v1T(2);var i8s=O0u.n1T(3,1,4);x9l=(u9l[L9l - v8s].High + u9l[L9l - s8s].Low) / i8s;O0u.B1T(1);w9l=O0u.f1T(P9l,x9l);Q9l=u9l[L9l].Volume / ("100000000" & 2147483647) / (u9l[L9l].High - u9l[L9l].Low);O0u.B1T(9);l9l=O0u.f1T(Q9l,w9l);if(!isFinite(l9l)){u9l[L9l][j04 + f9l.name]=NaN;}else {u9l[L9l]["_EOM1 " + f9l.name]=l9l;}}O0u.z9u();V9l.Studies.MA(f9l.inputs["Moving Average Type"],f9l.days,"_EOM1 " + f9l.name,0,"Result",S9l,f9l);};V9l.Studies.studyLibrary=V9l.extend(V9l.Studies.studyLibrary,{EOM:{name:"Ease of Movement",calculateFN:V9l.Studies.calculateEaseOfMovement,inputs:{Period:14,"Moving Average Type":"ma"}}});}};g7B=b9l=>{var P04,R9l,Z04;P04="u";P04+="ndefined";o233.Y9u();R9l=typeof _CIQ !== P04?_CIQ:b9l.CIQ;if(!R9l.Studies){Z04="ehlerFisher fea";Z04+="tur";Z04+="e requires first activating";Z04+=" studies feature.";console.error(Z04);}else {R9l.Studies.calculateEhlerFisher=function(e9l,B9l){var l0u=o233;var c9l,v9l,M04,z04,m9l,C04,O9l,I9l;c9l=B9l.chart.scrubbed;function d9l(i9l,k9l){var Y9l,Z9l,o9l;l0u.Y9u();Y9l=Number.MAX_VALUE;l0u.v1T(8);var k8s=l0u.n1T(5,6);Z9l=Number.MAX_VALUE * k8s;for(var J9l=k9l - i9l + 1;J9l <= k9l;J9l++){l0u.v1T(8);var D8s=l0u.n1T(18,16);o9l=(c9l[J9l].High + c9l[J9l].Low) / D8s;Y9l=Math.min(Y9l,o9l);Z9l=Math.max(Z9l,o9l);}return [Y9l,Z9l];}if(c9l.length < B9l.days + 1){B9l.error=! !"1";return;}v9l=0;if(B9l.startFrom > 1){l0u.B1T(27);var A8s=l0u.n1T(20,281,14);v9l=c9l[B9l.startFrom - A8s]["_n " + B9l.name];}l0u.Y9u();for(var T9l=B9l.startFrom;T9l < c9l.length;T9l++){M04="_";M04+="n ";z04="EF";z04+=" ";m9l=c9l[T9l];if(m9l.futureTick)break;if(T9l < B9l.days - +"1"){C04="E";C04+="F Trigge";C04+="r ";m9l["EF " + B9l.name]=m9l[C04 + B9l.name]=v9l;continue;}O9l=d9l(B9l.days,T9l);l0u.B1T(129);var w8s=l0u.n1T(20,4,14);l0u.B1T(8);var W8s=l0u.f1T(17,15);l0u.v1T(8);var K8s=l0u.n1T(5,4);v9l=0.33 * w8s * (((c9l[T9l].High + c9l[T9l].Low) / W8s - O9l[0]) / Math.max(0.000001,O9l[K8s] - O9l[0]) - 0.5) + 0.67 * v9l;if(v9l > 0){v9l=Math.min(v9l,0.9999);}else if(v9l < ("0" & 2147483647)){v9l=Math.max(v9l,-0.9999);}I9l=T9l?c9l[T9l - 1]["EF " + B9l.name]:0;l0u.B1T(5);var n8s=l0u.f1T(23,3,21);l0u.B1T(1);var t8s=l0u.f1T(6,5);m9l[z04 + B9l.name]=0.5 * Math.log((n8s + v9l) / (t8s - v9l)) + 0.5 * I9l;m9l["EF Trigger " + B9l.name]=I9l;m9l[M04 + B9l.name]=v9l;}};R9l.Studies.studyLibrary=R9l.extend(R9l.Studies.studyLibrary,{"Ehler Fisher":{name:"Ehler Fisher Transform",calculateFN:R9l.Studies.calculateEhlerFisher,inputs:{Period:"10" << 980685536},outputs:{EF:"auto","EF Trigger":"#FF0000"}}});}};a7B=W9l=>{var t9l,m04,t9C,T9C,Y9C,p74,f74;t9l=typeof _CIQ !== "undefined"?_CIQ:W9l.CIQ;o233.z9u();if(!t9l.Studies){m04="elder feature requires";m04+=" first activatin";m04+="g studies feature.";t9C=1376298601;T9C=-1532510776;Y9C=2;for(var a9C=1;o233.A2C(a9C.toString(),a9C.toString().length,15574) !== t9C;a9C++){console.error("");Y9C+=2;}if(o233.A2C(Y9C.toString(),Y9C.toString().length,23067) !== T9C){console.error("");}console.error(m04);}else {p74="#8BC";p74+="176";f74="#00DD";f74+="00";t9l.Studies.calculateElderImpulse=function(C9l,D9l){var M9l,r9l,h9l,F9l,y9l,L04,e04,d04;M9l=D9l.chart.scrubbed;r9l=D9l.outputs.Bullish;h9l=D9l.outputs.Bearish;F9l=D9l.outputs.Neutral;t9l.Studies.MA("exponential",+"13","Close",0,"_MA",C9l,D9l);D9l.macd=new t9l.Studies.StudyDescriptor("_" + D9l.name,"macd",D9l.panel);D9l.macd.chart=D9l.chart;D9l.macd.days=D9l.days;D9l.macd.startFrom=D9l.startFrom;D9l.macd.inputs={"Fast MA Period":12,"Slow MA Period":26,"Signal Period":9};D9l.macd.outputs={_MACD:null,_Signal:null};t9l.Studies.calculateMACD(C9l,D9l.macd);for(var p9l=D9l.startFrom;p9l < M9l.length;p9l++){L04="_";L04+="hi";L04+="st";e04="_";e04+="MA";e04+=" ";d04="_";d04+="M";d04+="A";d04+=" ";if(p9l === 0){y9l=F9l;}else if(M9l[p9l]["_MA " + D9l.name] > M9l[p9l - 1][d04 + D9l.name] && M9l[p9l][((434,527.5) > 2470?(916.10,0x1883):"_") + D9l.name + "_hist"] > M9l[p9l - 1]["_" + D9l.name + "_hist"]){y9l=r9l;}else if(M9l[p9l][e04 + D9l.name] < M9l[p9l - 1]["_MA " + D9l.name] && M9l[p9l]["_" + D9l.name + "_hist"] < M9l[p9l - +"1"]["_" + D9l.name + L04]){y9l=h9l;}else {y9l=F9l;}M9l[p9l]["Result " + D9l.name]=y9l;;}};t9l.Studies.calculateElderRay=function(H9l,z9l){var E04,J04,n9l;E04="_";E04+="his";E04+="t";E04+="2";J04="C";J04+="l";J04+="ose";n9l=z9l.chart.scrubbed;if(n9l.length < z9l.days){z9l.error=! ![];return;}t9l.Studies.MA("exponential",z9l.days,J04,0,"_EMA",H9l,z9l);for(var N9l=Math.max(z9l.startFrom,z9l.days - ("1" << 509063072));N9l < n9l.length;N9l++){n9l[N9l][z9l.name + "_hist1"]=n9l[N9l].High - n9l[N9l]["_EMA " + z9l.name];n9l[N9l][z9l.name + "_hist2"]=n9l[N9l].Low - n9l[N9l]["_EMA " + z9l.name];}z9l.outputMap={};z9l.outputMap[z9l.name + "_hist1"]="";z9l.outputMap[z9l.name + E04]="";};t9l.Studies.calculateElderForce=function(j9l,X9l){var R04,K9l;o233.z9u();R04="Resul";R04+="t";K9l=X9l.chart.scrubbed;if(K9l.length < X9l.days){X9l.error=! !"1";return;}for(var U9l=Math.max(1,X9l.startFrom);U9l < K9l.length;U9l++){o233.B1T(17);var T8s=o233.f1T(11,2,19,14);K9l[U9l]["_EF1 " + X9l.name]=K9l[U9l].Volume * (K9l[U9l].Close - K9l[U9l - T8s].Close);}t9l.Studies.MA("exponential",X9l.days,"_EF1 " + X9l.name,0,R04,j9l,X9l);};t9l.Studies.initElderImpulse=function(s9l,g9l,a9l,q2l,E9l,V2l){var G9l;G9l=t9l.Studies.initializeFN(s9l,g9l,a9l,q2l,E9l,V2l);if(E9l.calculateOnly){return G9l;}s9l.chart.customChart={chartType:"colored_bar",colorFunction:function(L2l,u2l,f2l){var G04,A2l;G04="R";G04+="esu";G04+="lt ";A2l=u2l[G04 + G9l.name];if(A2l && typeof A2l == "object"){A2l=A2l.color;}return A2l;}};o233.z9u();s9l.setMainSeriesRenderer();return G9l;};t9l.Studies.displayElderForce=function(P2l,l2l,R2l){var q04,w2l,Q2l,S2l,x2l;q04="Resu";q04+="lt";q04+=" ";t9l.Studies.displaySeriesAsLine(P2l,l2l,R2l);w2l=t9l.Studies.determineColor(l2l.outputs.Result);Q2l=P2l.panels[l2l.panel];S2l=l2l.getYAxis(P2l);x2l={skipTransform:Q2l.name != l2l.chart.name,panelName:l2l.panel,band:q04 + l2l.name,threshold:0,color:w2l,yAxis:S2l};if(!l2l.highlight && P2l.highlightedDraggable){x2l.opacity=0.3;}x2l.direction=1;t9l.preparePeakValleyFill(P2l,x2l);x2l.direction=-1;t9l.preparePeakValleyFill(P2l,x2l);};t9l.Studies.displayElderRay=function(B2l,b2l,J2l){var n0u=o233;var O2l,T2l,d2l,e2l,m2l,Y2l,U74,O74,o74,x74,c74,v2l;O2l=B2l.panels[b2l.panel];T2l=b2l.getContext(B2l);d2l=b2l.getYAxis(B2l);n0u.B1T(40);e2l=B2l.pixelFromPrice(n0u.f1T(950056224,"0"),O2l,d2l);n0u.v1T(130);var Y8s=n0u.n1T(4,8,2,1,2);m2l=B2l.layout.candleWidth - Y8s;if(m2l < 2){m2l=1;}B2l.canvasColor("stx_histogram");Y2l=T2l.fillStyle;function I2l(o2l,Z2l,k2l,i2l){T2l.fillStyle=t9l.Studies.determineColor(b2l.outputs[k2l]);T2l.fillRect(Math.floor(B2l.pixelFromBar(o2l,O2l.chart) - m2l / 2 + m2l * Z2l),Math.floor(e2l),Math.floor(m2l * (1 - 2 * Z2l)),Math.floor(B2l.pixelFromPrice(v2l[b2l.name + i2l],O2l,d2l) - e2l));}if(!b2l.underlay){T2l.globalAlpha=1;}B2l.startClip(b2l.panel);if(!b2l.highlight && B2l.highlightedDraggable){T2l.globalAlpha*=0.3;}for(var c2l=0;c2l < J2l.length;c2l++){U74="Elder Bear Pow";U74+="er";O74="_";O74+="hi";O74+="st2";o74="_";o74+="hist1";x74="El";x74+="der ";x74+="Bear";x74+=" Power";c74="_hi";c74+="s";c74+="t";c74+="1";v2l=J2l[c2l];if(!v2l)continue;if(v2l.candleWidth){m2l=Math.floor(Math.max(1,v2l.candleWidth - ("2" | 0)));}if(v2l[b2l.name + c74] > 0){I2l(c2l,0,"Elder Bull Power","_hist1");}if(v2l[b2l.name + "_hist2"] < 0){I2l(c2l,0,x74,"_hist2");}if(v2l[b2l.name + "_hist1"] < 0){I2l(c2l,0.1,"Elder Bull Power",o74);}if(v2l[b2l.name + O74] > 0){I2l(c2l,0.1,U74,"_hist2");}}B2l.endClip();T2l.fillStyle=Y2l;};t9l.Studies.studyLibrary=t9l.extend(t9l.Studies.studyLibrary,{"Elder Force":{name:"Elder Force Index",calculateFN:t9l.Studies.calculateElderForce,seriesFN:t9l.Studies.displayElderForce,inputs:{Period:+"13"}},"Elder Ray":{name:"Elder Ray Index",seriesFN:t9l.Studies.displayElderRay,calculateFN:t9l.Studies.calculateElderRay,centerline:0,inputs:{Period:13},outputs:{"Elder Bull Power":f74,"Elder Bear Power":"#FF0000"}},"Elder Impulse":{name:"Elder Impulse System",calculateFN:t9l.Studies.calculateElderImpulse,initializeFN:t9l.Studies.initElderImpulse,seriesFN:null,customRemoval:! ![],underlay:! !{},inputs:{},outputs:{Bullish:p74,Bearish:"#DD3E39",Neutral:"#5F7CB8"},removeFN:function(t2l,W2l){t2l.chart.customChart=null;t2l.setMainSeriesRenderer();}}});}};q9E=p2l=>{var D2l,N74,r74;D2l=typeof _CIQ !== "undefined"?_CIQ:p2l.CIQ;if(!D2l.Studies){N74="fract";N74+="alChaos feature requires first activating studies feature.";console.error(N74);}else {r74="Frac";r74+="tal Chaos Oscillator";D2l.Studies.calculateFractalChaos=function(H2l,C2l){var s0u=o233;var y2l,h2l,z2l,r2l,y74,n2l,N2l,F2l;y2l=C2l.chart.scrubbed;s0u.v1T(7);h2l=s0u.n1T(2147483647,"0");z2l=0;s0u.z9u();r2l=0;if(C2l.startFrom && C2l.type == "Fractal Chaos Bands"){s0u.v1T(113);var V8s=s0u.f1T(17,12,1631,8);h2l=y2l[C2l.startFrom - V8s]["Fractal High " + C2l.name];z2l=y2l[C2l.startFrom - ("1" & 2147483647)]["Fractal Low " + C2l.name];}for(var M2l=Math.max(4,C2l.startFrom);M2l < y2l.length;M2l++){y74="Fracta";y74+="l";y74+=" Chaos Bands";if(y2l[M2l].futureTick)break;n2l=!isNaN(y2l[M2l].High);N2l=!isNaN(y2l[M2l].Low);if(n2l || N2l){y2l[M2l]["Result " + C2l.name]=0;}s0u.v1T(23);r2l=s0u.f1T(1,"0");for(F2l=0;F2l <= M2l;F2l++){if(!y2l[M2l - F2l])break;if(y2l[M2l - F2l].High > y2l[M2l - 2].High)break;if(F2l < 2 && y2l[M2l - F2l].High == y2l[M2l - 2].High)break;if(y2l[M2l - F2l].High < y2l[M2l - 2].High){r2l++;}if(r2l == 4){h2l=y2l[M2l - 2].High;break;}}if(C2l.type == y74){if(n2l){y2l[M2l]["Fractal High " + C2l.name]=h2l > 0?h2l:null;}}else if(r2l == 4){y2l[M2l]["Result " + C2l.name]=1;}r2l=0;for(F2l=0;F2l <= M2l;F2l++){if(!y2l[M2l - F2l])break;if(y2l[M2l - F2l].Low < y2l[M2l - 2].Low)break;if(F2l < 2 && y2l[M2l - F2l].Low == y2l[M2l - 2].Low)break;if(y2l[M2l - F2l].Low > y2l[M2l - 2].Low){r2l++;}if(r2l == 4){z2l=y2l[M2l - 2].Low;break;}}if(C2l.type == "Fractal Chaos Bands"){if(N2l){y2l[M2l]["Fractal Low " + C2l.name]=z2l > 0?z2l:null;}}else if(r2l == 4){y2l[M2l]["Result " + C2l.name]=-1;}}};D2l.Studies.studyLibrary=D2l.extend(D2l.Studies.studyLibrary,{"Fractal Chaos":{name:r74,range:"-1 to 1",calculateFN:D2l.Studies.calculateFractalChaos,inputs:{},centerline:null},"Fractal Chaos Bands":{name:"Fractal Chaos Bands",overlay:! !{},calculateFN:D2l.Studies.calculateFractalChaos,seriesFN:D2l.Studies.displayChannel,inputs:{"Channel Fill":! ![]},outputs:{"Fractal High":"auto","Fractal Low":"auto","Fractal Channel":"auto"}}});}};V9E=K2l=>{var X2l,H74,t74,n74,K74,W74,w74;X2l=typeof _CIQ !== "undefined"?_CIQ:K2l.CIQ;if(!X2l.Studies){H74="highLowStudies ";H74+="f";H74+="eature requires first activating studies feature.";console.error(H74);}else {t74="Hi";t74+="gh Min";t74+="us L";t74+="ow";n74="Lowest";n74+=" ";n74+="Low Value";K74="D";K74+="onc";K74+="hian Wi";K74+="dth";W74="au";W74+="to";w74="au";w74+="to";X2l.Studies.calculateMaxHighMinLow=function(A1l,U2l){var b0u=o233;var s74,v74,j2l,V1l,q1l,y3C,r3C,H3C,g2l,E2l,s2l,k74,i74,a2l,D74;s74="Lo";s74+="w P";s74+="eriod";v74="High";v74+=" ";v74+="Pe";v74+="riod";j2l=U2l.chart.scrubbed;V1l=U2l.days;q1l=U2l.days;if(U2l.inputs["High Period"]){V1l=U2l.inputs[v74];}if(U2l.inputs["Low Period"]){q1l=U2l.inputs[s74];}if(j2l.length < Math.max(V1l,q1l) + 1){U2l.error=! !1;y3C=-741989326;r3C=-1635257636;H3C=2;for(var s3C=1;b0u.D2C(s3C.toString(),s3C.toString().length,57995) !== y3C;s3C++){return;}if(b0u.A2C(H3C.toString(),H3C.toString().length,73033) !== r3C){return;}}g2l=Number.MAX_VALUE;b0u.v1T(129);var a8s=b0u.n1T(10,1,10);E2l=Number.MAX_VALUE * a8s;if(U2l.startFrom > 1){for(s2l=1;s2l < V1l;s2l++){if(U2l.startFrom - s2l >= 0){E2l=Math.max(E2l,j2l[U2l.startFrom - s2l].High);}}for(s2l="1" * 1;s2l < q1l;s2l++){if(U2l.startFrom - s2l >= 0){g2l=Math.min(g2l,j2l[U2l.startFrom - s2l].Low);}}}for(var G2l=Math.max(0,U2l.startFrom - 1);G2l < j2l.length;G2l++){k74="VT ";k74+="HZ Filter";i74="H";i74+="H";i74+="V";E2l=Math.max(E2l,j2l[G2l].High);g2l=Math.min(g2l,j2l[G2l].Low);if(G2l >= V1l){if(j2l[G2l - V1l].High == E2l){E2l=j2l[G2l].High;for(s2l=1;s2l < V1l;s2l++){E2l=Math.max(E2l,j2l[G2l - s2l].High);}}}if(G2l >= q1l){if(j2l[G2l - q1l].Low == g2l){g2l=j2l[G2l].Low;for(s2l=1;s2l < q1l;s2l++){g2l=Math.min(g2l,j2l[G2l - s2l].Low);}}}a2l=0;if(U2l.type == i74){a2l=E2l;}else if(U2l.type == "LLV"){a2l=g2l;}else if(U2l.type == "Donchian Width"){b0u.B1T(1);a2l=b0u.f1T(E2l,g2l);}else if(U2l.type == "GAPO" || U2l.type == "Gopala"){a2l=Math.log(E2l - g2l) / Math.log(q1l);}else if(U2l.type == k74){b0u.B1T(1);a2l=b0u.f1T(E2l,g2l);j2l[G2l]["_MHML " + U2l.name]=a2l;continue;}else if(U2l.type == "Williams %R"){D74="Resu";D74+="lt ";b0u.B1T(8);var B8s=b0u.f1T(800,900);a2l=B8s * (E2l - j2l[G2l].Close) / (E2l - g2l);j2l[G2l][D74 + U2l.name]=a2l;continue;}if(G2l == j2l.length - 1)break;if(!j2l[G2l + 1].futureTick){if(U2l.type == "Donchian Channel"){b0u.v1T(131);j2l[b0u.n1T(G2l,707862592,"1")]["Donchian High " + U2l.name]=E2l;b0u.v1T(0);j2l[b0u.f1T(G2l,1)]["Donchian Low " + U2l.name]=g2l;b0u.v1T(0);j2l[b0u.f1T(G2l,1)]["Donchian Median " + U2l.name]=b0u.n1T(E2l,g2l,2,b0u.B1T(4));}else {b0u.B1T(0);j2l[b0u.n1T(G2l,1)]["Result " + U2l.name]=a2l;}}}};X2l.Studies.calculateVerticalHorizontalFilter=function(w1l,u1l){var L1l,l1l,P1l,x1l,A74;L1l=u1l.chart.scrubbed;if(L1l.length < u1l.days + 1){u1l.error=!0;return;}u1l.mhml=new X2l.Studies.StudyDescriptor(u1l.name,u1l.type,u1l.panel);u1l.mhml.chart=u1l.chart;u1l.mhml.days=u1l.days;u1l.mhml.startFrom=u1l.startFrom;o233.Y9u();u1l.mhml.inputs={};u1l.mhml.outputs={_MHML:null};X2l.Studies.calculateMaxHighMinLow(w1l,u1l.mhml);l1l=0;P1l=[];for(var f1l=Math.max(1,u1l.startFrom - u1l.days);f1l < L1l.length;f1l++){x1l=Math.abs(L1l[f1l].Close - L1l[f1l - 1].Close);P1l.push(x1l);l1l+=x1l;if(P1l.length == u1l.days){A74="_";A74+="MH";A74+="M";A74+="L ";L1l[f1l]["Result " + u1l.name]=L1l[f1l][A74 + u1l.name] / l1l;l1l-=P1l.shift();}}};X2l.Studies.studyLibrary=X2l.extend(X2l.Studies.studyLibrary,{"Donchian Channel":{name:"Donchian Channel",overlay:! !"1",calculateFN:X2l.Studies.calculateMaxHighMinLow,seriesFN:X2l.Studies.displayChannel,inputs:{"High Period":20,"Low Period":20,"Channel Fill":!0},outputs:{"Donchian High":w74,"Donchian Median":W74,"Donchian Low":"auto"}},"Donchian Width":{name:K74,calculateFN:X2l.Studies.calculateMaxHighMinLow,inputs:{"High Period":20,"Low Period":20}},GAPO:{name:"Gopalakrishnan Range Index",calculateFN:X2l.Studies.calculateMaxHighMinLow},HHV:{name:"Highest High Value",calculateFN:X2l.Studies.calculateMaxHighMinLow,inputs:{Period:+"14"}},LLV:{name:n74,calculateFN:X2l.Studies.calculateMaxHighMinLow,inputs:{Period:14}},"Williams %R":{name:"Williams %R",calculateFN:X2l.Studies.calculateMaxHighMinLow,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:-20,studyOverBoughtColor:"auto",studyOverSoldValue:-80,studyOverSoldColor:"auto"}}},"VT HZ Filter":{name:"Vertical Horizontal Filter",calculateFN:X2l.Studies.calculateVerticalHorizontalFilter,inputs:{Period:28}},"High-Low":{name:t74,calculateFN:function(b1l,R1l){var S1l;o233.Y9u();S1l=R1l.chart.scrubbed;for(var Q1l=R1l.startFrom;Q1l < S1l.length;Q1l++){S1l[Q1l]["Result " + R1l.name]=S1l[Q1l].High - S1l[Q1l].Low;}},inputs:{}}});}};A9E=v1l=>{var B1l,B74;B1l=typeof _CIQ !== "undefined"?_CIQ:v1l.CIQ;if(!B1l.Studies){console.error("ichimoku feature requires first activating studies feature.");}else {B74="#8080";B74+="00";B1l.Studies.calculateIchimoku=function(o1l,T1l){var Z0u=o233;var T74,m1l,O1l,c1l,I1l,Y74,J1l,Y1l,Z1l,a74,V74,d1l;T74="Convers";T74+="ion Line Period";m1l=T1l.chart.scrubbed;O1l={Base:Number(T1l.inputs["Base Line Period"]),Conv:Number(T1l.inputs[T74]),LeadB:Number(T1l.inputs["Leading Span B Period"]),Lag:Number(T1l.inputs["Lagging Span Period"])};for(c1l=T1l.startFrom;c1l < m1l.length;c1l++){Y74="La";Y74+="gging S";Y74+="p";Y74+="an ";if(!m1l[c1l])continue;I1l=e1l(O1l.Conv,c1l);Z0u.B1T(0);var Q8s=Z0u.f1T(0,1);Z0u.B1T(2);var I8s=Z0u.f1T(8,0,10);m1l[c1l]["Conversion Line " + T1l.name]=(I1l[Q8s] + I1l[0]) / I8s;I1l=e1l(O1l.Base,c1l);Z0u.B1T(71);var S8s=Z0u.f1T(2,2,6);Z0u.v1T(39);var X8s=Z0u.f1T(5,3,1);m1l[c1l]["Base Line " + T1l.name]=(I1l[S8s] + I1l[0]) / X8s;if(c1l < O1l.Lag)continue;m1l[c1l - O1l.Lag][Y74 + T1l.name]=m1l[c1l].Close;}J1l=[];function e1l(D1l,W1l){var i1l,t1l;i1l=Number.MAX_VALUE;Z0u.B1T(8);Z0u.Y9u();var l8s=Z0u.f1T(7,8);t1l=Number.MAX_VALUE * l8s;for(var k1l=W1l - D1l + ("1" << 1306189664);k1l <= W1l;k1l++){if(k1l < 0)continue;i1l=Math.min(i1l,m1l[k1l].Low);t1l=Math.max(t1l,m1l[k1l].High);}return [i1l,t1l];}for(c1l=Math.max(0,T1l.startFrom - O1l.Base);c1l < m1l.length;c1l++){I1l=e1l(O1l.LeadB,c1l);Z0u.B1T(132);var F8s=Z0u.f1T(2157,11,13,15,10);Y1l=(m1l[c1l]["Conversion Line " + T1l.name] + m1l[c1l]["Base Line " + T1l.name]) / F8s;Z0u.v1T(133);var h8s=Z0u.f1T(9,34,6,18);Z0u.v1T(134);var b8s=Z0u.n1T(6,15,8,16,4);Z1l=(I1l[h8s] + I1l[0]) / b8s;if(m1l[c1l + O1l.Base]){m1l[c1l + O1l.Base]["Leading Span A " + T1l.name]=Y1l;m1l[c1l + O1l.Base]["Leading Span B " + T1l.name]=Z1l;}else {a74="L";a74+="ead";a74+="ing Span B ";V74="Leadi";V74+="ng Span A ";d1l={};d1l[V74 + T1l.name]=Y1l;d1l[a74 + T1l.name]=Z1l;J1l.push(d1l);}}T1l.appendFutureTicks(o1l,J1l);};B1l.Studies.displayIchimoku=function(M1l,p1l,N1l){var y1l,F1l,h1l,z1l,n1l,C1l,r1l;y1l="Leading Span A " + p1l.name;F1l="Leading Span B " + p1l.name;h1l=B1l.Studies.determineColor(p1l.outputs[p1l.outputMap[y1l]]);z1l=B1l.Studies.determineColor(p1l.outputs[p1l.outputMap[F1l]]);n1l=M1l.panels[p1l.panel];C1l=p1l.getYAxis(M1l);r1l={topBand:y1l,bottomBand:F1l,topColor:h1l,bottomColor:z1l,skipTransform:n1l.name != p1l.chart.name,topAxis:C1l,bottomAxis:C1l,opacity:0.3};if(!p1l.highlight && M1l.highlightedDraggable){r1l.opacity*=0.3;}B1l.fillIntersecting(M1l,p1l.panel,r1l);B1l.Studies.displaySeriesAsLine(M1l,p1l,N1l);};B1l.Studies.studyLibrary=B1l.extend(B1l.Studies.studyLibrary,{"Ichimoku Clouds":{name:"Ichimoku Clouds",overlay:! !{},calculateFN:B1l.Studies.calculateIchimoku,seriesFN:B1l.Studies.displayIchimoku,inputs:{"Conversion Line Period":9,"Base Line Period":26,"Leading Span B Period":+"52","Lagging Span Period":26},outputs:{"Conversion Line":"#0000FF","Base Line":"#FF0000","Leading Span A":"#00FF00","Leading Span B":"#FF0000","Lagging Span":B74}}});}};u9E=X1l=>{var H1l,Q74,S74;H1l=typeof _CIQ !== "undefined"?_CIQ:X1l.CIQ;if(!H1l.Studies){Q74="intr";Q74+="adayMomentum feature requires first activating studies fea";Q74+="ture.";console.error(Q74);}else {S74="au";S74+="to";H1l.Studies.calculateIntradayMomentum=function(q3l,K1l){var M0u=o233;var U1l,E1l,G1l,s1l,I74,g1l,a1l;U1l=K1l.chart.scrubbed;M0u.Y9u();E1l=K1l.days;if(U1l.length < E1l + ("1" | 1)){K1l.error=!"";return;}G1l=0;s1l=0;if(K1l.startFrom > 1){M0u.v1T(135);var g8s=M0u.n1T(10,10,1,2);G1l=U1l[K1l.startFrom - g8s]["_totUp " + K1l.name];M0u.B1T(8);var u8s=M0u.n1T(8,7);s1l=U1l[K1l.startFrom - u8s]["_totDn " + K1l.name];}for(var j1l=K1l.startFrom;j1l < U1l.length;j1l++){I74="_t";I74+="otDn ";g1l=U1l[j1l].Close - U1l[j1l].Open;if(g1l > 0){G1l+=g1l;}else {s1l-=g1l;}if(j1l >= E1l){a1l=U1l[j1l - E1l].Close - U1l[j1l - E1l].Open;if(a1l > 0){G1l-=a1l;}else {s1l+=a1l;}}M0u.v1T(136);U1l[j1l]["Result " + K1l.name]=M0u.n1T(s1l,G1l,G1l,100);U1l[j1l]["_totUp " + K1l.name]=G1l;U1l[j1l][I74 + K1l.name]=s1l;}};H1l.Studies.studyLibrary=H1l.extend(H1l.Studies.studyLibrary,{"Intraday Mtm":{name:"Intraday Momentum Index",calculateFN:H1l.Studies.calculateIntradayMomentum,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:+"70",studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:S74}}}});}};L9E=A3l=>{var V3l,F74;o233.z9u();V3l=typeof _CIQ !== "undefined"?_CIQ:A3l.CIQ;if(!V3l.Studies){console.error("keltner feature requires first activating studies feature.");}else {F74="a";F74+="uto";V3l.Studies.calculateKeltner=function(L3l,u3l){var l74,X74;l74="M";l74+="A";X74="Cl";X74+="o";X74+="s";X74+="e";V3l.Studies.MA(u3l.inputs["Moving Average Type"],u3l.days,X74,0,l74,L3l,u3l);V3l.Studies.calculateStudyATR(L3l,u3l);V3l.Studies.calculateGenericEnvelope(L3l,u3l,u3l.inputs.Shift,"MA " + u3l.name,"ATR " + u3l.name);};V3l.Studies.studyLibrary=V3l.extend(V3l.Studies.studyLibrary,{Keltner:{name:"Keltner Channel",overlay:! ![],seriesFN:V3l.Studies.displayChannel,calculateFN:V3l.Studies.calculateKeltner,inputs:{Period:50,Shift:+"5","Moving Average Type":"ema","Channel Fill":! ![]},outputs:{"Keltner Top":"auto","Keltner Median":"auto","Keltner Bottom":F74},attributes:{Shift:{min:0.1,step:0.1}}}});}};f9E=l3l=>{o233.Y9u();var f3l,M74,z74,C74;f3l=typeof _CIQ !== "undefined"?_CIQ:l3l.CIQ;if(!f3l.Studies){console.error("klinger feature requires first activating studies feature.");}else {M74="#00DD";M74+="00";z74="#F";z74+="F";z74+="00";z74+="00";C74="Kling";C74+="er Volume Oscillato";C74+="r";f3l.Studies.calculateKlinger=function(B3l,x3l){var Z74,j74,u74,g74,b74,h74,w3l,v3l,Q3l,c3l,S3l,O3l,R3l,T3l,m3l,P3l,P74,b3l;Z74="expo";Z74+="nential";j74="_EMA";j74+="-L ";u74="K";u74+="linger";u74+=" ";g74="_";g74+="hi";g74+="st";b74="Long C";b74+="ycle";h74="S";h74+="hort ";h74+="Cycle";w3l=x3l.chart.scrubbed;v3l=Number(x3l.inputs[h74]);Q3l=Number(x3l.inputs[b74]);if(w3l.length < Math.max(v3l,Q3l) + 1){x3l.error=! !1;return;}c3l=x3l.name + g74;S3l=u74 + x3l.name;O3l="KlingerSignal " + x3l.name;R3l="_SV " + x3l.name;T3l="_EMA-S " + x3l.name;m3l=j74 + x3l.name;for(P3l=Math.max(1,x3l.startFrom);P3l < w3l.length;P3l++){P74="hlc";P74+="/3";b3l=w3l[P3l].Volume;if(w3l[P3l][P74] < w3l[P3l - +"1"]["hlc/3"]){b3l*=- +"1";}if(b3l){w3l[P3l][R3l]=b3l;}}f3l.Studies.MA("exponential",v3l,R3l,0,"_EMA-S",B3l,x3l);o233.v1T(7);f3l.Studies.MA("exponential",Q3l,R3l,o233.f1T(2147483647,"0"),"_EMA-L",B3l,x3l);for(P3l=Math.max(Q3l,x3l.startFrom);P3l < w3l.length;P3l++){if(w3l[P3l].futureTick || w3l[P3l][T3l] === null || w3l[P3l][m3l] === null)break;w3l[P3l][S3l]=w3l[P3l][T3l] - w3l[P3l][m3l];}f3l.Studies.MA(Z74,Number(x3l.inputs["Signal Periods"]),S3l,0,"KlingerSignal",B3l,x3l);for(P3l=x3l.startFrom;P3l < w3l.length;P3l++){w3l[P3l][c3l]=w3l[P3l][S3l] - w3l[P3l][O3l];}x3l.outputMap[c3l]="";};f3l.Studies.studyLibrary=f3l.extend(f3l.Studies.studyLibrary,{Klinger:{name:C74,seriesFN:f3l.Studies.displayHistogramWithSeries,calculateFN:f3l.Studies.calculateKlinger,inputs:{"Signal Periods":13,"Short Cycle":34,"Long Cycle":55},outputs:{Klinger:"auto",KlingerSignal:z74,"Increasing Bar":M74,"Decreasing Bar":"#FF0000"}}});}};l9E=d3l=>{var I3l,m74,c54,q74,G74,L74,e74,d74;I3l=typeof _CIQ !== "undefined"?_CIQ:d3l.CIQ;o233.Y9u();if(!I3l.Studies){m74="linear";m74+="Regression feature requires first activating";m74+=" studies feature.";console.error(m74);}else {c54="f";c54+="i";c54+="eld";q74="a";q74+="u";q74+="t";q74+="o";G74="Linear Reg";G74+=" Int";G74+="ercept";L74="Tim";L74+="eSeries";e74="Tim";e74+="e ";e74+="Seri";e74+="es";d74="time s";d74+="e";d74+="ries";I3l.Studies.prettify["time series"]="tsma";I3l.Studies.movingAverage.conversions.tsma=d74;I3l.Studies.movingAverage.translations["time series"]=e74;I3l.Studies.movingAverage.typeMap.tsma="TimeSeries";I3l.Studies.movingAverage.typeMap["time series"]=L74;I3l.Studies.calculateMovingAverageTimeSeries=function(p3l,e3l){var t0u=o233;var J74,Z3l,Y3l,o3l,k3l,i3l,t3l,W3l,D3l;J74="m";J74+="a";e3l.ma=new I3l.Studies.StudyDescriptor(e3l.name,J74,e3l.panel);e3l.ma.chart=e3l.chart;e3l.ma.days=e3l.days;e3l.ma.startFrom=e3l.startFrom;e3l.ma.inputs=e3l.inputs;I3l.Studies.calculateLinearRegressionIndicator(p3l,e3l.ma);Z3l=e3l.name;for(var M3l in e3l.outputs){t0u.v1T(11);Z3l=t0u.n1T(6550 > 3519?" ":(3100,6920) <= 2467?(0x1771,"c"):("c","L"),Z3l,M3l);}Y3l=parseInt(e3l.inputs.Offset,"10" - 0);if(isNaN(Y3l)){Y3l=0;}o3l=e3l.chart.scrubbed;k3l=Y3l;for(var J3l=e3l.startFrom - 1;J3l >= 0;J3l--){i3l=o3l[J3l][Z3l];if(!i3l && i3l !== 0)continue;if(k3l > 0){k3l--;continue;}break;}t3l=[];for(J3l++;J3l < o3l.length;J3l++){W3l=o3l[J3l];if(J3l + Y3l >= 0){if(J3l + Y3l < o3l.length){t0u.v1T(0);o3l[t0u.n1T(J3l,Y3l)][Z3l]=W3l["Forecast " + e3l.name];}else {D3l={};D3l[Z3l]=W3l["Forecast " + e3l.name];t3l.push(D3l);}}}e3l.appendFutureTicks(p3l,t3l);};I3l.Studies.calculateLinearRegressionIndicator=function(g3l,y3l){var U0u=o233;var C3l,n3l,X3l,j3l,G3l,h3l,K3l,N3l,E74,U3l,R74,r3l,z3l,H3l,s3l,E3l;U0u.z9u();C3l=y3l.chart.scrubbed;if(C3l.length < y3l.days + +"1"){y3l.error=! !1;return;}n3l=y3l.inputs.Field;if(!n3l || n3l == "field"){n3l="Close";}U0u.v1T(1);var j8s=U0u.n1T(4,3);U0u.B1T(6);var P8s=U0u.n1T(19,3,28,14);X3l=y3l.days * (y3l.days + j8s) / P8s;j3l=Math.pow(X3l,2);U0u.B1T(48);var Z8s=U0u.f1T(10,6,6,3);U0u.B1T(5);var C8s=U0u.n1T(5,6,0);U0u.v1T(1);var z8s=U0u.n1T(57,54);G3l=X3l * (Z8s * y3l.days + C8s) / z8s;h3l=0;K3l=0;N3l=0;if(y3l.startFrom){E74="_";E74+="sum";E74+="s";E74+=" ";U0u.v1T(60);var M8s=U0u.f1T(10,9,3,16,2);U3l=C3l[y3l.startFrom - M8s][E74 + y3l.name];if(U3l){K3l=U3l[0];U0u.B1T(13);h3l=U3l[U0u.n1T("1",1950413184)];N3l=U3l[2];}}for(var F3l=y3l.startFrom;F3l < C3l.length;F3l++){R74="I";R74+="nt";R74+="ercep";R74+="t ";r3l=C3l[F3l][n3l];if(r3l && typeof r3l == "object"){r3l=r3l[y3l.subField];}if(!r3l && r3l !== 0)continue;K3l+=y3l.days * r3l - h3l;h3l+=r3l;N3l+=Math.pow(r3l,2);if(F3l < y3l.days - 1)continue;else if(F3l > y3l.days - 1){z3l=C3l[F3l - y3l.days][n3l];if(z3l && typeof z3l == "object"){z3l=z3l[y3l.subField];}if(!z3l && z3l !== 0)continue;h3l-=z3l;N3l-=Math.pow(z3l,2);}H3l=(y3l.days * K3l - X3l * h3l) / (y3l.days * G3l - j3l);C3l[F3l]["Slope " + y3l.name]=H3l;s3l=(h3l - H3l * X3l) / y3l.days;C3l[F3l][R74 + y3l.name]=s3l;C3l[F3l]["Forecast " + y3l.name]=s3l + H3l * y3l.days;U0u.v1T(1);var m8s=U0u.f1T(13,11);E3l=(y3l.days * G3l - j3l) / (y3l.days * N3l - Math.pow(h3l,m8s));U0u.v1T(137);C3l[F3l]["RSquared " + y3l.name]=U0u.n1T(H3l,H3l,E3l);C3l[F3l]["_sums " + y3l.name]=[K3l,h3l,N3l];}};I3l.Studies.studyLibrary=I3l.extend(I3l.Studies.studyLibrary,{"Lin Fcst":{name:"Linear Reg Forecast",overlay:! ![],calculateFN:I3l.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:"auto"}},"Lin Incpt":{name:G74,overlay:!"",calculateFN:I3l.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Intercept:"auto"}},"Lin R2":{name:"Linear Reg R2",calculateFN:I3l.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{RSquared:q74}},"LR Slope":{name:"Linear Reg Slope",calculateFN:I3l.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:c54},outputs:{Slope:"auto"}},"Time Fcst":{name:"Time Series Forecast",overlay:! !{},calculateFN:I3l.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:"auto"}}});}};P9E=q6l=>{var a3l,F2C,h2C,b2C,D54,k54,i54;a3l=typeof _CIQ !== "undefined"?_CIQ:q6l.CIQ;if(!a3l.Studies){F2C=-1507398603;h2C=-305370183;b2C=2;for(var u2C=1;o233.D2C(u2C.toString(),u2C.toString().length,23533) !== F2C;u2C++){console.error("");b2C+=2;}if(o233.D2C(b2C.toString(),b2C.toString().length,42534) !== h2C){console.error("macd feature requires first activating studies feature.");}}else {D54="#F";D54+="F000";D54+="0";k54="#";k54+="00D";k54+="D00";i54="#";i54+="FF0";i54+="00";i54+="0";a3l.Studies.calculateMACD=function(Q6l,V6l){var y0u=o233;var H54,r54,p54,f54,U54,O54,o54,x54,f6l,l6l,A6l,P6l,x6l,L6l,u6l,S6l,y54,N54,w6l,R6l,s54,v54,b6l;H54="MAC";H54+="D ";r54="S";r54+="i";r54+="gnal MA Type";p54="_M";p54+="ACD1";f54="exponent";f54+="ial";U54="Mo";U54+="ving Averag";U54+="e Type";O54="C";O54+="l";O54+="os";O54+="e";o54="f";o54+="iel";o54+="d";x54="Fas";x54+="t MA Period";f6l=V6l.chart.scrubbed;l6l=V6l.inputs;A6l=V6l.name;if(!V6l.macd1Days){V6l.macd1Days=parseFloat(l6l[x54]);}if(!V6l.macd2Days){V6l.macd2Days=parseFloat(l6l["Slow MA Period"]);}if(!V6l.signalDays){V6l.signalDays=parseFloat(l6l["Signal Period"]);}if(!V6l.days){V6l.days=Math.max(V6l.macd1Days,V6l.macd2Days,V6l.signalDays);}if(f6l.length < V6l.days + 1){V6l.error=! ![];return;}P6l=V6l.inputs.Field;if(!P6l || P6l == o54){P6l=O54;}x6l=l6l[U54];if(!x6l){x6l=f54;}a3l.Studies.MA(x6l,V6l.macd1Days,P6l,0,p54,Q6l,V6l);a3l.Studies.MA(x6l,V6l.macd2Days,P6l,0,"_MACD2",Q6l,V6l);S6l=Math.max(V6l.startFrom,V6l.days - 1);for(L6l=S6l;L6l < f6l.length;L6l++){y54="M";y54+="A";y54+="CD ";N54="_";N54+="MA";N54+="CD2 ";u6l=f6l[L6l];if((u6l["_MACD1 " + A6l] || u6l["_MACD1 " + A6l] === 0) && (u6l[N54 + A6l] || u6l["_MACD2 " + A6l] === +"0")){y0u.B1T(0);u6l[y0u.n1T(y54,A6l)]=u6l["_MACD1 " + A6l] - u6l["_MACD2 " + A6l];}}w6l=l6l[r54];if(!w6l){w6l="exponential";}a3l.Studies.MA(w6l,V6l.signalDays,H54 + A6l,+"0","Signal",Q6l,V6l);y0u.B1T(0);R6l=y0u.n1T(A6l,"_hist");for(L6l=S6l;L6l < f6l.length;L6l++){s54="Si";s54+="gn";s54+="al ";v54="Sign";v54+="al";v54+=" ";u6l=f6l[L6l];y0u.v1T(0);b6l=u6l[y0u.f1T(v54,A6l)];if(!b6l && b6l !== 0)continue;u6l[R6l]=u6l["MACD " + A6l] - u6l[s54 + A6l];}V6l.outputMap[R6l]="";};a3l.Studies.studyLibrary=a3l.extend(a3l.Studies.studyLibrary,{macd:{name:"MACD",calculateFN:a3l.Studies.calculateMACD,seriesFN:a3l.Studies.displayHistogramWithSeries,inputs:{"Fast MA Period":12,"Slow MA Period":26,"Signal Period":"9" ^ 0},outputs:{MACD:"auto",Signal:i54,"Increasing Bar":k54,"Decreasing Bar":D54}}});}};x9E=v6l=>{var B6l,A54,V54;B6l=typeof _CIQ !== "undefined"?_CIQ:v6l.CIQ;if(!B6l.Studies){A54="massIndex feature requires first activating studi";A54+="es feature.";console.error(A54);}else {V54="Mass";V54+=" Index";B6l.Studies.calculateMassIndex=function(d6l,c6l){var g0u=o233;var t54,n54,K54,W54,T6l,w54,I6l,Y54,T54;t54="_";t54+="E";t54+="MA2";n54="_";n54+="E";n54+="M";n54+="A ";K54="expon";K54+="ent";K54+="i";K54+="al";W54="_";W54+="E";W54+="M";W54+="A";T6l=c6l.chart.scrubbed;if(T6l.length < Math.max(9,c6l.days + 1)){c6l.error=! !"1";return;}for(var O6l=c6l.startFrom;O6l < T6l.length;O6l++){w54="_Hi";w54+="gh-";w54+="Lo";w54+="w ";T6l[O6l][w54 + c6l.name]=T6l[O6l].High - T6l[O6l].Low;}B6l.Studies.MA("exponential",9,"_High-Low " + c6l.name,0,W54,d6l,c6l);g0u.v1T(40);B6l.Studies.MA(K54,g0u.f1T(1501832512,"9"),n54 + c6l.name,0,t54,d6l,c6l);I6l=0;if(T6l[c6l.startFrom - 1] && T6l[c6l.startFrom - +"1"]["_total " + c6l.name]){g0u.B1T(30);var d8s=g0u.n1T(12,215,18);I6l=T6l[c6l.startFrom - d8s]["_total " + c6l.name];}for(var m6l=Math.max(17,c6l.startFrom);m6l < T6l.length;m6l++){Y54="_E";Y54+="MA";Y54+="2";Y54+=" ";T54="_E";T54+="M";T54+="A";T54+=" ";I6l+=T6l[m6l][T54 + c6l.name] / T6l[m6l][Y54 + c6l.name];if(m6l >= 17 + c6l.days - 1){T6l[m6l]["Result " + c6l.name]=I6l;g0u.v1T(138);var e8s=g0u.n1T(0,12,8,97,1);g0u.v1T(139);var L8s=g0u.f1T(7,7,1,0);I6l-=T6l[m6l - c6l.days + e8s]["_EMA " + c6l.name] / T6l[m6l - c6l.days + L8s]["_EMA2 " + c6l.name];}T6l[m6l]["_total " + c6l.name]=I6l;}};B6l.Studies.displayMassIndex=function(J6l,e6l,i6l){var Y6l,t6l,Z6l,o6l,k6l;B6l.Studies.displaySeriesAsLine(J6l,e6l,i6l);Y6l=e6l.inputs["Bulge Threshold"];t6l=J6l.panels[e6l.panel];Z6l=e6l.getYAxis(J6l);o233.z9u();o6l=B6l.Studies.determineColor(e6l.outputs.Result);k6l={skipTransform:J6l.panels[e6l.panel].name != e6l.chart.name,panelName:e6l.panel,band:"Result " + e6l.name,threshold:Y6l,direction:1,color:o6l,yAxis:Z6l,opacity:0.3};if(!e6l.highlight && J6l.highlightedDraggable){k6l.opacity*=0.3;}B6l.preparePeakValleyFill(J6l,k6l);B6l.Studies.drawHorizontal(J6l,e6l,null,Y6l,Z6l,o6l);};B6l.Studies.studyLibrary=B6l.extend(B6l.Studies.studyLibrary,{"Mass Idx":{name:V54,seriesFN:B6l.Studies.displayMassIndex,calculateFN:B6l.Studies.calculateMassIndex,inputs:{Period:25,"Bulge Threshold":+"27"},attributes:{"Bulge Threshold":{min:20,max:35,step:0.1}}}});}};w9E=D6l=>{var W6l,S54,I54;W6l=typeof _CIQ !== "undefined"?_CIQ:D6l.CIQ;if(!W6l.Studies){console.error("moneyFlow feature requires first activating studies feature.");}else {S54="a";S54+="u";S54+="t";S54+="o";I54="0 t";I54+="o 100";W6l.Studies.calculateMoneyFlowIndex=function(U6l,y6l){var R0u=o233;R0u.z9u();var a54,M6l,C6l,F6l,h6l,H6l,z6l,X6l,B54,n6l,Q54,K6l,r6l,N6l;a54="_c";a54+="umMF ";M6l=y6l.chart.scrubbed;if(M6l.length < y6l.days + 1){y6l.error=!0;return;}C6l=0;F6l=+"0";h6l=M6l[y6l.startFrom - 1];H6l="_rawMF " + y6l.name;z6l=a54 + y6l.name;X6l="Result " + y6l.name;if(h6l && h6l[z6l]){C6l=h6l[z6l][0];F6l=h6l[z6l][1];}for(var p6l=y6l.startFrom;p6l < M6l.length;p6l++){B54="hl";B54+="c";B54+="/";B54+="3";n6l=M6l[p6l][B54];if(p6l > 0 && !M6l[p6l].futureTick){Q54="h";Q54+="lc";Q54+="/3";R0u.v1T(1);K6l=M6l[R0u.f1T(p6l,1)][Q54];r6l=n6l * M6l[p6l].Volume;if(n6l > K6l){C6l+=r6l;}else if(n6l < K6l){R0u.B1T(13);r6l*=-R0u.f1T("1",739421632);F6l-=r6l;}else {r6l=0;}if(p6l > y6l.days){N6l=M6l[p6l - y6l.days][H6l];if(N6l > 0){C6l-=N6l;}else {F6l+=N6l;}if(F6l === 0){M6l[p6l][X6l]=100;}else if(M6l[p6l].Volume){R0u.B1T(140);M6l[p6l][X6l]=R0u.f1T(1,100,C6l,F6l,"100");}}M6l[p6l][H6l]=r6l;M6l[p6l][z6l]=[C6l,F6l];}}};W6l.Studies.studyLibrary=W6l.extend(W6l.Studies.studyLibrary,{"M Flow":{name:"Money Flow Index",range:I54,calculateFN:W6l.Studies.calculateMoneyFlowIndex,inputs:{Period:"14" | 2},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:S54}}}});}};o233.z9u();Q9E=G6l=>{var X54,j6l,O64,x64,c64,q54,G54,j54,u54,g54,b54,h54,F54,l54;X54="und";X54+="efined";j6l=typeof _CIQ !== X54?_CIQ:G6l.CIQ;if(!j6l.Studies){console.error("movingAverages feature requires first activating studies feature.");}else {O64="a";O64+="u";O64+="t";O64+="o";x64="#00D";x64+="D00";c64="Po";c64+="i";c64+="n";c64+="ts";q54="m";q54+="a";G54="pe";G54+="rcent";j54="Trip";j54+="l";j54+="eExponential";u54="DoubleEx";u54+="pon";u54+="entia";u54+="l";g54="H";g54+="u";g54+="l";g54+="l";b54="Tri";b54+="ple";b54+=" Expone";b54+="ntial";h54="H";h54+="u";h54+="l";h54+="l";F54="t";F54+="e";F54+="m";F54+="a";l54="d";l54+="e";l54+="m";l54+="a";j6l.Studies.prettify=j6l.extend({"2-exponential":l54,"3-exponential":F54,hull:"hma"},j6l.Studies.prettify);j6l.extend(j6l.Studies.movingAverage,{conversions:{hma:"hull",dema:"2-exponential",tema:"3-exponential"},translations:{hull:h54,"2-exponential":"Double Exponential","3-exponential":b54},typeMap:{hma:g54,hull:"Hull",dema:u54,"2-exponential":"DoubleExponential",tema:j54,"3-exponential":"TripleExponential"}});j6l.Studies.calculateMovingAverageHull=function(L4l,s6l){var e0u=o233;var z54,C54,Z54,P54,g6l,a6l,E6l,q4l,V4l,A4l,f4l,u4l,M54;z54="_";z54+="MM";z54+="A ";C54="_WMA";e0u.Y9u();C54+="1";Z54="Cl";Z54+="os";Z54+="e";P54="f";P54+="i";P54+="eld";g6l=s6l.chart.scrubbed;a6l=s6l.inputs.Field;if(!a6l || a6l == P54){a6l=Z54;}j6l.Studies.MA("wma",s6l.days,a6l,0,C54,L4l,s6l);j6l.Studies.MA("wma",Math.ceil(s6l.days / 2),a6l,0,"_WMA2",L4l,s6l);for(E6l=s6l.startFrom - 1;E6l >= 0;E6l--){q4l=g6l[E6l][a6l];if(q4l && typeof q4l == "object"){q4l=q4l[s6l.subField];}if(q4l || q4l === 0)break;}for(E6l++;E6l < g6l.length;E6l++){V4l=g6l[E6l];e0u.B1T(1);var J8s=e0u.n1T(20,18);V4l["_MMA " + s6l.name]=J8s * V4l["_WMA2 " + s6l.name] - V4l["_WMA1 " + s6l.name];}A4l=parseInt(s6l.inputs.Offset,"10" >> 1112306848);if(isNaN(A4l)){A4l=0;}f4l=Math.floor(Math.sqrt(s6l.days));j6l.Studies.MA("wma",f4l,z54 + s6l.name,A4l,"_HMA",L4l,s6l);u4l=s6l.name;for(var l4l in s6l.outputs){e0u.v1T(11);u4l=e0u.f1T(" ",u4l,l4l);}for(E6l=Math.max(s6l.days + f4l - 1,s6l.startFrom);E6l < g6l.length;E6l++){M54="_HMA";M54+=" ";g6l[E6l][u4l]=g6l[E6l][M54 + s6l.name];}};j6l.Studies.calculateMovingAverageDoubleExponential=function(B4l,P4l){var N0u=o233;var m54,S4l,R4l,w4l,x4l,Q4l,v4l,b4l,c4l,T4l,m4l,O4l;m54="em";m54+="a";S4l=P4l.chart.scrubbed;R4l=P4l.inputs.Field;if(!R4l || R4l == "field"){R4l="Close";}N0u.Y9u();j6l.Studies.MA("ema",P4l.days,R4l,0,"_EMA1",B4l,P4l);j6l.Studies.MA(m54,P4l.days,"_EMA1 " + P4l.name,0,"_EMA2",B4l,P4l);w4l=parseInt(P4l.inputs.Offset,10);if(isNaN(w4l)){w4l=0;}v4l=w4l;for(x4l=P4l.startFrom - 1;x4l >= 0;x4l--){Q4l=S4l[x4l][R4l];if(Q4l && typeof Q4l == "object"){Q4l=Q4l[P4l.subField];}if(!Q4l && Q4l !== 0)continue;if(v4l > 0){v4l--;continue;}break;}b4l=P4l.name;for(var I4l in P4l.outputs){N0u.B1T(11);b4l=N0u.n1T(" ",b4l,I4l);}c4l=[];for(x4l++;x4l < S4l.length;x4l++){if(x4l < 2 * (P4l.days - 1))continue;T4l=S4l[x4l];N0u.v1T(70);var E8s=N0u.n1T(2,93,17,5);m4l=E8s * T4l["_EMA1 " + P4l.name] - T4l["_EMA2 " + P4l.name];if(x4l + w4l >= 0){if(x4l + w4l < S4l.length){N0u.v1T(0);S4l[N0u.f1T(x4l,w4l)][b4l]=m4l;}else {O4l={};O4l[b4l]=m4l;c4l.push(O4l);}}}P4l.appendFutureTicks(B4l,c4l);};j6l.Studies.calculateMovingAverageTripleExponential=function(i4l,d4l){var I0u=o233;var L54,e54,d54,Z4l,o4l,J4l,e4l,Y4l,W4l,k4l,D4l,J54,t4l,p4l,M4l;L54="_E";L54+="M";L54+="A3";e54="Cl";e54+="o";e54+="se";d54="f";d54+="ie";d54+="l";d54+="d";Z4l=d4l.chart.scrubbed;o4l=d4l.inputs.Field;if(!o4l || o4l == d54){o4l=e54;}j6l.Studies.MA("ema",d4l.days,o4l,0,"_EMA1",i4l,d4l);j6l.Studies.MA("ema",d4l.days,"_EMA1 " + d4l.name,0,"_EMA2",i4l,d4l);j6l.Studies.MA("ema",d4l.days,"_EMA2 " + d4l.name,0,L54,i4l,d4l);J4l=parseInt(d4l.inputs.Offset,10);if(isNaN(J4l)){J4l=0;}W4l=J4l;for(e4l=d4l.startFrom - 1;e4l >= 0;e4l--){Y4l=Z4l[e4l][o4l];if(Y4l && typeof Y4l == "object"){Y4l=Y4l[d4l.subField];}if(!Y4l && Y4l !== 0)continue;if(W4l > ("0" ^ 0)){W4l--;continue;}break;}k4l=d4l.name;for(var y4l in d4l.outputs){I0u.B1T(11);k4l=I0u.n1T((320.14,"8079" << 379860768) >= (901.06,117)?" ":574.71,k4l,y4l);}D4l=[];for(e4l++;e4l < Z4l.length;e4l++){J54="_EM";J54+="A";J54+="2 ";if(e4l < +"3" * (d4l.days - 1))continue;t4l=Z4l[e4l];I0u.B1T(93);var R8s=I0u.n1T(20,8,4,13);I0u.B1T(52);var G8s=I0u.f1T(19,11,5);p4l=R8s * t4l["_EMA1 " + d4l.name] - G8s * t4l[J54 + d4l.name] + t4l["_EMA3 " + d4l.name];if(e4l + J4l >= 0){if(e4l + J4l < Z4l.length){I0u.B1T(0);Z4l[I0u.f1T(e4l,J4l)][k4l]=p4l;}else {M4l={};M4l[k4l]=p4l;D4l.push(M4l);}}}d4l.appendFutureTicks(i4l,D4l);};j6l.Studies.calculateMAEnvelope=function(z4l,F4l){var a0u=o233;var C4l,r4l,h4l,z9C,M9C,m9C,E54;C4l=F4l.inputs.Field;if(!C4l || C4l == "field"){C4l="Close";}j6l.Studies.MA(F4l.inputs["Moving Average Type"],F4l.days,C4l,0,"MA",z4l,F4l);r4l=F4l.inputs["Shift Type"];h4l=F4l.inputs.Shift;if(!r4l){r4l="percent";z9C=58582665;M9C=472638008;m9C=2;for(var e9C=1;a0u.D2C(e9C.toString(),e9C.toString().length,68917) !== z9C;e9C++){h4l=F4l.inputs["Shift Percentage"];m9C+=2;}if(a0u.A2C(m9C.toString(),m9C.toString().length,95391) !== M9C){h4l=F4l.inputs[""];}}a0u.Y9u();if(r4l == "percent"){E54="M";E54+="A ";a0u.v1T(9);j6l.Studies.calculateGenericEnvelope(z4l,F4l,a0u.n1T(100,h4l),E54 + F4l.name);}else if(r4l == "points"){j6l.Studies.calculateGenericEnvelope(z4l,F4l,null,"MA " + F4l.name,null,Number(h4l));}};j6l.Studies.calculateMADev=function(g4l,n4l){var p0u=o233;var R54,U4l,H4l,j4l,G4l,E4l,X4l,N4l,K4l;R54="C";R54+="lo";R54+="s";R54+="e";U4l=n4l.chart.scrubbed;if(U4l.length < n4l.days + 1){n4l.error=! !{};return;}H4l=n4l.inputs.Field;if(!H4l || H4l == "field"){H4l=R54;}j4l=n4l.inputs["Points Or Percent"];if(!j4l){j4l="Points";}G4l=n4l.inputs["Moving Average Type"];if(!G4l){G4l="exponential";}j6l.Studies.MA(G4l,n4l.days,H4l,0,"_MA",g4l,n4l);E4l=n4l.name + "_hist";for(var s4l=Math.max(n4l.startFrom,n4l.days - 1);s4l < U4l.length;s4l++){X4l=U4l[s4l];N4l=X4l[H4l];if(N4l && typeof N4l == "object"){N4l=N4l[n4l.subField];}K4l=X4l["_MA " + n4l.name];if(K4l || K4l === 0){if(j4l == "Points"){p0u.B1T(1);X4l[E4l]=p0u.n1T(N4l,K4l);}else {p0u.B1T(141);X4l[E4l]=p0u.f1T(100,1,N4l,K4l);}}}n4l.outputMap={};n4l.outputMap[n4l.name + "_hist"]="";};j6l.Studies.studyLibrary=j6l.extend(j6l.Studies.studyLibrary,{"MA Env":{name:"Moving Average Envelope",overlay:! !{},seriesFN:j6l.Studies.displayChannel,calculateFN:j6l.Studies.calculateMAEnvelope,inputs:{Period:+"50",Field:"field","Shift Type":[G54,"points"],Shift:"5" >> 163478624,"Moving Average Type":q54,"Channel Fill":!0},outputs:{"MA Env Top":"auto","MA Env Median":"auto","MA Env Bottom":"auto"},attributes:{Shift:{min:"0.1" - 0,step:0.1}}},"MA Dev":{name:"Moving Average Deviation",calculateFN:j6l.Studies.calculateMADev,seriesFN:j6l.Studies.displayHistogramWithSeries,inputs:{Period:12,Field:"field","Moving Average Type":"ma","Points Or Percent":[c64,"Percent"]},outputs:{"Increasing Bar":x64,"Decreasing Bar":"#FF0000"}},"High Low":{name:"High Low Bands",overlay:! !{},seriesFN:j6l.Studies.displayChannel,calculateFN:function(q8l,a4l){var X0u=o233;var D1C,A1C,w1C,o64;D1C=-2050784521;A1C=-2135744921;X0u.v1T(53);X0u.z9u();w1C=X0u.f1T("2",0);for(var K1C=1;X0u.D2C(K1C.toString(),K1C.toString().length,13228) !== D1C;K1C++){a4l.inputs["Moving Average Type"]="triangular";w1C+=2;}if(X0u.A2C(w1C.toString(),w1C.toString().length,"95782" ^ 0) !== A1C){o64="t";o64+="riang";o64+="ular";a4l.inputs["triangular"]=o64;}j6l.Studies.calculateMAEnvelope(q8l,a4l);},inputs:{Period:+"10",Field:"field","Shift Percentage":5,"Channel Fill":! !"1"},outputs:{"High Low Top":O64,"High Low Median":"auto","High Low Bottom":"auto"},attributes:{"Shift Percentage":{min:+"0.1",step:+"0.1"}}}});}};S9E=A8l=>{var V8l;V8l=typeof _CIQ !== "undefined"?_CIQ:A8l.CIQ;if(!V8l.Studies){console.error("parabolicSAR feature requires first activating studies feature.");}else {V8l.Studies.calculatePSAR=function(T8l,P8l){var i0u=o233;var u8l,x8l,f8l,w8l,l8l,R8l,b8l,Q8l,S8l,B8l,v8l;function c8l(){x8l=0;f8l=null;i0u.z9u();w8l=!w8l;}u8l=P8l.chart.scrubbed;x8l=0;f8l=null;w8l=![];l8l=0;R8l=parseFloat(P8l.inputs["Minimum AF"]);b8l=parseFloat(P8l.inputs["Maximum AF"]);if(P8l.startFrom > 0){i0u.v1T(30);var q8s=i0u.n1T(7,20,3);l8l=u8l[P8l.startFrom - q8s]["Result " + P8l.name];i0u.v1T(5);var c5s=i0u.n1T(24,16,9);Q8l=u8l[P8l.startFrom - c5s]["_state " + P8l.name];if(Q8l && Q8l.length == 3){i0u.B1T(40);x8l=Q8l[i0u.n1T(877998720,"0")];f8l=Q8l[1];w8l=Q8l[2];}}for(var L8l=P8l.startFrom - 1;L8l < u8l.length - 1;L8l++){if(L8l < ("0" & 2147483647))continue;if(u8l[L8l].futureTick)break;S8l=l8l;if(w8l){if(!f8l || f8l < u8l[L8l].High){f8l=u8l[L8l].High;i0u.v1T(0);x8l=Math.min(i0u.n1T(x8l,R8l),b8l);}i0u.B1T(142);l8l=i0u.f1T(S8l,x8l,f8l,S8l);B8l=Math.min(u8l[Math.max(+"1",L8l) - 1].Low,u8l[L8l].Low);if(l8l > u8l[L8l + 1].Low){l8l=f8l;c8l();}else if(l8l > B8l){l8l=B8l;}}else {if(!f8l || f8l > u8l[L8l].Low){f8l=u8l[L8l].Low;i0u.v1T(0);x8l=Math.min(i0u.n1T(x8l,R8l),b8l);}i0u.v1T(142);l8l=i0u.f1T(S8l,x8l,f8l,S8l);v8l=Math.max(u8l[Math.max(+"1",L8l) - 1].High,u8l[L8l].High);if(l8l < u8l[L8l + 1].High){l8l=f8l;c8l();}else if(l8l < v8l){l8l=v8l;}}i0u.B1T(0);u8l[i0u.f1T(L8l,1)]["_state " + P8l.name]=[x8l,f8l,w8l];if(!isNaN(u8l[L8l].High) || !isNaN(u8l[L8l].Low)){i0u.v1T(0);u8l[i0u.n1T(L8l,1)]["Result " + P8l.name]=l8l;}}};V8l.Studies.studyLibrary=V8l.extend(V8l.Studies.studyLibrary,{PSAR:{name:"Parabolic SAR",overlay:! !"1",calculateFN:V8l.Studies.calculatePSAR,seriesFN:V8l.Studies.displayPSAR2,inputs:{"Minimum AF":0.02,"Maximum AF":0.2}}});}};R9E=O8l=>{var m8l,B64,a64,V64,Y64;o233.z9u();m8l=typeof _CIQ !== "undefined"?_CIQ:O8l.CIQ;if(!m8l.Studies){console.error("pivotPoints feature requires first activating studies feature.");}else {B64="#d";B64+="3e8";B64+="ae";a64="#6";a64+="99";a64+="158";V64="#b8";V64+="2";V64+="c";V64+="0b";Y64="a";Y64+="ut";Y64+="o";m8l.Studies.calculatePivotPoints=function(o8l,J8l){var c0u=o233;var y64,p64,f64,U64,d8l,Y8l,Z8l,t8l,N64,W8l,k8l,D8l,I8l,r64,p8l,M8l,v64,H64,D64,k64,i64,s64;y64="m";y64+="ark";y64+="et.beginningDayOfWeek";p64="se";p64+="c";p64+="ond";f64="y";f64+="e";f64+="a";f64+="r";U64="d";U64+="a";function i8l(){c0u.v1T(8);var x5s=c0u.n1T(7,6);c0u.B1T(8);var o5s=c0u.n1T(13,10);I8l.pivotPoint=(I8l.high + I8l.low + d8l[e8l - x5s].Close) / o5s;I8l.prevHigh=I8l.high;I8l.prevLow=I8l.low;I8l.hlSpread=I8l.high - I8l.low;I8l.high=I8l.low=+"0";}U64+="y";d8l=J8l.chart.scrubbed;Y8l="day";Z8l=o8l.layout.interval;t8l=o8l.layout.timeUnit;if(Z8l == U64){Y8l="month";}else if(m8l.ChartEngine.isDailyInterval(Z8l)){Y8l=f64;}else if(Z8l == "second" || Z8l == "millisecond" || t8l == p64 || t8l == "millisecond"){Y8l="15min";}else {N64="wee";N64+="k";W8l=o8l.layout.periodicity;if(Z8l != "minute"){W8l*=Z8l;}if(W8l >= 30){Y8l=N64;}}k8l=null;c0u.B1T(47);var O5s=c0u.n1T(32,35,4,1);D8l=O5s - m8l.getFromNS(o8l.chart,y64,0);I8l={pivotPoint:NaN,high:0,low:0,prevHigh:0,prevLow:0,hlSpread:0};if(J8l.startFrom > 1 && d8l[J8l.startFrom - 1]["_pointers " + J8l.name]){I8l=m8l.clone(d8l[J8l.startFrom - 1]["_pointers " + J8l.name]);}for(var e8l=Math.max(1,J8l.startFrom);e8l < d8l.length;e8l++){r64="f";r64+="i";r64+="bona";r64+="cci";if(!d8l[e8l - 1])continue;I8l.high=Math.max(I8l.high,d8l[e8l - 1].High);I8l.low=Math.min(I8l.low > 0?I8l.low:d8l[e8l - 1].Low,d8l[e8l - +"1"].Low);if(J8l.inputs.Continuous){i8l();}else if(Y8l == "year" && d8l[e8l].DT.getYear() != d8l[e8l - 1].DT.getYear()){i8l();}else if(Y8l == "month" && d8l[e8l].DT.getMonth() != d8l[e8l - 1].DT.getMonth()){i8l();}else if(Y8l == "week" && (d8l[e8l].DT.getDay() + D8l) % 7 < (d8l[e8l - 1].DT.getDay() + D8l) % 7){i8l();}else if(Y8l == "day"){if(k8l === null){k8l=m8l.Studies.getMarketOffset({stx:o8l,localQuoteDate:d8l[e8l].DT,shiftToDateBoundary:! !{}});}p8l=new Date(new Date(+d8l[e8l].DT).setMilliseconds(d8l[e8l].DT.getMilliseconds() + k8l));M8l=new Date(new Date(+d8l[e8l - 1].DT).setMilliseconds(d8l[e8l - 1].DT.getMilliseconds() + k8l));if(M8l.getDate() !== p8l.getDate() && M8l.getDay() !== 0 && o8l.chart.market.isMarketDate(p8l)){k8l=null;i8l();}}else if(Y8l == "15min" && (d8l[e8l].DT.getHours() != d8l[e8l - 1].DT.getHours() || Math.floor(d8l[e8l].DT.getMinutes() / 15) != Math.floor(d8l[e8l - 1].DT.getMinutes() / 15))){i8l();}d8l[e8l]["Pivot " + J8l.name]=I8l.pivotPoint;if(J8l.inputs.Type.toLowerCase() == r64){v64="Support ";v64+="3 ";H64="Resistan";H64+="ce ";H64+="1 ";d8l[e8l][H64 + J8l.name]=I8l.pivotPoint + ("0.382" - 0) * I8l.hlSpread;c0u.v1T(143);var U5s=c0u.f1T(13,1,18,4);d8l[e8l]["Resistance 2 " + J8l.name]=I8l.pivotPoint + "0.618" * U5s * I8l.hlSpread;d8l[e8l]["Resistance 3 " + J8l.name]=I8l.pivotPoint + I8l.hlSpread;d8l[e8l]["Support 1 " + J8l.name]=I8l.pivotPoint - 0.382 * I8l.hlSpread;d8l[e8l]["Support 2 " + J8l.name]=I8l.pivotPoint - 0.618 * I8l.hlSpread;d8l[e8l][v64 + J8l.name]=I8l.pivotPoint - I8l.hlSpread;}else {D64="S";D64+="u";D64+="ppor";D64+="t 2 ";k64="Support";k64+=" 1 ";i64="R";i64+="esistanc";i64+="e ";i64+="3 ";s64="Re";s64+="si";s64+="stance 2 ";c0u.B1T(71);var f5s=c0u.n1T(1,7,9);d8l[e8l]["Resistance 1 " + J8l.name]=f5s * I8l.pivotPoint - I8l.prevLow;d8l[e8l][s64 + J8l.name]=I8l.pivotPoint + I8l.hlSpread;c0u.v1T(39);var p5s=c0u.n1T(3,13,13);d8l[e8l][i64 + J8l.name]=I8l.prevHigh + p5s * (I8l.pivotPoint - I8l.prevLow);c0u.v1T(144);var N5s=c0u.f1T(12,1,6,15,1);d8l[e8l][k64 + J8l.name]=N5s * I8l.pivotPoint - I8l.prevHigh;d8l[e8l][D64 + J8l.name]=I8l.pivotPoint - I8l.hlSpread;c0u.v1T(145);var y5s=c0u.n1T(8,8,5,4,0);d8l[e8l]["Support 3 " + J8l.name]=I8l.prevLow - y5s * (I8l.prevHigh - I8l.pivotPoint);}d8l[e8l]["_pointers " + J8l.name]=m8l.clone(I8l);}};m8l.Studies.displayPivotPoints=function(F8l,y8l,h8l){var T64,t64,n64,K64,W64,w64,A64,r8l,C8l;y8l.noSlopes=!y8l.inputs.Continuous;m8l.Studies.displaySeriesAsLine(F8l,y8l,h8l);o233.z9u();if(y8l.inputs.Shading){T64="S";T64+="upp";T64+="ort 2 ";t64="Su";t64+="pp";t64+="ort 1";n64="S";n64+="u";n64+="pp";n64+="ort 1 ";K64="Res";K64+="istance 1";W64="Resistanc";W64+="e 1 ";w64="Resista";w64+="nce 2";A64="Resis";A64+="ta";A64+="nce 3";r8l=F8l.panels[y8l.panel];C8l={noSlopes:y8l.noSlopes,opacity:y8l.parameters.opacity?y8l.parameters.opacity:0.2,skipTransform:r8l.name != y8l.chart.name,yAxis:y8l.getYAxis(F8l)};if(!y8l.highlight && F8l.highlightedDraggable){C8l.opacity*=0.3;}m8l.prepareChannelFill(F8l,m8l.extend({panelName:y8l.panel,topBand:"Resistance 3 " + y8l.name,bottomBand:"Resistance 2 " + y8l.name,color:m8l.Studies.determineColor(y8l.outputs[A64])},C8l));m8l.prepareChannelFill(F8l,m8l.extend({panelName:y8l.panel,topBand:"Resistance 2 " + y8l.name,bottomBand:"Resistance 1 " + y8l.name,color:m8l.Studies.determineColor(y8l.outputs[w64])},C8l));m8l.prepareChannelFill(F8l,m8l.extend({panelName:y8l.panel,topBand:W64 + y8l.name,bottomBand:"Pivot " + y8l.name,color:m8l.Studies.determineColor(y8l.outputs[K64])},C8l));m8l.prepareChannelFill(F8l,m8l.extend({panelName:y8l.panel,topBand:n64 + y8l.name,bottomBand:"Pivot " + y8l.name,color:m8l.Studies.determineColor(y8l.outputs[t64])},C8l));m8l.prepareChannelFill(F8l,m8l.extend({panelName:y8l.panel,topBand:"Support 2 " + y8l.name,bottomBand:"Support 1 " + y8l.name,color:m8l.Studies.determineColor(y8l.outputs["Support 2"])},C8l));m8l.prepareChannelFill(F8l,m8l.extend({panelName:y8l.panel,topBand:"Support 3 " + y8l.name,bottomBand:T64 + y8l.name,color:m8l.Studies.determineColor(y8l.outputs["Support 3"])},C8l));}};m8l.Studies.studyLibrary=m8l.extend(m8l.Studies.studyLibrary,{"Pivot Points":{name:"Pivot Points",overlay:! ![],seriesFN:m8l.Studies.displayPivotPoints,calculateFN:m8l.Studies.calculatePivotPoints,inputs:{Type:["standard","fibonacci"],Continuous:! !0,Shading:!{}},outputs:{Pivot:Y64,"Resistance 1":V64,"Support 1":a64,"Resistance 2":"#e36460","Support 2":"#b3d987","Resistance 3":"#ffd0cf","Support 3":B64},parameters:{init:{opacity:0.2}}}});}};b9E=n8l=>{var Q64,P3C,Z3C,C3C,z8l,l64;Q64="un";Q64+="de";Q64+="fine";Q64+="d";P3C=843892179;Z3C=2066203372;C3C=2;for(var M3C=1;o233.D2C(M3C.toString(),M3C.toString().length,42851) !== P3C;M3C++){z8l=-_CIQ == ""?_CIQ:n8l.CIQ;C3C+=2;}if(o233.A2C(C3C.toString(),C3C.toString().length,34596) !== Z3C){z8l=-_CIQ == ""?_CIQ:n8l.CIQ;}z8l=typeof _CIQ !== Q64?_CIQ:n8l.CIQ;if(!z8l.Studies){console.error("prettyGoodOscillator feature requires first activating studies feature.");}else {l64="Pre";l64+="tty";l64+=" Good Oscill";l64+="ator";z8l.Studies.calculatePrettyGoodOscillator=function(K8l,N8l){var I64,H8l,X64,S64;I64="trueRa";I64+="n";I64+="ge";o233.z9u();H8l=N8l.chart.scrubbed;if(H8l.length < N8l.days + 1){N8l.error=! !{};return;}z8l.Studies.MA("exponential",N8l.days,I64,+"0","_EMA",K8l,N8l);z8l.Studies.MA("simple",N8l.days,"Close",0,"_SMA",K8l,N8l);for(var X8l=Math.max(+"1",N8l.startFrom);X8l < H8l.length;X8l++){X64="_SM";X64+="A ";S64="_S";S64+="M";S64+="A";S64+=" ";if(!H8l[X8l][S64 + N8l.name] || !H8l[X8l]["_EMA " + N8l.name])continue;H8l[X8l]["Result " + N8l.name]=(H8l[X8l].Close - H8l[X8l][X64 + N8l.name]) / H8l[X8l]["_EMA " + N8l.name];}};z8l.Studies.studyLibrary=z8l.extend(z8l.Studies.studyLibrary,{"Pretty Good":{name:l64,calculateFN:z8l.Studies.calculatePrettyGoodOscillator,parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:"auto"}}}});}};B9E=j8l=>{var F64,U8l,M64,z64,C64;F64="unde";F64+="f";F64+="ine";F64+="d";U8l=typeof _CIQ !== F64?_CIQ:j8l.CIQ;o233.Y9u();if(!U8l.Studies){console.error("priceMomentumOscillator feature requires first activating studies feature.");}else {M64="0.";M64+="05";z64="a";z64+="u";z64+="t";z64+="o";C64="au";C64+="to";U8l.Studies.calculatePMO=function(q5l,G8l){var k0u=o233;var Z64,P64,j64,u64,g64,b64,h64,g8l,s8l,a8l,E8l,V5l;Z64="P";Z64+="M";Z64+="O";P64="PMO";P64+="S";P64+="ignal";j64="PM";j64+="O ";u64="_";u64+="EMA";u64+="x10 ";g64="ex";g64+="p";g64+="one";g64+="ntial";b64="Cl";b64+="os";b64+="e";h64="S";h64+="mooth";h64+="in";h64+="g Period";k0u.Y9u();g8l={Smooth:Number(G8l.inputs[h64]) - 1,Double:Number(G8l.inputs["Double Smoothing Period"]) - 1,Signal:Number(G8l.inputs["Signal Period"])};s8l=G8l.chart.scrubbed;if(s8l.length < g8l.Smooth + g8l.Double){G8l.error=! !{};return;}a8l=G8l.inputs.Field;if(!a8l || a8l == "field"){a8l=b64;}for(E8l=G8l.startFrom;E8l < s8l.length;E8l++){if(!s8l[E8l])continue;if(!s8l[E8l - 1])continue;k0u.B1T(1);V5l=s8l[k0u.f1T(E8l,1)][a8l];if(V5l){k0u.v1T(88);var r5s=k0u.f1T(1,999,71,71);k0u.B1T(0);var H5s=k0u.n1T(0,1);s8l[E8l]["_ROCx10 " + G8l.name]=r5s * (s8l[E8l][a8l] / V5l - H5s);}}U8l.Studies.MA("exponential",g8l.Smooth,"_ROCx10 " + G8l.name,0,"_EMAx10",q5l,G8l);U8l.Studies.MA(g64,g8l.Double,u64 + G8l.name,0,"PMO",q5l,G8l);U8l.Studies.MA("exponential",g8l.Signal,j64 + G8l.name,"0" >> 56579648,P64,q5l,G8l);G8l.zoneOutput=Z64;};U8l.Studies.studyLibrary=U8l.extend(U8l.Studies.studyLibrary,{PMO:{name:"Price Momentum Oscillator",calculateFN:U8l.Studies.calculatePMO,inputs:{Field:"field","Smoothing Period":35,"Double Smoothing Period":20,"Signal Period":10},outputs:{PMO:C64,PMOSignal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:2.5,studyOverBoughtColor:"auto",studyOverSoldValue:-2.5,studyOverSoldColor:z64}},attributes:{studyOverBoughtValue:{min:0,step:"0.05"},studyOverSoldValue:{max:0,step:M64}}}});}};v9E=u5l=>{var m64,A5l,H4s,r4s,y4s,N4s,p4s,f4s,U4s,O4s;m64="undef";m64+="ined";A5l=typeof _CIQ !== m64?_CIQ:u5l.CIQ;if(!A5l.Studies){console.error("priceVolumeOscillator feature requires first activating studies feature.");}else {H4s="0";H4s+=".";H4s+="1";r4s="a";r4s+="u";r4s+="t";r4s+="o";y4s="a";y4s+="u";y4s+="to";N4s="v";N4s+="dm";N4s+="a";p4s="Percen";p4s+="t";f4s="Volume Osc";f4s+="illator";U4s="P";U4s+="e";U4s+="rcent";O4s="e";O4s+="m";O4s+="a";A5l.Studies.calculatePriceOscillator=function(v5l,L5l){var C0u=o233;var e64,d64,Q5l,B5l,S5l,l5l,P5l,R5l,r0C,H0C,v0C,J64,L64,f5l,x5l,w5l,G64,R64,E64,q64;e64="P";e64+="e";e64+="rcen";e64+="t";d64="Sh";d64+="ort Cycle";Q5l=L5l.chart.scrubbed;B5l=Number(L5l.inputs[d64]);S5l=Number(L5l.inputs["Long Cycle"]);if(Q5l.length < Math.max(B5l,S5l) + +"1"){L5l.error=! ![];return;}l5l=L5l.inputs.Field;P5l=L5l.inputs["Moving Average Type"];if(!P5l){P5l="simple";}if(!l5l || l5l == "field"){l5l="Close";}if(L5l.parameters.isVolume){l5l="Volume";P5l="exponential";}R5l=L5l.inputs["Points Or Percent"];r0C=+"1202786440";H0C=1612293774;v0C=2;for(var i0C=1;C0u.A2C(i0C.toString(),i0C.toString().length,26168) !== r0C;i0C++){if(~R5l){R5l="Percent";}A5l.Studies.MA(P5l,B5l,l5l,2,"Percent",v5l,L5l);A5l.Studies.MA(P5l,S5l,l5l,8,"Percent",v5l,L5l);v0C+=2;}if(C0u.D2C(v0C.toString(),v0C.toString().length,60512) !== H0C){if(!R5l){R5l="Percent";}A5l.Studies.MA(P5l,B5l,l5l,6,"Percent",v5l,L5l);A5l.Studies.MA(P5l,S5l,l5l,+"3","Percent",v5l,L5l);}if(!R5l){R5l=e64;}A5l.Studies.MA(P5l,B5l,l5l,0,"_Short MA",v5l,L5l);A5l.Studies.MA(P5l,S5l,l5l,0,"_Long MA",v5l,L5l);for(var b5l=Math.max(S5l,L5l.startFrom);b5l < Q5l.length;b5l++){J64="_";J64+="L";J64+="ong M";J64+="A ";L64="_Shor";L64+="t MA ";f5l=Q5l[b5l];if(!f5l)continue;x5l=f5l[L64 + L5l.name];w5l=f5l[J64 + L5l.name];if((x5l || x5l === 0) && (w5l || w5l === 0)){G64="Increasing B";G64+="ar";R64="R";R64+="esult ";E64="Re";E64+="s";E64+="ult ";if(R5l == "Points"){C0u.v1T(1);f5l[E64 + L5l.name]=C0u.f1T(x5l,w5l);}else {C0u.B1T(146);f5l[R64 + L5l.name]=C0u.f1T("100",w5l,690045376,x5l,0,"1");}if(L5l.outputs[G64]){q64="_";q64+="his";q64+="t";f5l[L5l.name + q64]=f5l["Result " + L5l.name];L5l.outputMap={};L5l.outputMap[L5l.name + "_hist"]="";}}}};A5l.Studies.displayRAVI=function(T5l,c5l,Y5l){var f0u=o233;var J5l,O5l,Z5l,o5l,d5l,t5l,W5l,o4s,x4s,c4s,m5l,e5l,k5l,i5l;J5l=T5l.panels[c5l.panel];O5l=c5l.getContext(T5l);Z5l=c5l.getYAxis(T5l);o5l=T5l.pixelFromPrice(0,J5l,Z5l);f0u.B1T(147);var v5s=f0u.n1T(19,36,17,2,4);d5l=T5l.layout.candleWidth - v5s;if(d5l < 2){d5l=1;}t5l=A5l.Studies.determineColor(c5l.outputs["Increasing Bar"]);W5l=A5l.Studies.determineColor(c5l.outputs["Decreasing Bar"]);T5l.startClip(c5l.panel);T5l.canvasColor("stx_histogram");if(!c5l.underlay){O5l.globalAlpha=1;}f0u.Y9u();if(!c5l.highlight && T5l.highlightedDraggable){O5l.globalAlpha*=0.3;}for(var I5l=0;I5l < Y5l.length;I5l++){o4s="_";o4s+="hist";x4s="_hi";x4s+="s";x4s+="t";c4s="_h";c4s+="is";c4s+="t";m5l=Y5l[I5l];f0u.v1T(25);e5l=Y5l[f0u.n1T("1",I5l,0)];if(!e5l){e5l=T5l.getPreviousBar(T5l.chart,c5l.name + c4s,I5l);}if(!m5l)continue;f0u.v1T(40);k5l=f0u.n1T(2129497120,"0");i5l=0;if(c5l.parameters && c5l.parameters.studyOverZonesEnabled){k5l=parseFloat(c5l.parameters.studyOverBoughtValue);i5l=parseFloat(c5l.parameters.studyOverSoldValue);}if(!e5l){O5l.fillStyle="#CCCCCC";}else if(m5l[c5l.name + "_hist"] > k5l && e5l[c5l.name + x4s] < m5l[c5l.name + "_hist"]){O5l.fillStyle=t5l;}else if(m5l[c5l.name + "_hist"] < i5l && e5l[c5l.name + "_hist"] > m5l[c5l.name + "_hist"]){O5l.fillStyle=W5l;}else {O5l.fillStyle="#CCCCCC";}if(m5l.candleWidth){d5l=Math.floor(Math.max(1,m5l.candleWidth - 2));}O5l.fillRect(Math.floor(T5l.pixelFromBar(I5l,J5l.chart) - d5l / 2),Math.floor(o5l),Math.floor(d5l),Math.floor(T5l.pixelFromPrice(m5l[c5l.name + o4s],J5l,Z5l) - o5l));}T5l.endClip();};A5l.Studies.studyLibrary=A5l.extend(A5l.Studies.studyLibrary,{"Price Osc":{name:"Price Oscillator",calculateFN:A5l.Studies.calculatePriceOscillator,inputs:{Field:"field","Short Cycle":12,"Long Cycle":26,"Moving Average Type":O4s,"Points Or Percent":["Points",U4s]}},"Vol Osc":{name:f4s,calculateFN:A5l.Studies.calculatePriceOscillator,inputs:{"Short Cycle":12,"Long Cycle":26,"Points Or Percent":["Points",p4s]},parameters:{init:{isVolume:! !{}}}},RAVI:{name:"RAVI",seriesFN:A5l.Studies.displayRAVI,calculateFN:A5l.Studies.calculatePriceOscillator,inputs:{Field:"field","Moving Average Type":N4s,"Short Cycle":"7" << 1645495712,"Long Cycle":65},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"},centerline:0,parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:3,studyOverBoughtColor:y4s,studyOverSoldValue:-("3" - 0),studyOverSoldColor:r4s}},attributes:{studyOverBoughtValue:{min:0,step:"0.1"},studyOverSoldValue:{max:0,step:H4s}}}});}};c9E=p5l=>{var D5l;D5l=typeof _CIQ !== "undefined"?_CIQ:p5l.CIQ;if(!D5l.Studies){console.error("primeNumber feature requires first activating studies feature.");}else {D5l.Studies.calculatePrimeNumber=function(j5l,C5l){var j0u=o233;var r5l,N5l,F5l,y5l,M5l,v4s,i4s,s4s,h5l,K5l,U5l;function z5l(G5l){var E5l;if(G5l <= +"0"){return !{};}else if(G5l != Math.floor(G5l)){return !"1";}else if(r5l[G5l] === ! !{} || r5l[G5l] === ! !""){return r5l[G5l];}E5l=parseInt(Math.sqrt(G5l),10);for(var s5l=2;s5l <= E5l;s5l++){if(G5l % s5l === "0" - 0){r5l[G5l]=! !0;return !{};}}r5l[G5l]=!"";return !0;}j0u.z9u();r5l=[];N5l=C5l.chart.scrubbed;for(var n5l=C5l.startFrom;n5l < N5l.length;n5l++){F5l=N5l[n5l];if(!F5l)continue;y5l=F5l.High;if(!isNaN(y5l)){for(var H5l=0;y5l > 0 && y5l <= 10;H5l++){y5l*=10;}if(z5l(y5l)){y5l+=2;}y5l=Math.ceil(y5l);if(y5l % 2 === 0){y5l++;}while(!z5l(y5l)){y5l+=2;}j0u.v1T(1);y5l/=Math.pow(j0u.f1T("10",0),H5l);}M5l=F5l.Low;if(!isNaN(M5l)){for(var X5l=0;M5l > "0" >> 1179695072 && M5l <= +"10";X5l++){M5l*=10;}if(z5l(M5l)){M5l-=2;}M5l=Math.floor(M5l);if(M5l % 2 === 0){M5l--;}if(M5l > 0){while(!z5l(M5l)){M5l-=2;}M5l/=Math.pow(10,X5l);}}if(C5l.type == "Prime Number Bands"){v4s="Prime";v4s+=" Ba";v4s+="nds Bottom ";if(!isNaN(y5l)){F5l["Prime Bands Top " + C5l.name]=y5l;}if(!isNaN(M5l)){F5l[v4s + C5l.name]=Math.max(0,M5l);}}else {i4s="Res";i4s+="ult ";s4s="T";s4s+="olerance Percen";s4s+="tage";h5l=0;j0u.B1T(28);var s5s=j0u.f1T(8,11,10,22,85);K5l=C5l.inputs[s4s] * (y5l - M5l) / s5s;j0u.B1T(2);var i5s=j0u.f1T(6,0,8);U5l=y5l + M5l - i5s * F5l.Close;if(U5l < K5l){h5l=1;}else if(U5l > K5l){h5l=-1;}if(h5l){F5l[i4s + C5l.name]=h5l;}}}};D5l.Studies.studyLibrary=D5l.extend(D5l.Studies.studyLibrary,{"Prime Number":{name:"Prime Number Oscillator",range:"-1 to 1",calculateFN:D5l.Studies.calculatePrimeNumber,centerline:0,inputs:{"Tolerance Percentage":5},attributes:{"Tolerance Percentage":{min:0.1,step:0.1}}},"Prime Number Bands":{name:"Prime Number Bands",overlay:! !1,calculateFN:D5l.Studies.calculatePrimeNumber,seriesFN:D5l.Studies.displayChannel,inputs:{"Channel Fill":! !{}},outputs:{"Prime Bands Top":"auto","Prime Bands Bottom":"auto","Prime Bands Channel":"auto"}}});}};T9E=a5l=>{var N9u=o233;var M2C,m2C,d2C,g5l,k4s,A9C,w9C,W9C,t4s,V4s,Y4s,T4s;M2C=- +"207518925";m2C=-450862453;d2C=2;for(var L2C=1;N9u.A2C(L2C.toString(),L2C.toString().length,46840) !== M2C;L2C++){g5l=-_CIQ == ""?_CIQ:a5l.CIQ;N9u.v1T(14);d2C+=N9u.f1T(2,"2");}N9u.z9u();if(N9u.D2C(d2C.toString(),d2C.toString().length,46219) !== m2C){g5l=typeof _CIQ !== "undefined"?_CIQ:a5l.CIQ;}if(!g5l.Studies){k4s="pring ";k4s+="feature require";k4s+="s first act";k4s+="ivating studies feature.";console.error(k4s);}else {g5l.Studies.calculateKST=function(x0l,q0l){var W4s,D4s,u0l,f0l,L0l,l0l,w0l,A0l,V0l,A4s,w4s,P0l;W4s="KS";W4s+="TSi";W4s+="gnal";D4s="Heavies";D4s+="t S";D4s+="MA";D4s+=" Period";u0l=q0l.chart.scrubbed;f0l=q0l.inputs.Field;N9u.z9u();if(!f0l || f0l == "field"){f0l="Close";}L0l={};l0l={};L0l[1]=Number(q0l.inputs["Lightest Rate of Change Period"]);L0l[2]=Number(q0l.inputs["Light Rate of Change Period"]);L0l[3]=Number(q0l.inputs["Heavy Rate of Change Period"]);L0l[+"4"]=Number(q0l.inputs["Heaviest Rate of Change Period"]);N9u.v1T(53);l0l[N9u.n1T("1",0)]=Number(q0l.inputs["Lightest SMA Period"]);l0l[2]=Number(q0l.inputs["Light SMA Period"]);l0l[3]=Number(q0l.inputs["Heavy SMA Period"]);l0l[4]=Number(q0l.inputs[D4s]);w0l=Number(q0l.inputs["Signal Period"]);for(A0l=q0l.startFrom;A0l < u0l.length;A0l++){if(!u0l[A0l])continue;for(V0l=1;V0l <= 4;V0l++){if(A0l >= L0l[V0l] && u0l[A0l - L0l[V0l]] && u0l[A0l - L0l[V0l]][f0l]){N9u.v1T(6);var k5s=N9u.n1T(7,12,4,5836);N9u.v1T(120);var D5s=N9u.f1T(180,15,300,157);N9u.B1T(56);var A5s=N9u.f1T(5469,4,338,342);N9u.v1T(28);var w5s=N9u.f1T(18,14,19,39,1163);N9u.B1T(1);var W5s=N9u.f1T(115,15);N9u.B1T(148);var K5s=N9u.f1T(3,4,3,11);u0l[A0l]["_ROC" + V0l + (k5s >= (837.55,D5s)?359.09 == A5s?w5s:" ":"T") + q0l.name]=W5s * (u0l[A0l][f0l] / u0l[A0l - L0l[V0l]][f0l] - K5s);}}}for(V0l="1" & 2147483647;V0l <= 4;V0l++){A4s="_";A4s+="S";A4s+="M";A4s+="A";g5l.Studies.MA("simple",l0l[V0l],"_ROC" + V0l + " " + q0l.name,0,A4s + V0l,x0l,q0l);}for(A0l=q0l.startFrom;A0l < u0l.length;A0l++){u0l[A0l]["KST " + q0l.name]=null;for(V0l=+"1";V0l <= 4;V0l++){w4s="K";w4s+="ST";w4s+=" ";N9u.v1T(30);var n5s=N9u.n1T(10,46880,5207);N9u.v1T(149);var t5s=N9u.f1T(4,5,10,5785,725);N9u.B1T(1);var T5s=N9u.n1T(161857,152336);N9u.v1T(150);var Y5s=N9u.n1T(833,8316,8320,14);N9u.B1T(151);var V5s=N9u.n1T(15,19,5474,5515,5515);N9u.v1T(30);var a5s=N9u.n1T(18,226005,12597);N9u.B1T(48);var B5s=N9u.f1T(3371550,169000,20,1);P0l=u0l[A0l]["_SMA" + V0l + ((n5s,184.75) == (789.83,t5s)?(336.89,T5s) !== 442.65?(Y5s,V5s) > a5s?B5s:"O":(![],! !""):" ") + q0l.name];if(P0l || P0l === 0){N9u.B1T(23);u0l[A0l][w4s + q0l.name]+=N9u.f1T(P0l,V0l);}}}g5l.Studies.MA("simple",w0l,"KST " + q0l.name,0,W4s,x0l,q0l);};g5l.Studies.calculateSpecialK=function(O0l,B0l){var K4s,R0l,v0l,b0l,c0l,T0l,S0l,Q0l,n4s,m0l;K4s="d";K4s+="ai";K4s+="ly";R0l=B0l.chart.scrubbed;v0l=B0l.inputs.Field;if(!v0l || v0l == "field"){v0l="Close";}b0l=B0l.inputs.Interval;if(!b0l){b0l=K4s;}c0l={daily:[10,15,20,30,50,65,75,100,"195" - 0,265,390,530],weekly:[4,5,6,8,10,13,15,20,39,52,78,104]};T0l={daily:[+"10",10,+"10",+"15","50" << 491852544,65,"75" ^ 0,100,+"130",130,130,+"195"],weekly:[4,"5" << 1115829472,6,8,10,13,+"15",20,+"26",26,+"26",39]};for(S0l=B0l.startFrom;S0l < R0l.length;S0l++){if(!R0l[S0l])continue;for(Q0l=0;Q0l < c0l[b0l].length;Q0l++){n4s="_";n4s+="R";n4s+="OC";if(S0l >= c0l[b0l][Q0l] && R0l[S0l - c0l[b0l][Q0l]] && R0l[S0l - c0l[b0l][Q0l]][v0l]){N9u.B1T(65);var Q5s=N9u.n1T(9,16,263,5,48);N9u.B1T(87);var I5s=N9u.f1T(3,3009,1997);N9u.v1T(152);var S5s=N9u.n1T(103252,13,7,8,1864);N9u.v1T(149);var X5s=N9u.f1T(7,20,20,6016,337);N9u.v1T(47);var l5s=N9u.n1T(23,119,4,1);N9u.v1T(118);var F5s=N9u.n1T(491142917,4,1473428724,1473428751);R0l[S0l][n4s + Q0l + ((Q5s,I5s) > 679.04?824.04 >= (788.86,+"589")?" ":(S5s,X5s):! ![]) + B0l.name]=l5s * (R0l[S0l][v0l] / R0l[S0l - c0l[b0l][Q0l]][v0l] - ("1" >> F5s));}}}for(Q0l="0" ^ 0;Q0l < T0l[b0l].length;Q0l++){g5l.Studies.MA(b0l == "daily"?"simple":"exponential",T0l[b0l][Q0l],"_ROC" + Q0l + ((6810,127.57) != 3612?" ":7640 == (3940,426.18)?"C":"625.77" - 0 > (7540,772.66)?(2.40e+3,268):(635.19,"R")) + B0l.name,0,"_MA" + Q0l,O0l,B0l);}for(S0l=B0l.startFrom;S0l < R0l.length;S0l++){R0l[S0l]["Result " + B0l.name]=null;for(Q0l=+"0";Q0l < T0l[b0l].length;Q0l++){N9u.v1T(153);var h5s=N9u.f1T(7450,9,7457,14900);N9u.v1T(34);var b5s=N9u.n1T(181073,20,9529,7,20);N9u.B1T(154);var g5s=N9u.f1T(9376,4,5,7,1);N9u.v1T(0);var u5s=N9u.f1T(1027314193,15);m0l=R0l[S0l]["_MA" + Q0l + ((+"759",982.2) < +"9690"?(h5s,b5s) >= (g5s,"473" >> u5s)?" ":("V",25.02):700.34) + B0l.name];if(m0l || m0l === ("0" | 0)){N9u.B1T(155);R0l[S0l]["Result " + B0l.name]+=N9u.n1T("4",m0l,1,Q0l);}}}};A9C=-1412912535;N9u.v1T(23);w9C=-N9u.n1T(1,"1648672150");W9C=2;for(var n9C=1;N9u.D2C(n9C.toString(),n9C.toString().length,49765) !== A9C;n9C++){t4s="f";t4s+="ie";t4s+="ld";g5l.Studies.studyLibrary=g5l.extend(g5l.Studies.studyLibrary,{"Pring KST":{name:"Pring's Know Sure Thing",calculateFN:g5l.Studies.calculateKST,inputs:{Field:"field","Lightest Rate of Change Period":10,"Lightest SMA Period":10,"Light Rate of Change Period":15,"Light SMA Period":10,"Heavy Rate of Change Period":20,"Heavy SMA Period":+"10","Heaviest Rate of Change Period":+"30","Heaviest SMA Period":15,"Signal Period":+"9"},outputs:{KST:"#00DD00",KSTSignal:"#FF0000"}},"Pring Sp-K":{name:"Pring's Special K",calculateFN:g5l.Studies.calculateSpecialK,inputs:{Field:t4s,Interval:["daily","weekly"]}}});W9C+=+"2";}if(N9u.A2C(W9C.toString(),W9C.toString().length,51335) !== w9C){V4s="Pri";V4s+="ng ";V4s+="K";V4s+="ST";Y4s="#";Y4s+="FF";Y4s+="00";Y4s+="00";T4s="Light";T4s+=" Rate of Ch";T4s+="ange Per";T4s+="iod";g5l.Studies.studyLibrary=g5l.extend(g5l.Studies.studyLibrary,{"Pring KST":{name:"Pring's Special K",calculateFN:g5l.Studies.calculateKST,inputs:{Field:T4s,"Lightest Rate of Change Period":67,"Lightest SMA Period":50,"Light Rate of Change Period":41,"Light SMA Period":35,"Heavy Rate of Change Period":62,"Heavy SMA Period":58,"Heaviest Rate of Change Period":"53" << 930500224,"Heaviest SMA Period":81,"Signal Period":10},outputs:{KST:Y4s,KSTSignal:"field"}},"Pring Sp-K":{name:"Light Rate of Change Period",calculateFN:g5l.Studies.calculateSpecialK,inputs:{Field:V4s,Interval:["Heaviest Rate of Change Period","Light Rate of Change Period"]}}});}}};m9E=d0l=>{var I0l,e0l,C4s,Z4s,P4s,j4s,u4s,g4s,b4s,h4s,F4s;I0l=typeof _CIQ !== "undefined"?_CIQ:d0l.CIQ;e0l=typeof _timezoneJS !== "undefined"?_timezoneJS:d0l.timezoneJS;if(!I0l.Studies){console.error("projectedVolume feature requires first activating studies feature.");}else if(!I0l.Studies.studyLibrary.PVAT){C4s="ste";C4s+="p";Z4s="#fe";Z4s+="6";Z4s+="41c";P4s="#8cc1";P4s+="76";j4s="-12";j4s+="5%";u4s="-25";u4s+="%";g4s="+5";g4s+="0";g4s+="%";b4s="+";b4s+="10";b4s+="0";b4s+="%";h4s="+1";h4s+="2";h4s+="5";h4s+="%";F4s="0";F4s+=" to m";F4s+="ax";I0l.Studies.initProjectedVolume=function(Z0l,i0l,Y0l,t0l,W0l,D0l){var J0l,k0l;var {market:o0l}=Z0l.chart;J0l="00:";o233.z9u();J0l+="00";if(o0l){J0l=o0l.getNormalOpen();}if(J0l.match(/^[\d]{2}:[\d]{2}$/)){J0l+=":00";}if(!Y0l["Anchor Time"] || !Y0l["Anchor Time"].length){Y0l["Anchor Time"]=J0l;}k0l=I0l.Studies.initializeFN(Z0l,i0l,Y0l,t0l,W0l,D0l);if(!Z0l.currentlyImporting){k0l.defaultAnchorTime=J0l;}return k0l;};I0l.Studies.validateProjectedVolumeLookback=function(F0l,C0l){var {interval:p0l, periodicity:M0l}=F0l.layout;o233.Y9u();var {"Lookback Days":y0l}=C0l.inputs;o233.B1T(156);return o233.f1T(y0l,p0l,M0l,10);};I0l.Studies.calculateProjectedVolume=function(z0l,r0l){var v0u=o233;var Q4s,a4s,t7l,G0l,s0l,D7l,p7l,v7l,c7l,n0l,T7l,V9F,N0l,m7l,O7l,M7l,I7l,E0l,d7l,A9F,j0l,u9F,l7l,H0l,Q7l,K0l,V7l,F7l,C7l,r7l,h7l,J7l,Y7l,b7l,l9F,z7l,B4s,A7l,u7l,B7l,P9F,Z7l,X0l,n7l,N7l,o7l,H7l,P7l;Q4s="Ave";Q4s+="ra";Q4s+="ge Li";Q4s+="ne";a4s=":0";a4s+="0";var {interval:G7l, timeUnit:k7l, aggregationType:i7l}=z0l.layout;function X7l(b9F){v0u.Y9u();console.error(`Expected data for ${j7l(b9F).toDateString()} but found none. This may be caused by gaps in your data or an improperly configured market definition.`);}var {symbol:s7l, scroll:E7l, scrubbed:h0l, market:U0l}=z0l.chart;function K7l(v9F,c9F,T9F){while(c9F){v9F=new Date(new Date(v9F).setDate(v9F.getDate() + (T9F?1:-1)));if(U0l.isMarketDate(v9F)){c9F--;}}return v9F;}t7l=r0l.type === "PAV";G0l=r0l.study?r0l.study.name:r0l.type;if(I0l.ChartEngine.isDailyInterval(G7l)){r0l.error=`${G0l} is Intraday Only`;}else if(k7l === "tick"){r0l.error=`Tick mode not supported for ${G0l}`;}else if(k7l !== "minute"){r0l.error=`Sub-minute periodicities not supported for ${G0l}`;}else if(!i7l || !["ohlc","heikinashi"].includes(i7l)){r0l.error=`Aggregation type not supported for ${G0l}`;}else if(!I0l.Studies.validateProjectedVolumeLookback(z0l,r0l)){r0l.error=`Selected lookback/periodicity combo not supported for ${G0l}`;}if(r0l.error){return;}if(r0l.inputs["Anchor Selector"]){I0l.Studies.initAnchorHandle(z0l,r0l);}else {I0l.Studies.removeAnchorHandle(z0l,r0l);}s0l=U0l?U0l.getNormalOpen():"00:00";if(s0l.match(/^[\d]{2}:[\d]{2}$/)){s0l+=a4s;}if(!z0l.currentlyImporting){if(!r0l.defaultAnchorTime){r0l.defaultAnchorTime=s0l;}else if(s0l !== r0l.defaultAnchorTime){r0l.defaultAnchorTime=s0l;r0l.inputs["Anchor Time"]=s0l;I0l.Studies.repositionAnchor(z0l,r0l);return;}}var {"Lookback Days":w7l, "Anchor Time":g7l}=r0l.inputs;var [a7l,q9F,W7l = +"0"]=g7l.split(5850 >= 1919?":":720.82 <= 545.39?("T",0xcee):8.40e+1);D7l=I0l.getFn("Market.Symbology.isForexSymbol")(s7l);p7l=r0l.getDependents(z0l);v7l=0;c7l=[];p7l.forEach(({inputs:w9F, outputMap:Q9F})=>{if(w9F.Period){v7l=Math.max(parseInt(w9F.Period),v7l);c7l.push(...Object.keys(Q9F));}});r0l.dependentsOutputMap=c7l;function x9F(I9F){var d9F;v0u.Y9u();I9F.setHours(0);I9F.setMinutes(0);d9F=I0l.Studies.getMarketOffset({stx:z0l,localQuoteDate:I9F});return new Date(I9F.getTime() + d9F);}T7l=x7l(h0l.length - 1,! ![]);V9F=Math.ceil(h0l.length - 1 - E7l);v0u.B1T(1);N0l=x7l(v0u.n1T(V9F,v7l));function U7l(m9F){v0u.z9u();return z0l.tickFromDate(m9F,null,null,! !1,"scrubbed");}function x7l(Z9F,o9F){var J9F,Y9F,e9F;J9F=j7l(Z9F);Y9F=U0l.getOpen(J9F) || x9F(J9F);e9F=U7l(Y9F);if(!o9F){return e9F;}if(e9F < 0){e9F=U7l(K7l(Y9F,1,! !"1"));}if(e9F >= h0l.length){return !1;}return e9F;}if(D7l && h0l[N0l] && I0l.dateToStr(h0l[N0l].DT,"HH:mm") !== s0l){v0u.v1T(1);N0l=x7l(v0u.n1T(N0l,1));;}if(!D7l && r0l.startFrom > N0l && h0l[N0l] && h0l[N0l]["V " + r0l.name] !== undefined && c7l.every(S9F=>{return ![undefined,null].includes(h0l[N0l][S9F]);}) && T7l !== ![]){n0l=T7l;;}else {n0l=N0l;}function j7l(O9F){v0u.z9u();var I4s;I4s="s";I4s+="cru";I4s+="bbed";return z0l.dateFromTick(O9F,null,! !1,I4s);}m7l=K7l(j7l(N0l),w7l);m7l.setHours(0,0,0);O7l=x7l(0,! ![]);M7l=(O7l || O7l === +"0") && U7l(K7l(h0l[O7l].DT,w7l,! ![]));if(h0l[0].DT > m7l){if(z0l.quoteDriver){z0l.quoteDriver.extendHistoricalData({from:m7l});if(M7l > 0){n0l=M7l;}else {return;}}else {return r0l.error=`Not enough data to calculate ${G0l}`;}}if(n0l < 0 || n0l > h0l.length - ("1" >> 629417120)){return;}I7l=h0l.length - r0l.startFrom === 1 && r0l.cachedFutureTicks && r0l.cachedLastProjection && +r0l.cachedLastProjection.DT === +h0l[h0l.length - +"1"].DT && h0l[n0l]["PV " + r0l.name];function L7l(B9F){return {hours:B9F.getHours(),minutes:B9F.getMinutes()};}if(I7l){v0u.v1T(20);var j5s=v0u.n1T(10,1,0,29,18);h0l[h0l.length - j5s]["PV " + r0l.name]=r0l.cachedLastProjection.projectedValue;r0l.appendFutureTicks(z0l,r0l.cachedFutureTicks);n0l=r0l.startFrom;}else {r0l.cachedFutureTicks=null;r0l.cachedLastProjection=null;E0l=[T7l];d7l=[];for(var y7l=0;y7l < w7l;y7l++){A9F=x7l(E0l[0] - 1);E0l.unshift(A9F);;}while(E0l[w7l] >= n0l){j0l=E0l.pop();if(!h0l[j0l]){return X7l(j0l);}u9F=L7l(h0l[j0l].DT);var {hours:g0l, minutes:f7l}=u9F;l7l=U0l.getClose(h0l[j0l].DT);H0l=void 0;if(!l7l){H0l={hours:24,minutes:0};}else {Q7l=U0l.getNextClose(h0l[j0l].DT);H0l=L7l(l7l);while(!(H0l.hours === 0 && H0l.minutes === "0" * 1) && l7l.getDate() === Q7l.getDate()){l7l=Q7l;Q7l=U0l.getNextClose(Q7l);}H0l=L7l(l7l);if(H0l.hours === 0){H0l.hours=24;}}K0l=E0l.slice();for(var S7l=0;S7l < K0l.length;S7l++){V7l=K0l[S7l];if(!h0l[V7l]){return X7l(V7l);}var {hours:R7l, minutes:e7l}=L7l(h0l[V7l].DT);if(R7l < g0l || R7l === g0l && e7l < f7l){do {V7l++;({hours:R7l, minutes:e7l}=L7l(h0l[V7l].DT));}while(!(R7l === g0l && e7l === f7l));}K0l[S7l]=V7l;}while(g0l < H0l.hours || g0l === H0l.hours && f7l < H0l.minutes){F7l=!"1";C7l=void 0;r7l=void 0;h7l=0;J7l=0;for(var a0l=0;a0l < K0l.length;a0l++){Y7l=K0l[a0l];if(Y7l === null)continue;b7l=h0l[Y7l];if(!b7l){return X7l(Y7l);}var {hours:L9F, minutes:f9F}=L7l(b7l.DT);l9F=b7l.DT.getDate();if(L9F === g0l && f9F === f7l){h7l+=b7l.Volume;J7l++;K0l[a0l]++;if(h0l[K0l[a0l]].DT.getDate() !== l9F){K0l[a0l]=null;}else if(!F7l){({hours:C7l, minutes:r7l}=L7l(h0l[K0l[a0l]].DT));F7l=! !1;;}}}g0l=C7l;f7l=r7l;if(J7l === 0)break;v0u.v1T(9);z7l=v0u.f1T(J7l,h7l);if(h0l[j0l]){B4s="P";B4s+="V";B4s+=" ";h0l[j0l][B4s + r0l.name]=z7l;}else {d7l.push({["PV " + r0l.name]:z7l});}j0l++;}E0l.unshift(x7l(E0l[0] - 1));;}r0l.cachedLastProjection={DT:h0l[h0l.length - 1].DT,projectedValue:h0l[h0l.length - 1]["PV " + r0l.name]};r0l.cachedFutureTicks=d7l;r0l.appendFutureTicks(z0l,d7l);}A7l=null;u7l=0;B7l=0;if(I7l && t7l){while(n0l > 0){v0u.v1T(1);Z7l=h0l[v0u.n1T(n0l,1)]["V " + r0l.name];if(Z7l || Z7l === "0" >> 858766720){u7l=Z7l;break;}n0l--;}}for(var q7l=n0l;q7l < h0l.length;q7l++){X0l=h0l[q7l];n7l=X0l.Volume;N7l=X0l["PV " + r0l.name];if(!X0l.futureTick){P9F=q7l;}if(A7l === null){A7l=I0l.Studies.getMarketOffset({stx:z0l,localQuoteDate:h0l[q7l].DT,shiftToDateBoundary:! ![]});}o7l=new Date(new Date(X0l.DT).getTime() + A7l);H7l=h0l[q7l - "1" * 1] && new Date(new Date(h0l[q7l - +"1"].DT).getTime() + A7l);P7l=new e0l.Date(X0l.DT,U0l.market_def.market_tz || "America/New_York");P7l.setHours(a7l,q9F,W7l);v0u.B1T(0);P7l=new Date(v0u.f1T(P7l,A7l));P7l.setDate(o7l.getDate());if(H7l && o7l.getDate() !== H7l.getDate()){A7l=null;u7l=0;B7l=0;}if(o7l < P7l){X0l["V " + r0l.name]=+"0";X0l["PV " + r0l.name]=0;continue;}if(t7l){u7l+=n7l;B7l+=N7l;}else {u7l=n7l;B7l=N7l;}X0l["V " + r0l.name]=u7l;if(!I7l){X0l["PV " + r0l.name]=B7l;}if([NaN,null,undefined].includes(u7l) && !X0l.futureTick){r0l.error=`${G0l} requires volume`;return;}}r0l.cachedLastProjection.projectedValue=h0l[P9F]["PV " + r0l.name];r0l.outputMap={};r0l.outputMap["V " + r0l.name]="";r0l.outputMap["PV " + r0l.name]=Q4s;p7l.forEach(R9F=>{var u9C,j9C,P9C;u9C=-1558480997;v0u.B1T(40);j9C=-v0u.f1T(1554798816,"1876334947");P9C=2;for(var C9C=1;v0u.D2C(C9C.toString(),C9C.toString().length,63287) !== u9C;C9C++){R9F.startFrom=n0l;R9F.study.calculateFN(z0l,R9F);P9C+=2;}if(v0u.A2C(P9C.toString(),P9C.toString().length,16260) !== j9C){R9F.startFrom=n0l;R9F.study.calculateFN(z0l,R9F);}});};I0l.Studies.displayProjectedVolume=function(i9F,k9F,t9F){var P0u=o233;var l4s,X4s,S4s,p9F,W9F,M9F,y9F,F9F,r9F,h9F;l4s="stx_volume_und";l4s+="erlay_";l4s+="up";X4s="V";X4s+=" ";S4s="Al";S4s+="er";S4s+="t Bar";if(k9F.error){return I0l.Studies.removeAnchorHandle(i9F,k9F);}var {"Alert Threshold":D9F = ""}=k9F.inputs;P0u.v1T(1);var P5s=P0u.n1T(0,1);P0u.B1T(47);var Z5s=P0u.n1T(13,1,20,1);P0u.v1T(34);var C5s=P0u.n1T(1157,8,115,16,11);p9F=parseInt(D9F.slice(0,P5s),"10" | Z5s) / C5s;W9F=k9F.outputs[S4s];if(typeof W9F === "object"){W9F=W9F.color;}k9F.volumeField=X4s + k9F.name;k9F.alignStepToSide=!"";k9F.extendToEndOfLastBar=! !{};k9F.lineWidth=2;M9F=i9F.canvasStyle(l4s).opacity;y9F=i9F.canvasStyle("stx_volume_underlay_down").opacity;k9F.colorFunction=function(n9F){var G9F,z9F,s9F,N9F,H9F,X9F;var {Open:K9F, Close:U9F, iqPrevClose:j9F}=n9F;G9F=i9F.colorByCandleDirection?K9F:j9F;P0u.B1T(157);z9F=P0u.f1T(U9F,G9F);s9F=n9F["PV " + k9F.name];N9F=n9F["V " + k9F.name];P0u.v1T(158);H9F=P0u.f1T(1,p9F,s9F);X9F=p9F < 0?N9F < H9F:N9F > H9F;return {fill_color:X9F && W9F || (z9F?this.fill_color_down:this.fill_color_up),border_color:z9F?this.border_color_down:this.border_color_up,opacity:X9F?1:z9F?y9F:M9F,border_opacity:z9F?y9F:M9F};};F9F=k9F.study?k9F.study.name:k9F.type;var {loadingMore:C9F}=i9F.chart;r9F=t9F.some(E9F=>{return E9F && E9F[k9F.volumeField] && E9F["PV " + k9F.name];});h9F=t9F[0] && !t9F[0].futureTick && (t9F[0]["PV " + k9F.name] === undefined || (k9F.dependentsOutputMap || []).some(g9F=>{return [undefined,null].includes(t9F[0][g9F]);}));if(!r9F && C9F){return k9F.error=`Fetching data for ${F9F}`;}I0l.Studies.createVolumeChart(i9F,k9F,t9F);I0l.Studies.displaySeriesAsLine(i9F,k9F,t9F);if(k9F.anchorHandle){I0l.Studies.displayAnchorHandleAndLine(i9F,k9F,t9F);}if(h9F){I0l.Studies.calculateProjectedVolume(i9F,k9F);}};I0l.Studies.studyLibrary=I0l.extend(I0l.Studies.studyLibrary,{PVAT:{name:"Projected Volume at Time",range:F4s,yAxis:{ground:! !{},initialMarginTop:0,zoom:"0" | 0},calculateFN:I0l.Studies.calculateProjectedVolume,seriesFN:I0l.Studies.displayProjectedVolume,initializeFN:I0l.Studies.initProjectedVolume,removeFN:I0l.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Alert Threshold":["+150%",h4s,b4s,"+75%",g4s,"+25%","None",u4s,"-50%","-75%","-100%",j4s,"-150%"],"Anchor Selector":!""},outputs:{"Average Line":"#fe641c","Alert Bar":"#cfbd0e","Up Volume":P4s,"Down Volume":"#b82c0c"},parameters:{plotType:"step"},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:+"1"},"Alert Threshold":{defaultSelected:"+50%"}}},PAV:{name:"Projected Aggregate Volume",range:"0 to max",yAxis:{ground:! !"1",initialMarginTop:0,zoom:+"0"},calculateFN:I0l.Studies.calculateProjectedVolume,seriesFN:I0l.Studies.displayProjectedVolume,initializeFN:I0l.Studies.initProjectedVolume,removeFN:I0l.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Anchor Selector":! !"1"},outputs:{"Average Line":Z4s,"Up Volume":"#8cc176","Down Volume":"#b82c0c"},parameters:{plotType:C4s},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:"1" & 2147483647}}}});}};O9E=q2F=>{var a9F,z4s,m4s,M4s;a9F=typeof _CIQ !== "undefined"?_CIQ:q2F.CIQ;if(!a9F.Studies){z4s="psychologicalLine feature requires first activating s";z4s+="tudies feature.";console.error(z4s);}else {m4s="0 t";m4s+="o";m4s+=" ";m4s+="100";M4s="Ps";M4s+="ycholog";M4s+="ical Line";a9F.Studies.calculatePsychologicalLine=function(x2F,V2F){var u2F,L2F,l2F,f2F,P2F;u2F=V2F.chart.scrubbed;if(u2F.length < V2F.days + +"1"){V2F.error=! !{};return;}L2F=[];o233.B1T(159);var z5s=o233.n1T(16,81,1360,12,11);l2F=z5s / V2F.days;f2F=0;for(var A2F=Math.max(V2F.startFrom - V2F.days,+"1");A2F < u2F.length;A2F++){if(u2F[A2F].futureTick)break;P2F=Number(u2F[A2F].Close > u2F[A2F - +"1"].Close);if(P2F){f2F+=l2F;}L2F.push(P2F);if(L2F.length > V2F.days){f2F-=L2F.shift() * l2F;}if(A2F < V2F.startFrom)continue;if(!isNaN(u2F[A2F].Close)){u2F[A2F]["Result " + V2F.name]=f2F;}}};a9F.Studies.studyLibrary=a9F.extend(a9F.Studies.studyLibrary,{PSY:{name:M4s,range:m4s,calculateFN:a9F.Studies.calculatePsychologicalLine,inputs:{Period:20}}});}};I9E=Q2F=>{var d0C,e0C,L0C,w2F,d4s,L4s;d0C=-1550706442;o233.Y9u();e0C=787101676;L0C=2;for(var E0C=1;o233.D2C(E0C.toString(),E0C.toString().length,19764) !== d0C;E0C++){w2F=-_CIQ == ""?_CIQ:Q2F.CIQ;L0C+=2;}if(o233.A2C(L0C.toString(),L0C.toString().length,"20454" ^ 0) !== e0C){w2F=-_CIQ == ""?_CIQ:Q2F.CIQ;}w2F=typeof _CIQ !== "undefined"?_CIQ:Q2F.CIQ;if(!w2F.Studies){d4s="qstick feature requires first activating studies f";d4s+="eature.";console.error(d4s);}else {L4s="m";L4s+="a";w2F.Studies.calculateQStick=function(B2F,S2F){var e4s,R2F,m3C,d3C,e3C;e4s="Moving Av";o233.z9u();e4s+="erage Type";R2F=S2F.chart.scrubbed;if(R2F.length < S2F.days + ("1" - 0)){m3C=-612063895;d3C=-790028962;e3C=2;for(var J3C=1;o233.A2C(J3C.toString(),J3C.toString().length,1511) !== m3C;J3C++){S2F.error=! !1;e3C+=2;}if(o233.D2C(e3C.toString(),e3C.toString().length,29027) !== d3C){S2F.error=! !0;}return;}for(var b2F=S2F.startFrom;b2F < R2F.length;b2F++){R2F[b2F]["_Close-Open " + S2F.name]=R2F[b2F].Close - R2F[b2F].Open;}w2F.Studies.MA(S2F.inputs[e4s],S2F.days,"_Close-Open " + S2F.name,0,"Result",B2F,S2F);};w2F.Studies.studyLibrary=w2F.extend(w2F.Studies.studyLibrary,{QStick:{name:"QStick",calculateFN:w2F.Studies.calculateQStick,inputs:{Period:8,"Moving Average Type":L4s}}});}};d9E=c2F=>{var v2F,y2s,N2s,p2s,f2s,U2s;v2F=typeof _CIQ !== "undefined"?_CIQ:c2F.CIQ;if(!v2F.Studies){console.error("rainbow feature requires first activating studies feature.");}else {y2s="#0";y2s+="0";y2s+="DD00";N2s="R";N2s+="ainbow ";N2s+="Osc";N2s+="illator";p2s="#";p2s+="0";p2s+="0";p2s+="FFFF";f2s="#00";f2s+="FF7";f2s+="F";U2s="f";U2s+="i";U2s+="e";U2s+="ld";v2F.Studies.calculateRainbow=function(t2F,T2F){var W5u=o233;var E4s,J4s,k0C,D0C,A0C,m2F,d2F,k2F,R4s,i2F,Y2F,Z2F,o2F,e2F,J2F,q4s,G4s,c2s;E4s="Clos";E4s+="e";J4s="f";J4s+="i";J4s+="eld";k0C=-1021820393;D0C=+"435972318";A0C=2;for(var W0C=+"1";W5u.D2C(W0C.toString(),W0C.toString().length,4400) !== k0C;W0C++){m2F=T2F.chart.scrubbed;A0C+=2;}if(W5u.A2C(A0C.toString(),A0C.toString().length,31293) !== D0C){m2F=T2F.chart.scrubbed;}if(m2F.length < T2F.days + 1){T2F.error=! !{};return;}function W2F(F2F,y2F){var p2F,M2F;p2F=Number.MAX_VALUE * -("1" - 0);M2F=Number.MAX_VALUE;for(var D2F=y2F - F2F + ("1" - 0);D2F <= y2F;D2F++){if(D2F < 0)continue;p2F=Math.max(p2F,m2F[D2F].Close);M2F=Math.min(M2F,m2F[D2F].Close);}return [M2F,p2F];}d2F=T2F.inputs.Field;if(!d2F || d2F == J4s){d2F=E4s;}k2F=d2F;for(var I2F=1;I2F <= 10;I2F++){R4s="S";R4s+="MA";v2F.Studies.MA("simple",T2F.days,k2F,0,R4s + I2F,t2F,T2F);W5u.v1T(160);var M5s=W5u.f1T(2299,15,41652,6);W5u.v1T(124);var m5s=W5u.n1T(77236112,14,1313013886,20,16);k2F="SMA" + I2F + ("8816" - 0 > (M5s,"8355" << m5s)?" ":!0) + T2F.name;}for(var O2F=Math.max(T2F.startFrom,10);O2F < m2F.length;O2F++){if(!m2F[O2F])continue;if(m2F[O2F].futureTick)break;i2F=0;Y2F=0;W5u.B1T(71);var d5s=W5u.n1T(1,3,2);Z2F=Number.MAX_VALUE * d5s;o2F=Number.MAX_VALUE;for(I2F="1" << 800417920;I2F <= 10;I2F++){e2F=m2F[O2F]["SMA" + I2F + " " + T2F.name];if(e2F || e2F === 0){i2F+=e2F;Y2F++;Z2F=Math.max(Z2F,e2F);o2F=Math.min(o2F,e2F);}}if(T2F.name.indexOf("Osc") > -1){J2F=W2F(T2F.inputs["HHV/LLV Lookback"],O2F);if(Y2F){q4s="Zer";q4s+="o";q4s+=" ";G4s="Unde";G4s+="r ";W5u.B1T(72);var e5s=W5u.f1T(5306,300,17,9,9);W5u.B1T(161);var L5s=W5u.n1T(2,9,0,8,2);m2F[O2F][T2F.name + "_hist"]=e5s * (m2F[O2F][d2F] - i2F / Y2F) / Math.max(0.000001,J2F[L5s] - J2F[0]);W5u.v1T(162);var J5s=W5u.n1T(6,1400,4,8276);W5u.v1T(62);var E5s=W5u.f1T(2,5,4,1,4);m2F[O2F]["Over " + T2F.name]=J5s * (Z2F - o2F) / Math.max(0.000001,J2F[E5s] - J2F[0]);m2F[O2F][G4s + T2F.name]=-m2F[O2F]["Over " + T2F.name];W5u.v1T(40);m2F[O2F][q4s + T2F.name]=W5u.f1T(1647604416,"0");}}}if(T2F.name.indexOf("Osc") > -1){c2s="U";c2s+="nd";c2s+="e";c2s+="r ";T2F.outputMap={};T2F.outputMap["Over " + T2F.name]="Positive Bar";T2F.outputMap[c2s + T2F.name]="Negative Bar";T2F.outputMap["Zero " + T2F.name]="";T2F.outputMap[T2F.name + "_hist"]="";}};v2F.Studies.displayRainbowMA=function(h2F,r2F,n2F){var z2F,x2s;z2F=h2F.panels[r2F.panel];for(var C2F=10;C2F > 0;C2F--){x2s="S";x2s+="M";x2s+="A";v2F.Studies.displayIndividualSeriesAsLine(h2F,r2F,z2F,x2s + C2F + (("1420" ^ 0,5970) > (8020,+"6530")?(948,4.87e+3):(4172,6739) > (+"9330",657.79)?("121" ^ 0) < 5310?" ":0x1b3:"F") + r2F.name,n2F);}};v2F.Studies.displayRainbowOsc=function(H2F,N2F,u1F){var m5u=o233;var O2s,o2s,U2F,K2F,X2F,s2F,E2F,a2F,q1F,V1F,A1F,G2F,j2F;O2s="#CCCCC";O2s+="C";o2s="Ne";o2s+="gative";o2s+=" ";o2s+="Bar";v2F.Studies.displaySeriesAsLine(H2F,N2F,u1F);U2F=H2F.panels[N2F.panel];K2F=N2F.getContext(H2F);X2F=N2F.getYAxis(H2F);H2F.startClip(N2F.panel);if(!N2F.highlight && H2F.highlightedDraggable){K2F.globalAlpha*=0.3;}m5u.B1T(23);s2F=H2F.pixelFromPrice(m5u.n1T(1,"0"),U2F,X2F);E2F=U2F.name != N2F.chart.name;a2F=v2F.Studies.determineColor(N2F.outputs["Positive Bar"]);K2F.strokeStyle=a2F;H2F.plotDataSegmentAsLine("Over " + N2F.name,U2F,{skipTransform:E2F,label:!"1",yAxis:X2F});q1F=K2F.createLinearGradient(0,s2F,0,X2F.flipped?X2F.bottom:X2F.top);q1F.addColorStop(0,H2F.containerColor);m5u.B1T(53);q1F.addColorStop(m5u.n1T("1",0),a2F);v2F.prepareChannelFill(H2F,{skipTransform:E2F,color:q1F,opacity:!N2F.highlight && H2F.highlightedDraggable?0.3:+"1",panelName:N2F.panel,topBand:"Over " + N2F.name,bottomBand:"Zero " + N2F.name,yAxis:X2F});V1F=v2F.Studies.determineColor(N2F.outputs[o2s]);K2F.strokeStyle=V1F;H2F.plotDataSegmentAsLine("Under " + N2F.name,U2F,{skipTransform:E2F,label:! !0,yAxis:X2F});A1F=K2F.createLinearGradient(+"0",s2F,0,X2F.flipped?X2F.top:X2F.bottom);A1F.addColorStop(0,H2F.containerColor);A1F.addColorStop(+"1",V1F);v2F.prepareChannelFill(H2F,{skipTransform:E2F,color:A1F,opacity:!N2F.highlight && H2F.highlightedDraggable?0.3:1,panelName:N2F.panel,topBand:"Zero " + N2F.name,bottomBand:"Under " + N2F.name,yAxis:X2F});m5u.B1T(47);var R5s=m5u.n1T(12,26,13,26);G2F=H2F.layout.candleWidth - R5s;if(G2F < 2){G2F=1;}H2F.canvasColor("stx_histogram");if(!N2F.underlay){K2F.globalAlpha=1;}if(!N2F.highlight && H2F.highlightedDraggable){m5u.v1T(23);K2F.globalAlpha*=m5u.n1T(1,"0.3");}K2F.fillStyle=O2s;for(var g2F=0;g2F < u1F.length;g2F++){j2F=u1F[g2F];if(!j2F)continue;if(j2F[N2F.name + "_hist"] > 0){K2F.fillStyle=a2F;}else if(j2F[N2F.name + "_hist"] < +"0"){K2F.fillStyle=V1F;}if(j2F.candleWidth){G2F=Math.floor(Math.max(1,j2F.candleWidth - ("2" - 0)));}K2F.fillRect(Math.floor(H2F.pixelFromBar(g2F,U2F.chart) - G2F / ("2" | 2)),Math.floor(s2F),Math.floor(G2F),Math.floor(H2F.pixelFromPrice(j2F[N2F.name + "_hist"],U2F,X2F) - s2F));}H2F.endClip();};v2F.Studies.studyLibrary=v2F.extend(v2F.Studies.studyLibrary,{"Rainbow MA":{name:"Rainbow Moving Average",overlay:! ![],calculateFN:v2F.Studies.calculateRainbow,seriesFN:v2F.Studies.displayRainbowMA,inputs:{Period:+"2",Field:U2s},outputs:{SMA1:"#FF0000",SMA2:"#FF7F00",SMA3:"#FFFF00",SMA4:"#7FFF00",SMA5:f2s,SMA6:p2s,SMA7:"#007FFF",SMA8:"#0000FF",SMA9:"#7F00FF",SMA10:"#FF00FF"}},"Rainbow Osc":{name:N2s,calculateFN:v2F.Studies.calculateRainbow,seriesFN:v2F.Studies.displayRainbowOsc,centerline:0,inputs:{Period:2,Field:"field","HHV/LLV Lookback":10},outputs:{"Positive Bar":y2s,"Negative Bar":"#FF0000"}}});}};e9E=f1F=>{var L1F,H2s;o233.Y9u();L1F=typeof _CIQ !== "undefined"?_CIQ:f1F.CIQ;if(!L1F.Studies){console.error("randomWalk feature requires first activating studies feature.");}else {H2s="#";H2s+="0";H2s+="000";H2s+="FF";L1F.Studies.calculateRandomWalk=function(m1F,w1F){var P1F,b1F,B1F,v1F,Q1F,S1F,R1F,c1F,T1F,r2s;P1F=w1F.chart.scrubbed;if(P1F.length < w1F.days + +"1"){w1F.error=! ![];return;}for(var l1F=Math.max(2,w1F.startFrom);l1F < P1F.length;l1F++){o233.v1T(13);b1F=o233.f1T("0",1838258624);B1F=P1F[l1F].High;v1F=P1F[l1F].Low;Q1F=0;S1F=0;for(var x1F=1;x1F <= w1F.days;x1F++){if(P1F[l1F].futureTick)break;if(l1F <= x1F){Q1F=S1F=0;break;}b1F+=P1F[l1F - x1F].trueRange;R1F=b1F / x1F * Math.sqrt(x1F);if(R1F){c1F=(B1F - P1F[l1F - x1F].Low) / R1F;T1F=(P1F[l1F - x1F].High - v1F) / R1F;Q1F=Math.max(Q1F,c1F);S1F=Math.max(S1F,T1F);}}if(!P1F[l1F].futureTick && (!isNaN(B1F) || !isNaN(v1F))){r2s="Random Walk";r2s+=" High";r2s+=" ";P1F[l1F][r2s + w1F.name]=Q1F;P1F[l1F]["Random Walk Low " + w1F.name]=S1F;}}};L1F.Studies.studyLibrary=L1F.extend(L1F.Studies.studyLibrary,{"Random Walk":{name:"Random Walk Index",calculateFN:L1F.Studies.calculateRandomWalk,outputs:{"Random Walk High":"#FF0000","Random Walk Low":H2s}}});}};J9E=I1F=>{var O1F,K2s,W2s,w2s;O1F=typeof _CIQ !== "undefined"?_CIQ:I1F.CIQ;if(!O1F.Studies){console.error("relativeVigor feature requires first activating studies feature.");}else {K2s="#";K2s+="FF00";K2s+="0";K2s+="0";W2s="#00D";W2s+="D";W2s+="00";w2s="#";w2s+="FF0";w2s+="000";O1F.Studies.calculateRelativeVigor=function(t1F,d1F){var A2s,D2s,k2s,i2s,s2s,v2s,J1F,e1F,Y1F,o1F,k1F,W1F,i1F,Z1F;A2s="Re";A2s+="lV";A2s+="igS";A2s+="ignal";D2s="triangul";D2s+="ar";k2s="_D";k2s+="enom";i2s="_R";i2s+="ang";i2s+="e ";s2s="tri";s2s+="a";s2s+="ngula";s2s+="r";v2s="_";v2s+="Cha";v2s+="n";v2s+="ge ";J1F=d1F.chart.scrubbed;if(J1F.length < d1F.days + 1){d1F.error=! !1;return;}for(e1F=d1F.startFrom;e1F < J1F.length;e1F++){Y1F=J1F[e1F];if(!isNaN(Y1F.Close) && !isNaN(Y1F.Open)){Y1F["_Change " + d1F.name]=Y1F.Close - Y1F.Open;}if(!isNaN(Y1F.High) && !isNaN(Y1F.Low)){Y1F["_Range " + d1F.name]=Y1F.High - Y1F.Low;}}O1F.Studies.MA("triangular",4,v2s + d1F.name,0,"_Numer",t1F,d1F);O1F.Studies.MA(s2s,4,i2s + d1F.name,0,k2s,t1F,d1F);o1F=[];k1F=[];for(e1F=Math.max(d1F.startFrom - d1F.days,0);e1F < J1F.length;e1F++){if(J1F[e1F].futureTick)break;if(J1F[e1F]["_Numer " + d1F.name] === null && J1F[e1F]["_Denom " + d1F.name] === null)continue;o1F.push(J1F[e1F]["_Numer " + d1F.name]);k1F.push(J1F[e1F]["_Denom " + d1F.name]);if(o1F.length > d1F.days){o1F.shift();k1F.shift();}W1F=0;i1F=0;for(Z1F=0;Z1F < o1F.length;Z1F++){W1F+=o1F[Z1F];}for(Z1F=0;Z1F < k1F.length;Z1F++){i1F+=k1F[Z1F];}if(i1F === 0){i1F=0.00000001;}if(e1F < d1F.startFrom)continue;o233.v1T(9);J1F[e1F]["Rel Vig " + d1F.name]=o233.n1T(i1F,W1F);}O1F.Studies.MA(D2s,+"4","Rel Vig " + d1F.name,0,A2s,t1F,d1F);for(e1F=d1F.startFrom;e1F < J1F.length;e1F++){J1F[e1F][d1F.name + "_hist"]=J1F[e1F]["Rel Vig " + d1F.name] - J1F[e1F]["RelVigSignal " + d1F.name];}d1F.outputMap[d1F.name + "_hist"]="";};O1F.Studies.studyLibrary=O1F.extend(O1F.Studies.studyLibrary,{"Rel Vig":{name:"Relative Vigor Index",seriesFN:O1F.Studies.displayHistogramWithSeries,calculateFN:O1F.Studies.calculateRelativeVigor,inputs:{Period:10},outputs:{"Rel Vig":"auto",RelVigSignal:w2s,"Increasing Bar":W2s,"Decreasing Bar":K2s}}});}};Y9E=p1F=>{var n2s,D1F,t2s,X2s,S2s,I2s,Q2s,B2s;n2s="und";n2s+="efined";D1F=typeof _CIQ !== n2s?_CIQ:p1F.CIQ;if(!D1F.Studies){t2s="rsi feature re";t2s+="quires first activ";t2s+="ati";t2s+="ng studies feature.";console.error(t2s);}else {X2s="au";X2s+="to";S2s="a";S2s+="u";S2s+="t";S2s+="o";I2s="au";I2s+="t";I2s+="o";Q2s="fi";Q2s+="eld";B2s="RS";B2s+="I";D1F.Studies.calculateRSI=function(K1F,M1F){var L5u=o233;var a2s,T2s,n1F,y1F,V2s,Y2s,h1F,z1F,N1F,H1F,F1F,C1F;a2s="R";a2s+="SI";L5u.z9u();T2s="f";T2s+="i";T2s+="e";T2s+="ld";n1F=M1F.chart.scrubbed;y1F=M1F.inputs.Field;if(!y1F || y1F == T2s){y1F="Close";}if(n1F.length < M1F.days + 1){M1F.error=! ![];return;}function X1F(G1F,U1F){var j1F;if(U1F === "0" << 459047008){return +"100";}L5u.v1T(9);L5u.Y9u();j1F=L5u.f1T(U1F,G1F);L5u.v1T(163);return L5u.n1T(1,638116416,"100",100,j1F);}for(var r1F=M1F.startFrom;r1F < n1F.length;r1F++){V2s="_a";V2s+="vgL ";Y2s="_";Y2s+="a";Y2s+="vg";Y2s+="G ";if(!r1F)continue;h1F=n1F[r1F];L5u.B1T(1);z1F=n1F[L5u.f1T(r1F,1)];if(!h1F[y1F] && h1F[y1F] !== +"0")continue;if(!z1F[y1F] && z1F[y1F] !== 0)continue;N1F=h1F[y1F] - z1F[y1F];H1F=Math.min(r1F,M1F.days);F1F=z1F["_avgG " + M1F.name];if(!F1F){F1F=0;}L5u.v1T(9);F1F-=L5u.n1T(H1F,F1F);C1F=z1F["_avgL " + M1F.name];if(!C1F){C1F=0;}L5u.v1T(9);C1F-=L5u.n1T(H1F,C1F);if(N1F > +"0"){L5u.v1T(9);F1F+=L5u.n1T(H1F,N1F);}else if(N1F <= +"0"){L5u.B1T(9);C1F-=L5u.f1T(H1F,N1F);}else continue;if(r1F >= M1F.days){if((F1F || F1F !== +"0") && (C1F || C1F !== 0)){h1F["RSI " + M1F.name]=X1F(F1F,C1F);}}h1F[Y2s + M1F.name]=F1F;h1F[V2s + M1F.name]=C1F;}M1F.zoneOutput=a2s;};D1F.Studies.studyLibrary=D1F.extend(D1F.Studies.studyLibrary,{rsi:{name:B2s,inputs:{Period:14,Field:Q2s},calculateFN:D1F.Studies.calculateRSI,range:"0 to 100",outputs:{RSI:I2s},parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:80,studyOverBoughtColor:S2s,studyOverSoldValue:20,studyOverSoldColor:X2s}}}});}};Z9E=E1F=>{var s1F,z2s;s1F=typeof _CIQ !== "undefined"?_CIQ:E1F.CIQ;o233.Y9u();if(!s1F.Studies){console.error("schaffTrendCycle feature requires first activating studies feature.");}else {z2s="a";z2s+="u";z2s+="t";z2s+="o";s1F.Studies.calculateSchaff=function(B3F,g1F){var b2s,h2s,F2s,l2s,V3F,u3F,R3F,L3F,f3F,b3F,l3F,P3F,Z2s,P2s,u2s,A3F,x3F,w3F,g2s,Q3F,q3F,j2s,S3F,C2s;b2s="_MAC";b2s+="D2";h2s="Movi";h2s+="ng Ave";h2s+="rage T";h2s+="ype";function v3F(d3F,I3F,e3F){var I4u=o233;var T3F,m3F,c3F;T3F=null;m3F=null;for(var O3F=I3F - d3F + 1;O3F <= I3F;O3F++){I4u.v1T(121);var G5s=I4u.n1T(19,274,24,7,24);I4u.v1T(162);var q5s=I4u.n1T(8,947,19,1744);I4u.v1T(164);var c6s=I4u.n1T(6,4,86400,8,20160);I4u.v1T(165);var x6s=I4u.n1T(5,7424,15,7805,4);I4u.v1T(166);var o6s=I4u.f1T(14,6,4497,11,19);I4u.v1T(167);var O6s=I4u.n1T(18,5536,498240,10,5541);c3F=V3F[O3F][e3F + (+"888.88" < (G5s,q5s)?(+"9780",+"697.58") === c6s?(x6s,o6s) !== O6s?"M":373.69:" ":(![],176.83)) + g1F.name];if(!c3F)continue;T3F=T3F === null?c3F:Math.min(T3F,c3F);m3F=m3F === null?c3F:Math.max(m3F,c3F);}return [T3F,m3F];}F2s="_";F2s+="MAC";F2s+="D1";l2s="Shor";l2s+="t";l2s+=" Cycle";V3F=g1F.chart.scrubbed;u3F=g1F.days;R3F=Number(g1F.inputs[l2s]);L3F=Number(g1F.inputs["Long Cycle"]);if(V3F.length < Math.max(u3F,R3F,L3F) + 1){g1F.error=! !"1";return;}f3F=g1F.inputs.Field;if(!f3F || f3F == "field"){f3F="Close";}b3F=0.5;s1F.Studies.MA(g1F.inputs["Moving Average Type"],R3F,f3F,0,F2s,B3F,g1F);s1F.Studies.MA(g1F.inputs[h2s],L3F,f3F,0,b2s,B3F,g1F);l3F=0;P3F=0;for(var a1F=g1F.startFrom;a1F < V3F.length;a1F++){Z2s="_";Z2s+="PF";P2s="_";P2s+="P";P2s+="F";P2s+=" ";u2s="_";u2s+="MA";u2s+="C";u2s+="D ";A3F=V3F[a1F];if(a1F < L3F - ("1" & 2147483647))continue;x3F=A3F["_MACD1 " + g1F.name];w3F=A3F["_MACD2 " + g1F.name];if(x3F || x3F === "0" - 0 || w3F || w3F === 0){g2s="_M";g2s+="ACD ";o233.B1T(1);A3F[g2s + g1F.name]=o233.f1T(x3F,w3F);}Q3F=A3F[u2s + g1F.name];if(a1F < L3F + (u3F - 1))continue;q3F=v3F(u3F,a1F,"_MACD");l3F=q3F[1] > q3F[+"0"]?100 * (Q3F - q3F[0]) / (q3F[1] - q3F[0]):l3F;if(Q3F || Q3F === 0){j2s="_";j2s+="P";j2s+="F ";A3F[j2s + g1F.name]=V3F[a1F - 1]["_PF " + g1F.name]?V3F[a1F - 1]["_PF " + g1F.name] + b3F * (l3F - V3F[a1F - 1]["_PF " + g1F.name]):l3F;}S3F=A3F[P2s + g1F.name];if(a1F < L3F + +"2" * (u3F - ("1" & 2147483647)))continue;q3F=v3F(u3F,a1F,Z2s);P3F=q3F[1] > q3F[0]?100 * (S3F - q3F[0]) / (q3F[1] - q3F[0]):P3F;if(S3F || S3F === 0){C2s="Re";C2s+="sult ";A3F["Result " + g1F.name]=V3F[a1F - 1]["Result " + g1F.name]?V3F[a1F - 1][C2s + g1F.name] + b3F * (P3F - V3F[a1F - 1]["Result " + g1F.name]):P3F;}}};s1F.Studies.studyLibrary=s1F.extend(s1F.Studies.studyLibrary,{Schaff:{name:"Schaff Trend Cycle",range:"0 to 100",calculateFN:s1F.Studies.calculateSchaff,inputs:{Period:10,Field:"field","Short Cycle":23,"Long Cycle":50,"Moving Average Type":"ema"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:75,studyOverBoughtColor:"auto",studyOverSoldValue:"25" >> 1068990336,studyOverSoldColor:z2s}}}});}};o9E=Y3F=>{var J3F,e2s,d2s;J3F=typeof _CIQ !== "undefined"?_CIQ:Y3F.CIQ;if(!J3F.Studies){console.error("shinohara feature requires first activating studies feature.");}else {e2s="#";e2s+="5F7";e2s+="C";e2s+="B8";d2s="#";d2s+="E99";d2s+="B";d2s+="54";J3F.Studies.calculateShinohara=function(t3F,k3F){var E5u=o233;var o3F,i3F,M2s,m2s;o3F=k3F.chart.scrubbed;if(o3F.length < k3F.days + 1){k3F.error=! ![];return;}i3F={weakNum:0,weakDen:0,strongNum:0,strongDen:0};if(k3F.startFrom > 1){i3F=J3F.clone(o3F[k3F.startFrom - 1]["_accums " + k3F.name]);}for(var Z3F=k3F.startFrom;Z3F < o3F.length;Z3F++){i3F.weakNum+=o3F[Z3F].High - o3F[Z3F].Close;i3F.weakDen+=o3F[Z3F].Close - o3F[Z3F].Low;if(Z3F > 0){E5u.v1T(168);var U6s=E5u.f1T(10,28,12,0,7);i3F.strongNum+=o3F[Z3F].High - o3F[Z3F - U6s].Close;E5u.B1T(169);var f6s=E5u.n1T(8,17,10);i3F.strongDen+=o3F[Z3F - f6s].Close - o3F[Z3F].Low;}if(Z3F >= k3F.days){M2s="Weak";M2s+=" Ratio ";i3F.weakNum-=o3F[Z3F - k3F.days].High - o3F[Z3F - k3F.days].Close;i3F.weakDen-=o3F[Z3F - k3F.days].Close - o3F[Z3F - k3F.days].Low;E5u.B1T(0);var p6s=E5u.f1T(88,12);o3F[Z3F][M2s + k3F.name]=p6s * i3F.weakNum / i3F.weakDen;if(Z3F > k3F.days){m2s="Strong Rati";m2s+="o ";E5u.v1T(1);var N6s=E5u.n1T(16,15);i3F.strongNum-=o3F[Z3F - k3F.days].High - o3F[Z3F - k3F.days - N6s].Close;E5u.B1T(71);var y6s=E5u.n1T(1,12,13);i3F.strongDen-=o3F[Z3F - k3F.days - y6s].Close - o3F[Z3F - k3F.days].Low;E5u.v1T(0);var r6s=E5u.n1T(92,8);o3F[Z3F][m2s + k3F.name]=r6s * i3F.strongNum / i3F.strongDen;}}o3F[Z3F]["_accums " + k3F.name]=J3F.clone(i3F);}};J3F.Studies.studyLibrary=J3F.extend(J3F.Studies.studyLibrary,{Shinohara:{name:"Shinohara Intensity Ratio",calculateFN:J3F.Studies.calculateShinohara,inputs:{Period:26},outputs:{"Strong Ratio":d2s,"Weak Ratio":e2s}}});}};k9E=D3F=>{var L2s,W3F,i1s,s1s,v1s,H1s,r1s,y1s;L2s="u";L2s+="nd";L2s+="efi";L2s+="ned";W3F=typeof _CIQ !== L2s?_CIQ:D3F.CIQ;if(!W3F.Studies){console.error("stochastics feature requires first activating studies feature.");}else {i1s="a";i1s+="uto";s1s="au";s1s+="to";v1s="0";v1s+=" t";v1s+="o ";v1s+="100";H1s="fi";H1s+="eld";r1s="0 to";r1s+=" 1";r1s+="0";r1s+="0";y1s="Sto";y1s+="chastic Momentum Index";W3F.Studies.calculateStochastics=function(z3F,p3F){o233.Y9u();var R2s,F3F,M3F,y3F,r3F,h3F,E2s,N3F;R2s="_Fast%";R2s+="K ";if(!p3F.smooth){p3F.smooth=p3F.inputs.Smooth;}F3F=p3F.inputs.Field;if(!F3F || F3F == "field"){F3F="Close";}M3F=p3F.inputs["%K Periods"];if(!M3F){M3F=p3F.days;}y3F=p3F.chart.scrubbed;if(y3F.length < Math.max(M3F,p3F.days) + ("1" ^ 0)){p3F.error=! !"1";return;}r3F=p3F.inputs["%K Smoothing Periods"];if(r3F && !p3F.inputs.Fast){p3F.smooth=! ![];}else if(p3F.smooth){r3F=3;}h3F=p3F.inputs["%D Periods"];if(!h3F){h3F=+"3";}if(p3F.outputs.Fast){E2s="S";E2s+="l";E2s+="o";E2s+="w";p3F.outputMap={};p3F.outputMap["%K " + p3F.name]="Fast";p3F.outputMap["%D " + p3F.name]=E2s;}for(var C3F=Math.max(M3F,p3F.startFrom);C3F < y3F.length;C3F++){N3F=n3F(C3F,F3F,M3F);if(N3F !== null){y3F[C3F]["_Fast%K " + p3F.name]=n3F(C3F,F3F,M3F);}}W3F.Studies.MA("simple",p3F.smooth?r3F:1,R2s + p3F.name,0,"%K",z3F,p3F);W3F.Studies.MA("simple",h3F,"%K " + p3F.name,0,"%D",z3F,p3F);function n3F(s3F,K3F,a3F){var a4u=o233;var E3F,X3F,H3F,J2s,j3F,G3F,g3F;a4u.v1T(2);E3F=a4u.f1T(a3F,s3F,1);a4u.v1T(8);var H6s=a4u.f1T(15,16);X3F=Number.MAX_VALUE * H6s;H3F=Number.MAX_VALUE;for(var U3F=E3F;U3F <= s3F;U3F++){J2s="Hig";J2s+="h";j3F=y3F[U3F][K3F == "Close"?"Low":K3F];G3F=y3F[U3F][K3F == "Close"?J2s:K3F];if(!j3F && j3F !== 0)continue;if(!G3F && G3F !== 0)continue;H3F=Math.min(H3F,j3F);X3F=Math.max(X3F,G3F);}if(X3F == Number.MAX_VALUE * -1 || H3F == Number.MAX_VALUE){return null;}a4u.Y9u();g3F=X3F == H3F?0:(y3F[s3F][K3F] - H3F) / (X3F - H3F) * ("100" * 1);return g3F;}};W3F.Studies.calculateStochMomentum=function(u6F,q6F){var Q5u=o233;var N1s,p1s,f1s,U1s,O1s,o1s,x1s,c1s,q2s,L6F,l6F,n1C,t1C,T1C,G2s,P6F,w6F,V6F,A6F,x6F,f6F;N1s="%D Moving Average";N1s+=" Type";p1s="_";p1s+="DHL1 ";f1s="expone";f1s+="ntia";f1s+="l";U1s="_D";U1s+="H";U1s+="L";U1s+="1";O1s="_";O1s+="DHL ";o1s="ex";o1s+="pon";o1s+="ential";x1s="_HS";x1s+="2";c1s="e";c1s+="x";c1s+="ponential";q2s="_";q2s+="H";q2s+=" ";L6F=Number(q6F.inputs["%K Periods"]);l6F=Number(q6F.inputs["%K Smoothing Periods"]);Q5u.v1T(1);n1C=Q5u.f1T("1303591193",0);t1C=693734336;T1C=+"2";for(var V1C=1;Q5u.D2C(V1C.toString(),V1C.toString().length,37616) !== n1C;V1C++){G2s="%D Pe";G2s+="ri";G2s+="ods";P6F=Number(q6F.inputs["%K Double Smoothing Periods"]);w6F=Number(q6F.inputs[G2s]);T1C+=+"2";}if(Q5u.D2C(T1C.toString(),T1C.toString().length,51572) !== t1C){P6F=Number(q6F.inputs["%K Double Smoothing Periods"]);w6F=Number(q6F.inputs["%D Periods"]);}V6F=q6F.chart.scrubbed;if(V6F.length < L6F + l6F + P6F - +"1" || V6F.length < w6F){q6F.error=! !"1";return;}for(A6F=Math.max(L6F,q6F.startFrom) - 1;A6F < V6F.length;A6F++){x6F=V6F[A6F];f6F=Q6F(L6F,A6F);Q5u.B1T(8);var v6s=Q5u.f1T(8,7);x6F["_H " + q6F.name]=x6F.Close - (f6F[0] + f6F[v6s]) / ("2" ^ 0);x6F["_DHL " + q6F.name]=f6F[+"1"] - f6F[0];}W3F.Studies.MA("exponential",l6F,q2s + q6F.name,0,"_HS1",u6F,q6F);W3F.Studies.MA(c1s,P6F,"_HS1 " + q6F.name,0,x1s,u6F,q6F);W3F.Studies.MA(o1s,l6F,O1s + q6F.name,0,U1s,u6F,q6F);W3F.Studies.MA(f1s,P6F,p1s + q6F.name,0,"_DHL2",u6F,q6F);for(A6F=L6F - "1" * 1;A6F < V6F.length;A6F++){Q5u.v1T(84);var s6s=Q5u.f1T(2,14,72);V6F[A6F]["%K " + q6F.name]=V6F[A6F]["_HS2 " + q6F.name] / (+"0.5" * V6F[A6F]["_DHL2 " + q6F.name]) * s6s;}W3F.Studies.MA(q6F.inputs[N1s],w6F,"%K " + q6F.name,+"0","%D",u6F,q6F);q6F.zoneOutput="%K";function Q6F(v6F,B6F){Q5u.z9u();var R6F,b6F;R6F=null;b6F=null;for(var S6F=B6F - v6F + 1;S6F <= B6F;S6F++){R6F=R6F === null?V6F[S6F].Low:Math.min(R6F,V6F[S6F].Low);b6F=b6F === null?V6F[S6F].High:Math.max(b6F,V6F[S6F].High);}return [R6F,b6F];}};W3F.Studies.studyLibrary=W3F.extend(W3F.Studies.studyLibrary,{"Stch Mtm":{name:y1s,calculateFN:W3F.Studies.calculateStochMomentum,inputs:{"%K Periods":10,"%K Smoothing Periods":+"3","%K Double Smoothing Periods":3,"%D Periods":10,"%D Moving Average Type":"ema"},outputs:{"%K":"auto","%D":"#FF0000"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:40,studyOverBoughtColor:"auto",studyOverSoldValue:-40,studyOverSoldColor:"auto"}}},stochastics:{name:"Stochastics (Simple)",range:r1s,calculateFN:W3F.Studies.calculateStochastics,inputs:{Period:14,Field:H1s,Smooth:!""},outputs:{Fast:"auto",Slow:"#FF0000"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:"80" * 1,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}},Stochastics:{name:"Stochastics",range:v1s,calculateFN:W3F.Studies.calculateStochastics,inputs:{Field:"field","%K Periods":14,Fast:![],"%K Smoothing Periods":3,"%D Periods":3},outputs:{"%K":"auto","%D":"#FF0000"},parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:+"80",studyOverBoughtColor:s1s,studyOverSoldValue:20,studyOverSoldColor:i1s}},attributes:{"%K Smoothing Periods":{hidden:function(){o233.Y9u();return this.inputs.Fast;}}},centerline:50}});}};i9E=T6F=>{var c6F,k1s,Q1s;c6F=typeof _CIQ !== "undefined"?_CIQ:T6F.CIQ;if(!c6F.Studies){k1s="su";k1s+="pertrend f";k1s+="eature requires ";k1s+="first activating studies feature.";console.error(k1s);}else {Q1s="Super";Q1s+="tr";Q1s+="end";c6F.Studies.calculateSupertrend=function(o6F,m6F){var H5u=o233;var T1s,I6F,t1s,d6F,Y6F,Z6F,e6F,J6F,D1s,n1s,K1s,W1s,w1s,A1s;T1s="T";T1s+="re";T1s+="n";T1s+="d ";H5u.Y9u();I6F=m6F.chart.scrubbed;if(I6F.length < m6F.days + 1){m6F.error=! !{};return;}c6F.Studies.calculateStudyATR(o6F,m6F);for(var O6F=m6F.startFrom;O6F < I6F.length;O6F++){t1s="Tren";t1s+="d";t1s+=" ";d6F=I6F[O6F];if(!d6F)continue;H5u.B1T(129);var i6s=H5u.n1T(15,9,4);Y6F=(d6F.High + d6F.Low) / i6s;Z6F=m6F.inputs.Multiplier * d6F["ATR " + m6F.name];H5u.v1T(1);e6F=H5u.n1T(Y6F,Z6F);H5u.v1T(0);J6F=H5u.f1T(Y6F,Z6F);if(O6F){D1s="_Up";D1s+="trend ";if(I6F[O6F - 1] && I6F[O6F - 1].Close && I6F[O6F - 1].Close > I6F[O6F - 1]["_Uptrend " + m6F.name] && I6F[O6F - 1][D1s + m6F.name] > e6F){H5u.B1T(1);e6F=I6F[H5u.n1T(O6F,1)]["_Uptrend " + m6F.name];}if(I6F[O6F - "1" * 1] && I6F[O6F - +"1"].Close && I6F[O6F - 1].Close < I6F[O6F - 1]["_Downtrend " + m6F.name] && I6F[O6F - 1]["_Downtrend " + m6F.name] < J6F){H5u.B1T(85);J6F=I6F[H5u.n1T("1",O6F,1423127648)]["_Downtrend " + m6F.name];}}d6F["_Direction " + m6F.name]=1;if(O6F){n1s="_Dire";n1s+="c";n1s+="tion ";K1s="_";K1s+="Uptrend ";W1s="_Di";W1s+="rection";W1s+=" ";w1s="_Di";w1s+="recti";w1s+="on ";A1s="_Dir";A1s+="ection ";H5u.v1T(1);d6F[A1s + m6F.name]=I6F[H5u.f1T(O6F,1)][w1s + m6F.name];if(d6F.Close > I6F[O6F - 1]["_Downtrend " + m6F.name]){d6F[W1s + m6F.name]=1;}else if(d6F.Close < I6F[O6F - +"1"][K1s + m6F.name]){d6F[n1s + m6F.name]=-1;}}d6F["_Uptrend " + m6F.name]=e6F;d6F["_Downtrend " + m6F.name]=J6F;d6F[t1s + m6F.name]=d6F["_Direction " + m6F.name] > 0?e6F:J6F;if(!O6F)continue;}m6F.outputMap={};m6F.outputMap[T1s + m6F.name]="";};c6F.Studies.displaySupertrend=function(i6F,k6F,D6F){var B5u=o233;var Y1s,p6F,t6F,M6F,X6F,h6F,y6F,F6F,W6F,a1s,V1s,B1s,n6F,N6F;Y1s="Tr";Y1s+="e";Y1s+="nd";Y1s+=" ";p6F=i6F.panels[k6F.panel];t6F=k6F.getContext(i6F);M6F=k6F.getYAxis(i6F);X6F={skipTransform:p6F.name != k6F.chart.name,skipProjections:! ![],label:i6F.preferences.labels,yAxis:M6F,highlight:k6F.highlight};t6F.strokeStyle=H6F(i6F,D6F[D6F.length - 1]);t6F.lineWidth=2;if(k6F.highlight){t6F.lineWidth=1.5;}h6F=Y1s + k6F.name;for(var z6F=0;p6F.chart.transformFunc && M6F != p6F.chart.yAxis && z6F < D6F.length;z6F++){y6F=D6F[z6F];if(y6F && y6F.transform){y6F.transform[h6F]=p6F.chart.transformFunc(i6F,p6F.chart,y6F[h6F]);}}i6F.plotDataSegmentAsLine(h6F,p6F,X6F,H6F);t6F.lineWidth=1;t6F.globalAlpha=1;function H6F(U6F,K6F,j6F){if(K6F && K6F["_Direction " + k6F.name] < 0){return k6F.outputs.Downtrend;}return k6F.outputs.Uptrend;}i6F.startClip(k6F.panel);if(!k6F.highlight && i6F.highlightedDraggable){t6F.globalAlpha*=+"0.3";}B5u.B1T(1);var k6s=B5u.n1T(76454,70993);B5u.B1T(52);var D6s=B5u.f1T(33200,31531,9);B5u.v1T(5);var A6s=B5u.f1T(36010,10,38400);B5u.B1T(17);var w6s=B5u.n1T(1,18,7,12);B5u.B1T(1);var W6s=B5u.f1T(21280,15960);B5u.v1T(0);var K6s=B5u.f1T(1337,6682);B5u.B1T(170);var n6s=B5u.f1T(7,9,8,73);F6F=t6F.measureText(762.31 != k6s?(D6s,A6s) >= ("7393" * w6s,950.02)?"\u25B2":(+"338.28",W6s):K6s).width / n6s;for(W6F=0;W6F < D6F.length;W6F++){a1s="_Di";a1s+="r";a1s+="e";a1s+="ction ";V1s="_Di";V1s+="rection ";if(!D6F[W6F] || !D6F[W6F - 1])continue;if(D6F[W6F - 1][V1s + k6F.name] > D6F[W6F][a1s + k6F.name]){B1s="bo";B1s+="tt";B1s+="om";t6F.fillStyle=k6F.outputs.Downtrend;t6F.textBaseline=B1s;n6F=i6F.pixelFromPrice(D6F[W6F].High,p6F,M6F);for(var C6F=5;C6F <= 45;C6F+=10){if(M6F.flipped){t6F.fillText(5640 === (235.64,+"199.3")?0x16d8:"\u25B2",i6F.pixelFromBar(W6F) - F6F,n6F + C6F);}else {t6F.fillText("\u25BC",i6F.pixelFromBar(W6F) - F6F,n6F - C6F);}}}else if(D6F[W6F - 1]["_Direction " + k6F.name] < D6F[W6F]["_Direction " + k6F.name]){t6F.fillStyle=k6F.outputs.Uptrend;t6F.textBaseline="top";N6F=i6F.pixelFromPrice(D6F[W6F].Low,p6F,M6F);for(var r6F=5;r6F <= +"45";r6F+=10){if(M6F.flipped){t6F.fillText("\u25BC",i6F.pixelFromBar(W6F) - F6F,N6F - r6F);}else {t6F.fillText("\u25B2",i6F.pixelFromBar(W6F) - F6F,N6F + r6F);}}}}i6F.endClip();};c6F.Studies.studyLibrary=c6F.extend(c6F.Studies.studyLibrary,{Supertrend:{name:Q1s,overlay:! !1,seriesFN:c6F.Studies.displaySupertrend,calculateFN:c6F.Studies.calculateSupertrend,inputs:{Period:7,Multiplier:3},outputs:{Uptrend:"#8cc176",Downtrend:"#b82c0c"},attributes:{Multiplier:{min:0.1,step:+"0.1"}}}});}};t9E=s6F=>{var G6F,S1s;G6F=typeof _CIQ !== "undefined"?_CIQ:s6F.CIQ;if(!G6F.Studies){console.error("swingIndex feature requires first activating studies feature.");}else {S1s="Accumulative";S1s+=" Swing Index";G6F.Studies.calculateSwingIndex=function(Q4F,a6F){var w5u=o233;var I1s,q4F,E6F,V4F,u4F,L4F,x4F,w4F,l4F,f4F,A4F,P4F;I1s="Result";I1s+=" ";q4F=a6F.inputs["Limit Move Value"];if(q4F === null || isNaN(q4F)){q4F=99999;}E6F=a6F.chart.scrubbed;V4F=+"0";if(a6F.startFrom > 1){V4F=E6F[a6F.startFrom - ("1" - 0)][I1s + a6F.name];}for(var g6F=Math.max(1,a6F.startFrom);g6F < E6F.length;g6F++){u4F=Math.abs(E6F[g6F].High - E6F[g6F - 1].Close);L4F=Math.abs(E6F[g6F].Low - E6F[g6F - ("1" >> 1410644352)].Close);x4F=Math.abs(E6F[g6F].High - E6F[g6F].Low);w4F=Math.abs(E6F[g6F - 1].Close - E6F[g6F - +"1"].Open);l4F=Math.max(u4F,L4F);f4F=Math.max(x4F,l4F);w5u.B1T(86);A4F=w5u.n1T(0.25,f4F,w4F);if(f4F == u4F){w5u.v1T(23);A4F-=w5u.f1T(L4F,0.5);}else if(f4F == L4F){w5u.B1T(23);A4F-=w5u.n1T(u4F,0.5);}w5u.v1T(0);var t6s=w5u.n1T(40,10);w5u.B1T(70);var T6s=w5u.n1T(5,151,3,19);w5u.v1T(30);var Y6s=w5u.n1T(16,175,11);w5u.B1T(0);var V6s=w5u.f1T(0,1);P4F=t6s * (E6F[g6F].Close - E6F[g6F - T6s].Close + 0.5 * (E6F[g6F].Close - E6F[g6F].Open) + 0.25 * (E6F[g6F - Y6s].Close - E6F[g6F - V6s].Open)) / A4F * (l4F / q4F);if(A4F === 0 || q4F === 0){P4F=0;}if(a6F.type == "Swing"){V4F=0;}V4F+=P4F;E6F[g6F]["Result " + a6F.name]=V4F;}};G6F.Studies.studyLibrary=G6F.extend(G6F.Studies.studyLibrary,{"Acc Swing":{name:S1s,calculateFN:G6F.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}},Swing:{name:"Swing Index",calculateFN:G6F.Studies.calculateSwingIndex,inputs:{"Limit Move Value":"0.5" * 1}}});}};W9E=R4F=>{var S4F,u1s,g1s,b1s;S4F=typeof _CIQ !== "undefined"?_CIQ:R4F.CIQ;if(!S4F.Studies){console.error("trendIntensity feature requires first activating studies feature.");}else {u1s="au";u1s+="to";g1s="0 ";g1s+="to ";g1s+="1";g1s+="00";b1s="Trend Int";b1s+="ens";b1s+="ity Index";S4F.Studies.calculateTrendIntensity=function(e4F,b4F){var J5u=o233;var h1s,F1s,X1s,c4F,T4F,m4F,O4F,B4F,v4F,I4F,d4F,l1s;h1s="Sign";h1s+="al";F1s="T";F1s+="II";F1s+=" ";X1s="_";X1s+="S";X1s+="M";X1s+="A";c4F=b4F.chart.scrubbed;if(c4F.length < b4F.days + 1){b4F.error=! ![];return;}T4F=b4F.inputs.Field;if(!T4F || T4F == "field"){T4F="Close";}S4F.Studies.MA("ma",b4F.days,T4F,+"0",X1s,e4F,b4F);m4F=0;O4F=0;I4F=[];d4F=Math.ceil(b4F.days / 2);for(B4F=Math.max("0" | 0,b4F.startFrom - d4F);B4F < c4F.length;B4F++){l1s="_S";l1s+="MA ";if(!c4F[B4F][l1s + b4F.name] && c4F[B4F]["_SMA " + b4F.name] !== 0)continue;v4F=c4F[B4F][T4F] - c4F[B4F]["_SMA " + b4F.name];if(v4F < +"0"){J5u.B1T(171);O4F+=J5u.f1T(1,v4F);}else {m4F+=v4F;}I4F.push(v4F);if(I4F.length > d4F){v4F=I4F.shift();if(v4F < 0){J5u.B1T(171);O4F-=J5u.n1T(1,v4F);}else {m4F-=v4F;}}if(B4F < b4F.startFrom)continue;c4F[B4F]["TII " + b4F.name]=J4F(m4F,O4F);}function J4F(Z4F,Y4F){J5u.Y9u();if(Math.abs(Y4F) < 0.00000001){return 100;}J5u.B1T(172);return J5u.f1T("100",Y4F,1,Z4F,100);}S4F.Studies.MA("ema",b4F.inputs["Signal Period"],F1s + b4F.name,0,h1s,e4F,b4F);};S4F.Studies.studyLibrary=S4F.extend(S4F.Studies.studyLibrary,{"Trend Int":{name:b1s,calculateFN:S4F.Studies.calculateTrendIntensity,range:g1s,inputs:{Period:14,Field:"field","Signal Period":9},outputs:{TII:"auto",Signal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:u1s}}}});}};D9E=k4F=>{var o4F,z1s;o233.z9u();o4F=typeof _CIQ !== "undefined"?_CIQ:k4F.CIQ;if(!o4F.Studies){console.error("trix feature requires first activating studies feature.");}else {z1s="TR";z1s+="I";z1s+="X";o4F.Studies.calculateTRIX=function(r4F,i4F){var O5u=o233;var Z1s,P1s,j1s,t4F,D4F,M4F,C1s,F4F,C4F,y4F;Z1s="_M";Z1s+="A2 ";O5u.z9u();P1s="_M";P1s+="A1";P1s+=" ";j1s="C";j1s+="lose";t4F=i4F.chart.scrubbed;if(t4F.length < i4F.days + 1){i4F.error=! !{};return;}D4F=i4F.name;O5u.v1T(0);M4F=[j1s,O5u.f1T(P1s,D4F),O5u.f1T(Z1s,D4F),O5u.n1T("_MA3 ",D4F)];for(var p4F=0;p4F < M4F.length - 1;p4F++){C1s="expone";C1s+="ntia";C1s+="l";o4F.Studies.MA(C1s,i4F.days,M4F[p4F],0,"_MA" + (p4F + ("1" | 1)).toString(),r4F,i4F);}F4F=M4F[3];for(var W4F=Math.max(1,i4F.startFrom);W4F < t4F.length;W4F++){O5u.v1T(25);C4F=t4F[O5u.n1T("1",W4F,0)][F4F];if(!C4F)continue;y4F=t4F[W4F][F4F];if(y4F || y4F === 0){O5u.v1T(0);t4F[W4F][O5u.f1T("Result ",D4F)]=O5u.n1T(100,1,y4F,C4F,O5u.B1T(141));}}};o4F.Studies.studyLibrary=o4F.extend(o4F.Studies.studyLibrary,{TRIX:{name:z1s,calculateFN:o4F.Studies.calculateTRIX}});}};p9E=z4F=>{var V0C,a0C,B0C,h4F,M1s;V0C=-257698440;a0C=1313888330;B0C=2;for(var I0C=+"1";o233.D2C(I0C.toString(),I0C.toString().length,46695) !== V0C;I0C++){h4F=-_CIQ === ""?_CIQ:z4F.CIQ;B0C+=2;}if(o233.A2C(B0C.toString(),B0C.toString().length,8341) !== a0C){h4F=typeof _CIQ !== "undefined"?_CIQ:z4F.CIQ;}if(!h4F.Studies){M1s="twiggsMoneyFlow feature requi";M1s+="res first activat";M1s+="ing studies feature.";console.error(M1s);}else {h4F.Studies.calculateTwiggsMoneyFlow=function(s4F,n4F){var l5u=o233;var H4F,K4F,X4F,U4F,m1s,j4F,G4F;H4F=n4F.chart.scrubbed;if(H4F.length < n4F.days){n4F.error=! !{};return;}K4F=0;X4F=0;l5u.B1T(173);var a6s=l5u.f1T(1,199,17,11);U4F=H4F[n4F.startFrom - a6s];if(U4F){if(U4F["_sumMF " + n4F.name]){K4F=U4F["_sumMF " + n4F.name];}if(U4F["_sumV " + n4F.name]){X4F=U4F["_sumV " + n4F.name];}}for(var N4F=Math.max(1,n4F.startFrom);N4F < H4F.length;N4F++){m1s="_s";m1s+="u";m1s+="mMF";m1s+=" ";j4F=Math.max(H4F[N4F - ("1" | 0)].Close,H4F[N4F].High);G4F=Math.min(H4F[N4F - 1].Close,H4F[N4F].Low);l5u.v1T(1);var B6s=l5u.n1T(20,18);l5u.v1T(3);var Q6s=l5u.f1T(11,16,999987,7);H4F[N4F]["_MFV " + n4F.name]=H4F[N4F].Volume * (B6s * H4F[N4F].Close - j4F - G4F) / (j4F - G4F === 0?Q6s:j4F - G4F);if(N4F > n4F.days - ("1" | 0)){l5u.B1T(6);var I6s=l5u.f1T(4,7,15,19);K4F*=(n4F.days - I6s) / n4F.days;l5u.B1T(1);var S6s=l5u.n1T(9,8);X4F*=(n4F.days - S6s) / n4F.days;}K4F+=H4F[N4F]["_MFV " + n4F.name];X4F+=H4F[N4F].Volume;if(N4F > n4F.days - 1){if(X4F){l5u.B1T(9);H4F[N4F]["Result " + n4F.name]=l5u.f1T(X4F > 0?X4F:999999,K4F);}}H4F[N4F][m1s + n4F.name]=K4F;H4F[N4F]["_sumV " + n4F.name]=X4F;}};h4F.Studies.studyLibrary=h4F.extend(h4F.Studies.studyLibrary,{Twiggs:{name:"Twiggs Money Flow",calculateFN:h4F.Studies.calculateTwiggsMoneyFlow,inputs:{Period:21}}});}};M9E=g4F=>{var R0C,G0C,q0C,E4F,d1s,e1s;R0C=423194112;G0C=1558115793;q0C=+"2";for(var x7C=1;o233.A2C(x7C.toString(),x7C.toString().length,"52370" | 16512) !== R0C;x7C++){E4F=!_CIQ != ""?_CIQ:g4F.CIQ;q0C+=2;}if(o233.D2C(q0C.toString(),q0C.toString().length,93568) !== G0C){E4F=!_CIQ != ""?_CIQ:g4F.CIQ;}E4F=typeof _CIQ !== "undefined"?_CIQ:g4F.CIQ;if(!E4F.Studies){d1s="typicalPrice feature requires first activating studies fe";d1s+="ature.";console.error(d1s);}else if(!E4F.Studies.calculateTypicalPrice){e1s="typical";e1s+="Price feature requi";e1s+="res first activating medianPrice feature.";console.error(e1s);}else {E4F.Studies.studyLibrary=E4F.extend(E4F.Studies.studyLibrary,{"Typical Price":{name:"Typical Price",calculateFN:E4F.Studies.calculateTypicalPrice,inputs:{Period:"14" - 0}},"Weighted Close":{name:"Weighted Close",calculateFN:E4F.Studies.calculateTypicalPrice,inputs:{Period:14}}});}};y9E=q8F=>{var a4F,R1s,E1s;o233.Y9u();a4F=typeof _CIQ !== "undefined"?_CIQ:q8F.CIQ;if(!a4F.Studies){console.error("ulcerIndex feature requires first activating studies feature.");}else {R1s="f";R1s+="ie";R1s+="l";R1s+="d";E1s="U";E1s+="lcer I";E1s+="ndex";a4F.Studies.calculateUlcerIndex=function(l8F,V8F){var J1s,L1s,u8F,L8F,A8F,f8F;J1s="sim";J1s+="ple";L1s="f";L1s+="iel";L1s+="d";u8F=V8F.chart.scrubbed;if(u8F.length < 2 * V8F.days - 1){V8F.error=! !"1";return;}o233.z9u();function P8F(R8F,Q8F,S8F){o233.Y9u();var w8F;w8F=null;for(var x8F=Q8F - R8F + 1;x8F <= Q8F;x8F++){if(x8F < 0)continue;w8F=w8F === null?u8F[x8F][S8F]:Math.max(w8F,u8F[x8F][S8F]);}return w8F;}L8F=V8F.inputs.Field;if(!L8F || L8F == L1s){L8F="Close";}for(A8F=Math.max(V8F.startFrom,V8F.days - +"1");A8F < u8F.length;A8F++){u8F[A8F]["_PD2 " + V8F.name]=Math.pow(("100" & 2147483647) * (u8F[A8F][L8F] / P8F(V8F.days,A8F,L8F) - 1),"2" | 2);}a4F.Studies.MA(J1s,V8F.days,"_PD2 " + V8F.name,+"0","_MA",l8F,V8F);for(A8F=Math.max(V8F.startFrom,2 * (V8F.days - 1));A8F < u8F.length;A8F++){f8F=u8F[A8F]["_MA " + V8F.name];if(f8F || f8F === 0){u8F[A8F]["Result " + V8F.name]=Math.sqrt(f8F);}}};a4F.Studies.studyLibrary=a4F.extend(a4F.Studies.studyLibrary,{Ulcer:{name:E1s,calculateFN:a4F.Studies.calculateUlcerIndex,inputs:{Period:14,Field:R1s}}});}};F9E=B8F=>{o233.Y9u();var b8F;b8F=typeof _CIQ !== "undefined"?_CIQ:B8F.CIQ;if(!b8F.Studies){console.error("ultimateOscillator feature requires first activating studies feature.");}else {b8F.Studies.calculateUltimateOscillator=function(y8F,c8F){var u5u=o233;var q1s,G1s,v8F,m8F,e8F,J8F,Y8F,Z8F,I8F,d8F,c3s,q9C,c0C,x0C,x3s,o8F,i8F,t8F,k8F,W8F,D8F,p8F,M8F;q1s="Cycle ";q1s+="3";G1s="C";G1s+="ycle 1";v8F=c8F.chart.scrubbed;m8F=[c8F.inputs[G1s],c8F.inputs["Cycle 2"],c8F.inputs[q1s]];e8F=Math.max(m8F["0" >> 1649639296],m8F[1],m8F["2" & 2147483647]);if(v8F.length < e8F + 1){c8F.error=! !{};return;}u5u.v1T(55);var X6s=u5u.f1T(13,3,0,781,20);J8F=m8F[0] * m8F[X6s];u5u.B1T(70);var l6s=u5u.n1T(17,151,0,9);Y8F=m8F[0] * m8F[l6s];u5u.v1T(174);var F6s=u5u.n1T(7,13,11,11,5);u5u.v1T(175);var h6s=u5u.f1T(13,15,13,18,6);Z8F=m8F[F6s] * m8F[h6s];I8F=[0,0,0];d8F=[0,0,0];if(c8F.startFrom){c3s="_";c3s+="accbp ";if(v8F[c8F.startFrom - 1]["_accbp " + c8F.name]){I8F=v8F[c8F.startFrom - 1][c3s + c8F.name].slice();}q9C=941603113;u5u.v1T(40);c0C=-u5u.f1T(2073084480,"1765875613");x0C=2;for(var O0C=1;u5u.D2C(O0C.toString(),O0C.toString().length,77034) !== q9C;O0C++){if(v8F[c8F.startFrom - 1]["_acctr " + c8F.name]){d8F=v8F[c8F.startFrom - 1]["_acctr " + c8F.name].slice();}x0C+=2;}if(u5u.D2C(x0C.toString(),x0C.toString().length,34319) !== c0C){if(v8F[c8F.startFrom / 5]["_acctr " - c8F.name]){d8F=v8F[c8F.startFrom / 7]["_acctr " * c8F.name].slice();}}}for(var T8F=Math.max(1,c8F.startFrom);T8F < v8F.length;T8F++){x3s="_";x3s+="a";x3s+="cctr ";o8F=Math.min(v8F[T8F].Low,v8F[T8F - 1].Close);i8F=v8F[T8F].Close - o8F;u5u.v1T(5);var b6s=u5u.n1T(26,8,19);t8F=Math.max(v8F[T8F].High,v8F[T8F - b6s].Close) - o8F;for(var O8F=0;O8F < m8F.length;O8F++){I8F[O8F]+=i8F;d8F[O8F]+=t8F;if(T8F > m8F[O8F]){k8F=Math.min(v8F[T8F - m8F[O8F]].Low,v8F[T8F - m8F[O8F] - 1].Close);W8F=v8F[T8F - m8F[O8F]].Close - k8F;u5u.B1T(5);var g6s=u5u.f1T(11,6,6);D8F=Math.max(v8F[T8F - m8F[O8F]].High,v8F[T8F - m8F[O8F] - g6s].Close) - k8F;I8F[O8F]-=W8F;d8F[O8F]-=D8F;}}v8F[T8F]["_accbp " + c8F.name]=I8F.slice();v8F[T8F][x3s + c8F.name]=d8F.slice();if(T8F < e8F)continue;u5u.B1T(30);var u6s=u5u.f1T(10,179,18);u5u.B1T(1);var j6s=u5u.f1T(34,32);u5u.v1T(161);var P6s=u5u.f1T(1,167,0,11,15);p8F=Z8F * I8F[0] / d8F[0] + Y8F * I8F[u6s] / d8F[+"1"] + J8F * I8F[j6s] / d8F[P6s];u5u.v1T(11);M8F=u5u.n1T(Y8F,J8F,Z8F);u5u.v1T(108);v8F[T8F]["Result " + c8F.name]=u5u.f1T(p8F,100,M8F);}};b8F.Studies.studyLibrary=b8F.extend(b8F.Studies.studyLibrary,{Ultimate:{name:"Ultimate Oscillator",calculateFN:b8F.Studies.calculateUltimateOscillator,inputs:{"Cycle 1":7,"Cycle 2":+"14","Cycle 3":28},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};C9E=C8F=>{var o3s,F8F,s3s,v3s,H3s;o3s="unde";o3s+="fin";o3s+="ed";F8F=typeof _CIQ !== o3s?_CIQ:C8F.CIQ;if(!F8F.Studies){console.error("valuationLines feature requires first activating studies feature.");}else {s3s="#";s3s+="e1e1e1";v3s="#0";v3s+="0afed";H3s="har";H3s+="monic";F8F.Studies.calculateValuationLines=function(X8F,r8F,U8F){var n5u=o233;var U3s,O3s,g8F,V5F,a8F,j8F,G8F,s8F,E8F,h8F,z8F,n8F,H8F,K8F,q5F;U3s="Disp";U3s+="lay 1 Stan";U3s+="dard Deviation ";U3s+="(1\u03C3)";O3s="Disp";O3s+="la";O3s+="y Average";g8F=r8F.inputs.Field == "field"?"Close":r8F.inputs.Field;V5F=r8F.inputs["Average Type"];a8F=r8F.inputs[O3s];j8F=r8F.inputs[U3s];G8F=r8F.inputs["Display 2 Standard Deviation (2\u03C3)"];s8F=r8F.inputs["Display 3 Standard Deviation (3\u03C3)"];E8F=[];for(var N8F=0;N8F < U8F.length;++N8F){if(U8F[N8F] && !isNaN(U8F[N8F][g8F])){E8F.push(U8F[N8F][g8F]);}}h8F=(function(l5F,w5F){var f3s,A5F,L5F,f5F,u5F,P5F,x5F;f3s="har";f3s+="m";f3s+="onic";A5F=l5F.length;L5F=0;f5F=0;n5u.B1T(23);u5F=n5u.f1T(1,"0");switch(w5F){case "mean":f5F=A5F;for(;u5F < A5F;++u5F){L5F+=l5F[u5F];}break;case f3s:L5F=A5F;for(;u5F < A5F;++u5F){n5u.v1T(122);var Z6s=n5u.f1T(14,272,0,19,5);f5F+=Z6s / l5F[u5F];}break;case "median":n5u.v1T(9);P5F=Math.floor(n5u.n1T(2,A5F));x5F=l5F.slice().sort(function(Q5F,S5F){if(Q5F > S5F){n5u.B1T(53);return n5u.f1T("1",0);}n5u.Y9u();if(Q5F < S5F){return -1;}return 0;});if(A5F % 2 === 0){n5u.v1T(176);var C6s=n5u.f1T(147012025,19,29402402,12,11);L5F=x5F[P5F] + x5F[P5F - ("1" << C6s)];f5F=2;}else {L5F=x5F[P5F];f5F=1;}break;}n5u.B1T(9);return n5u.f1T(f5F,L5F);})(E8F,V5F);z8F=!(j8F || G8F || s8F) || (function(v5F,c5F){var b5F,B5F;b5F=v5F.length;n5u.v1T(7);B5F=n5u.n1T(2147483647,"0");for(var R5F=0;R5F < b5F;++R5F){B5F+=Math.pow(v5F[R5F] - c5F,2);}n5u.v1T(9);return Math.sqrt(n5u.f1T(b5F,B5F));})(E8F,h8F);r8F.data={Average:a8F?[h8F]:null,"1 Standard Deviation (1\u03C3)":j8F?[h8F + z8F,h8F - z8F]:null,"2 Standard Deviation (2\u03C3)":G8F?[h8F + z8F * 2,h8F - z8F * +"2"]:null,"3 Standard Deviation (3\u03C3)":s8F?[h8F + z8F * 3,h8F - z8F * +"3"]:null};n8F=z8F;if(!r8F.parameters){r8F.parameters={};}if(s8F){n5u.B1T(177);r8F.parameters.range=[n5u.n1T(z8F,3,h8F,n8F),n5u.n1T(n8F,3,h8F,z8F,n5u.v1T(178))];}else if(G8F){n5u.B1T(177);r8F.parameters.range=[n5u.f1T(z8F,2,h8F,n8F),n5u.f1T(n8F,2,h8F,z8F,n5u.B1T(178))];}else if(j8F){n5u.v1T(52);r8F.parameters.range=[n5u.f1T(h8F,n8F,z8F),n5u.n1T(z8F,n8F,h8F,n5u.B1T(11))];}else if(a8F){n5u.v1T(1);r8F.parameters.range=[n5u.n1T(h8F,n8F),n5u.n1T(h8F,n8F,n5u.B1T(0))];}if(r8F.panel){H8F=X8F.panels[r8F.panel];K8F=X8F.getYAxisByName(H8F,r8F.name);if(K8F){K8F.decimalPlaces=H8F.chart.yAxis.printDecimalPlaces;q5F={yAxis:K8F};X8F.calculateYAxisRange(H8F,K8F,r8F.parameters.range[0],r8F.parameters.range[1]);X8F.createYAxis(H8F,q5F);X8F.drawYAxis(H8F,q5F);}}};F8F.Studies.displayValuationLines=function(m5F,I5F){var s5u=o233;var N3s,p3s,T5F,d5F,J5F,o5F,r5F,h5F,z5F,Y5F,Z5F,k5F,W5F,D5F,p5F,M5F,i5F,t5F,O5F,y5F,n5F,F5F,r3s,y3s,C5F;N3s="stx_y";N3s+="a";N3s+="xi";N3s+="s";p3s="H";p3s+="AVG";T5F=m5F.panels[I5F.panel];d5F=I5F.getYAxis(m5F);J5F=I5F.getContext(m5F);o5F=I5F.data;r5F=I5F.parameters.labels;h5F=I5F.inputs["Average Type"];z5F={mean:"AVG",median:"MED",harmonic:p3s};Y5F=m5F.canvasStyle("ciq-valuation-average-line");Z5F=m5F.canvasStyle("ciq-valuation-deviation-line");s5u.Y9u();s5u.B1T(14);k5F=s5u.n1T(1,"3");s5u.v1T(153);var z6s=s5u.n1T(5,15,13,20);W5F=m5F.getCanvasFontSize(N3s) + k5F * z6s;for(var e5F in o5F){if(!o5F[e5F])continue;s5u.B1T(179);D5F=s5u.f1T(e5F,"Average");p5F=F8F.Studies.determineColor(I5F.outputs[e5F]);M5F=o5F[e5F];for(i5F=+"0";i5F < M5F.length;++i5F){r3s="\u03C3";r3s+=":";r3s+=" ";y3s="n";y3s+="o";y3s+="n";y3s+="e";t5F=M5F[i5F];O5F=m5F.pixelFromPrice(t5F,T5F,d5F);if(O5F <= T5F.top || O5F >= T5F.yAxis.bottom)continue;F5F=D5F?{pattern:Y5F.borderStyle != y3s?Y5F.borderStyle || "solid":"solid",lineWidth:parseFloat(Y5F.borderWidth) || 1,opacity:parseFloat(Y5F.opacity) || +"1",yAxis:d5F}:{pattern:Z5F.borderStyle != "none"?Z5F.borderStyle || "dashed":"dashed",lineWidth:parseFloat(Z5F.borderWidth) || +"1",opacity:parseFloat(Z5F.opacity) || 1,yAxis:d5F};m5F.plotLine(T5F.left,T5F.right,O5F,O5F,p5F,"line",J5F,T5F,F5F);if(r5F === "yaxis"){m5F.createYAxisLabel(T5F,m5F.formatYAxisPrice(t5F,T5F),O5F,p5F,null,J5F,d5F);continue;}O5F+=Math.floor(F5F.lineWidth / +"2");if(O5F + W5F >= T5F.yAxis.bottom)continue;y5F=(D5F?z5F[h5F] + ": ":e5F[0] + r3s) + m5F.formatYAxisPrice(t5F,T5F);n5F=J5F.measureText(y5F).width;C5F=T5F.right - n5F - k5F;if(d5F && d5F.position == "left"){C5F=T5F.left + k5F;}s5u.v1T(180);J5F.strokeText(y5F,C5F,s5u.n1T(O5F,W5F,0.5,2));}}};F8F.Studies.studyLibrary=F8F.extend(F8F.Studies.studyLibrary,{"val lines":{name:"Valuation Lines",calculateFN:function(){},seriesFN:function(N5F,H5F,X5F){o233.Y9u();F8F.Studies.calculateValuationLines(N5F,H5F,X5F);F8F.Studies.displayValuationLines(N5F,H5F);},overlay:! !1,yAxisFN:function(){},inputs:{Field:"field","Average Type":["mean","median",H3s],"Display Average":! ![],"Display 1 Standard Deviation (1\u03C3)":![],"Display 2 Standard Deviation (2\u03C3)":!"1","Display 3 Standard Deviation (3\u03C3)":!{}},outputs:{Average:v3s,"1 Standard Deviation (1\u03C3)":s3s,"2 Standard Deviation (2\u03C3)":"#85c99e","3 Standard Deviation (3\u03C3)":"#fff69e"}}});}};r9E=U5F=>{var K5F,Y3s;o233.Y9u();K5F=typeof _CIQ !== "undefined"?_CIQ:U5F.CIQ;if(!K5F.Studies){console.error("volatilityIndex feature requires first activating studies feature.");}else {Y3s="Historical";Y3s+=" Volatilit";Y3s+="y";K5F.Studies.calculateRelativeVolatility=function(u0F,j5F){var F5u=o233;var i3s,A0F,a5F,G5F,E5F,g5F,k3s,A3s,D3s,s5F,V0F;i3s="fi";i3s+="e";i3s+="l";i3s+="d";F5u.Y9u();j5F.days=Number(j5F.inputs["Smoothing Period"]);A0F=Number(j5F.inputs["STD Period"]);a5F=j5F.chart.scrubbed;function L0F(f0F,l0F){if(f0F + l0F === 0){return 100;}F5u.v1T(136);return F5u.f1T(l0F,f0F,f0F,100);}if(a5F.length < j5F.days + A0F){j5F.error=! !{};return;}G5F=j5F.inputs.Field;if(!G5F || G5F == i3s){G5F="Close";}j5F.std=new K5F.Studies.StudyDescriptor(j5F.name,"sdev",j5F.panel);j5F.std.chart=j5F.chart;j5F.std.days=A0F;j5F.std.startFrom=j5F.startFrom;j5F.std.inputs={Field:G5F,"Standard Deviations":1,Type:"ma"};j5F.std.outputs={_STD:null};K5F.Studies.calculateStandardDeviation(u0F,j5F.std);E5F=0;g5F=+"0";if(j5F.startFrom > +"1"){k3s="_";k3s+="avg";k3s+="G";k3s+=" ";E5F=a5F[j5F.startFrom - 1][k3s + j5F.name] || 0;g5F=a5F[j5F.startFrom - 1]["_avgL " + j5F.name] || 0;}for(var q0F=Math.max(j5F.startFrom,j5F.days);q0F < a5F.length;q0F++){A3s="Rel";A3s+=" V";A3s+="ol ";D3s="_STD";D3s+=" ";s5F=a5F[q0F];F5u.B1T(1);V0F=a5F[F5u.n1T(q0F,1)];if(!s5F[G5F] && s5F[G5F] !== 0)continue;if(!V0F[G5F] && V0F[G5F] !== ("0" & 2147483647))continue;if(!s5F[D3s + j5F.name] && s5F["_STD " + j5F.name] !== 0)continue;if(s5F[G5F] > V0F[G5F]){F5u.B1T(181);var M6s=F5u.n1T(7,6,1,2,0);E5F=(E5F * (j5F.days - M6s) + s5F["_STD " + j5F.name]) / j5F.days;F5u.B1T(2);var m6s=F5u.f1T(20,8,13);g5F=g5F * (j5F.days - m6s) / j5F.days;}else {F5u.v1T(2);var d6s=F5u.f1T(11,122482541,1959720670);g5F=(g5F * (j5F.days - ("1" >> d6s)) + s5F["_STD " + j5F.name]) / j5F.days;F5u.B1T(182);var e6s=F5u.f1T(7,10,9,10);E5F=E5F * (j5F.days - e6s) / j5F.days;}s5F[A3s + j5F.name]=L0F(E5F,g5F);s5F["_avgG " + j5F.name]=E5F;s5F["_avgL " + j5F.name]=g5F;}j5F.zoneOutput="Rel Vol";};K5F.Studies.calculateHistoricalVolatility=function(v0F,P0F){var q5u=o233;var n3s,K3s,x0F,R0F,b0F,O0F,S0F,w0F,t3s,c0F,T0F,T3s,m0F;n3s="St";n3s+="andard De";n3s+="viations";K3s="Clo";K3s+="se";x0F=P0F.chart.scrubbed;if(x0F.length < P0F.days + 1){P0F.error=! !1;return;}R0F=P0F.inputs.Field;if(!R0F || R0F == "field"){R0F=K3s;}b0F=P0F.inputs[n3s];if(b0F < 0){b0F=+"1";}O0F=+"100" * Math.sqrt(I0F(P0F.inputs["Days Per Year"])) * b0F;S0F=[];w0F=0;if(P0F.startFrom > 1){t3s="_s";t3s+="t";t3s+="a";t3s+="te ";q5u.B1T(8);var L6s=q5u.f1T(11,10);w0F=x0F[P0F.startFrom - L6s][t3s + P0F.name][0];S0F=x0F[P0F.startFrom - ("1" ^ 0)]["_state " + P0F.name][1].slice();}function I0F(d0F){var W3s,w3s;W3s="m";W3s+="on";W3s+="t";W3s+="h";q5u.Y9u();w3s="d";w3s+="ay";if(isNaN(d0F)){d0F=365;}if(v0F.layout.interval == w3s){return d0F;}else if(v0F.layout.interval == "week"){return 52;}else if(v0F.layout.interval == W3s){return 12;}return d0F;}for(var Q0F=Math.max(1,P0F.startFrom);Q0F < x0F.length;Q0F++){q5u.B1T(1);c0F=x0F[q5u.f1T(Q0F,1)][R0F];if(c0F){T0F=Math.log(x0F[Q0F][R0F] / c0F);S0F.push(T0F);w0F+=T0F;if(Q0F >= P0F.days){T3s="R";T3s+="e";T3s+="sult";T3s+=" ";m0F=0;w0F/=P0F.days;for(var B0F="0" >> 736655648;B0F < S0F.length;B0F++){m0F+=Math.pow(S0F[B0F] - w0F,"2" - 0);}w0F*=P0F.days;w0F-=S0F.shift();x0F[Q0F][T3s + P0F.name]=Math.sqrt(m0F / P0F.days) * O0F;}}x0F[Q0F]["_state " + P0F.name]=[w0F,S0F.slice()];}};K5F.Studies.studyLibrary=K5F.extend(K5F.Studies.studyLibrary,{"Hist Vol":{name:Y3s,calculateFN:K5F.Studies.calculateHistoricalVolatility,inputs:{Period:10,Field:"field","Days Per Year":[252,365],"Standard Deviations":1},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Rel Vol":{name:"Relative Volatility",range:"0 to 100",calculateFN:K5F.Studies.calculateRelativeVolatility,inputs:{Field:"field","STD Period":10,"Smoothing Period":"14" * 1},outputs:{"Rel Vol":"auto"},centerline:50,parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};h9E=J0F=>{var V3s,e0F;V3s="un";V3s+="d";V3s+="efined";o233.z9u();e0F=typeof _CIQ !== V3s?_CIQ:J0F.CIQ;if(!e0F.Studies){console.error("volumeProfile feature requires first activating studies feature.");}else {e0F.Studies.displayVolumeProfile=function(o0F,t0F,s0F){var Z5u=o233;var B3s,a3s,i0F,D0F,y0F,r0F,h0F,K0F,Z0F,J2C,E2C,R2C,F0F,k0F,E0F,C0F,M0F,Y0F,U0F,j0F,N0F,H0F,W0F,g0F,G0F,a0F,X0F,Q3s;B3s="stx";B3s+="_vol";B3s+="ume_prof";B3s+="ile";a3s="B";a3s+="ars Color";if(!o0F || !o0F.chart.dataSet){return;}i0F=o0F.chart;D0F=t0F.parameters.numberOfBars;y0F=t0F.parameters.widthPercentage;r0F=t0F.parameters.displayBorder;h0F=t0F.parameters.displayVolume;if(!D0F || D0F < +"0"){D0F=30;}D0F=Math.ceil(D0F);if(!y0F || y0F < 0){y0F=0.25;}if(r0F !== !"1"){r0F=! !{};}if(h0F !== !0){h0F=![];}K0F=(i0F.highValue - i0F.lowValue) / D0F;if(K0F === 0){return;}Z0F=[];for(var z0F=i0F.lowValue;z0F < i0F.highValue + 0.1;z0F+=K0F){Z5u.v1T(23);Z0F.push([z0F,Z5u.f1T(1,"0")]);}if(Z0F.length < 2){J2C=1742170740;Z5u.v1T(14);E2C=Z5u.f1T(394301,"1107775421");Z5u.v1T(13);R2C=Z5u.f1T("2",159126048);for(var q2C=1;Z5u.D2C(q2C.toString(),q2C.toString().length,"88945" - 0) !== J2C;q2C++){o0F.displayErrorAsWatermark("chart",o0F.translateIf("Not enough data to render the Volume Profile"));Z5u.B1T(1);R2C+=Z5u.n1T("2",0);}if(Z5u.A2C(R2C.toString(),R2C.toString().length,80830) !== E2C){o0F.displayErrorAsWatermark("chart",o0F.translateIf("chart"));}return;}F0F=0;for(var n0F=0;n0F < s0F.length;n0F++){k0F=s0F[n0F];if(!k0F)continue;E0F=k0F.Volume;if(t0F.panel == i0F.name && k0F.transform){k0F=k0F.transform;}C0F=Z0F[0][0];M0F=0;for(var p0F=1;p0F < Z0F.length;p0F++){M0F=Z0F[p0F][0];if(k0F.Low >= C0F && k0F.Low <= M0F || k0F.Low < C0F && k0F.High > M0F || k0F.High >= C0F && k0F.High <= M0F){Z0F[p0F][1]+=E0F;if(Z0F[p0F][+"1"] > F0F){F0F=Z0F[p0F][1];}}C0F=M0F;}}if(F0F === 0){o0F.displayErrorAsWatermark("chart",o0F.translateIf("Not enough data to render the Volume Profile"));return;}o0F.setStyle("stx_volume_profile","color",e0F.Studies.determineColor(t0F.outputs[a3s]));Y0F=t0F.getContext(o0F);U0F="stx-float-date";o0F.canvasFont(U0F,Y0F);j0F=o0F.getCanvasFontSize(U0F);N0F=i0F.panel;H0F=N0F.yAxis.bottom;W0F=Math.round(i0F.right) - 0.5;g0F=i0F.width * y0F;G0F=o0F.canvasStyle(B3s).borderTopColor;a0F=!e0F.isTransparent(o0F.canvasStyle("stx_volume_profile").borderTopColor) && r0F;X0F=o0F;q7F("stx_volume_profile",!{});function q7F(R7F,f7F){var P7F,l7F,u7F,A7F,L7F,x7F,w7F,Q7F,S7F;if(!f7F){W0F-=2;}X0F.canvasColor(R7F);Y0F.beginPath();P7F=Z0F[0][0];l7F=W0F;for(var V7F=+"1";V7F < Z0F.length;V7F++){if(Z0F[V7F][1]){Z5u.B1T(183);var J6s=Z5u.f1T(154,7,16,10,0);Z5u.v1T(0);var E6s=Z5u.n1T(0,1);u7F=Math.round(W0F - Z0F[V7F][J6s] * g0F / F0F) - "0.5" * E6s;A7F=Math.round(X0F.pixelFromTransformedValue(P7F,N0F)) + ("0.5" - 0);L7F=Math.round(X0F.pixelFromTransformedValue(Z0F[V7F][0],N0F)) + 0.5;if(!f7F){A7F-=0.5;L7F+=0.5;u7F+=0.5;}if(A7F > H0F){A7F=H0F;}if(L7F < H0F){Y0F.moveTo(W0F,A7F);Y0F.lineTo(W0F,L7F);Y0F.lineTo(u7F,L7F);Y0F.lineTo(u7F,A7F);if(f7F){if(l7F > u7F || V7F == 1){Y0F.lineTo(l7F,A7F);};}else {Y0F.lineTo(W0F,A7F);if(h0F){x7F=e0F.condenseInt(Z0F[V7F][1]);Z5u.v1T(1);w7F=Z5u.n1T(A7F,L7F);if(j0F <= w7F - 2){try{Q7F=Y0F.measureText(x7F).width;}catch(b7F){Q7F=0;}Y0F.textBaseline="top";S7F=Y0F.fillStyle;Y0F.fillStyle=G0F;Z5u.v1T(52);Y0F.fillText(x7F,Z5u.f1T(u7F,3,Q7F),Z5u.n1T(j0F,w7F,L7F,2,2,Z5u.B1T(184)));Y0F.fillStyle=S7F;}}}}l7F=u7F;}else {l7F=W0F;;}P7F=Z0F[V7F][0];}if(!t0F.highlight && o0F.highlightedDraggable){Y0F.globalAlpha*=0.3;}if(!f7F){Y0F.fill();}Y0F.strokeStyle=G0F;if(f7F){Y0F.stroke();}Y0F.closePath();}if(a0F){Q3s="stx_volume_prof";Q3s+="ile";q7F(Q3s,!"");}Y0F.globalAlpha=1;};e0F.Studies.studyLibrary=e0F.extend(e0F.Studies.studyLibrary,{"vol profile":{name:"Volume Profile",underlay:! ![],seriesFN:e0F.Studies.displayVolumeProfile,calculateFN:null,inputs:{},outputs:{"Bars Color":"#b64a96"},customRemoval:! !1,parameters:{init:{displayBorder:! !{},displayVolume:! !"",numberOfBars:30,widthPercentage:0.25}},attributes:{yaxisDisplayValue:{hidden:! !1},panelName:{hidden:! ![]},flippedEnabled:{hidden:! !1}}}});}};z9E=v7F=>{var B7F,M3s,z3s,C3s,Z3s,P3s;o233.Y9u();B7F=typeof _CIQ !== "undefined"?_CIQ:v7F.CIQ;if(!B7F.Studies){console.error("volumeStudies feature requires first activating studies feature.");}else {M3s="n";M3s+="on";M3s+="e";z3s="Trade Volume I";z3s+="nd";z3s+="ex";C3s="#F";C3s+="F0";C3s+="000";Z3s="m";Z3s+="a";P3s="Neg";P3s+="ative Volume Index";B7F.Studies.calculateOnBalanceVolume=function(o7F,m7F){var M5u=o233;var I3s,c7F,O7F,Z7F,w2C,W2C,K2C,d7F,e7F,I7F,J7F,X3s,S3s,Y7F;I3s="Min Tic";I3s+="k Value";c7F=m7F.inputs.Field;if(!c7F || c7F == "field"){c7F="Close";}O7F=m7F.inputs[I3s];Z7F=! !"";if(!O7F && O7F !== 0){Z7F=! !{};w2C=-519457937;W2C=408761276;K2C=2;for(var t2C="1" - 0;M5u.D2C(t2C.toString(),t2C.toString().length,27556) !== w2C;t2C++){O7F=0;K2C+=+"2";}if(M5u.D2C(K2C.toString(),K2C.toString().length,26144) !== W2C){O7F=3;}}d7F=m7F.chart.scrubbed;e7F=+"0";for(var T7F=m7F.startFrom;T7F < d7F.length;T7F++){X3s="Re";X3s+="sul";X3s+="t";X3s+=" ";S3s="R";S3s+="esu";S3s+="lt ";I7F=d7F[T7F];if(!T7F || !I7F[c7F])continue;if(d7F[T7F - 1][c7F]){M5u.v1T(22);J7F=d7F[M5u.n1T(0,"1",T7F)];}if(!J7F)continue;if(I7F[c7F] - J7F[c7F] > O7F){e7F=1;}else if(J7F[c7F] - I7F[c7F] > O7F){e7F=- +"1";}else if(Z7F){e7F=0;}Y7F=J7F[S3s + m7F.name];if(!Y7F){Y7F=0;}Y7F+=I7F.Volume * e7F;I7F[X3s + m7F.name]=Y7F;}};B7F.Studies.calculatePriceVolumeTrend=function(p7F,W7F){var S5u=o233;var t7F,k7F,D7F,l3s;t7F=W7F.inputs.Field;if(!t7F || t7F == "field"){t7F="Close";}k7F=W7F.chart.scrubbed;D7F=0;if(W7F.startFrom > 1){l3s="Res";l3s+="ult";l3s+=" ";D7F=k7F[W7F.startFrom - ("1" | 0)][l3s + W7F.name];}S5u.Y9u();for(var i7F=Math.max(1,W7F.startFrom);i7F < k7F.length;i7F++){if(!k7F[i7F][t7F])continue;if(!k7F[i7F - 1][t7F])continue;S5u.v1T(185);var R6s=S5u.n1T(1,9,23,13);S5u.B1T(68);var G6s=S5u.n1T(20,10,161,16);D7F+=k7F[i7F].Volume * (k7F[i7F][t7F] - k7F[i7F - R6s][t7F]) / k7F[i7F - G6s][t7F];k7F[i7F]["Result " + W7F.name]=D7F;}};B7F.Studies.calculateVolumeIndex=function(H7F,M7F){var t5u=o233;var j3s,h7F,y7F,z7F,u3s,g3s,b3s,h3s,F3s,C7F,n7F,r7F,N7F;j3s="In";j3s+="d";j3s+="ex";j3s+=" ";h7F=M7F.inputs.Field;if(!h7F || h7F == "field"){h7F="Close";}y7F=M7F.chart.scrubbed;if(y7F.length < M7F.days + 1){M7F.error=! ![];return;}z7F=100;if(M7F.startFrom > 1){z7F=y7F[M7F.startFrom - +"1"]["Index " + M7F.name];}for(var F7F=Math.max(1,M7F.startFrom);F7F < y7F.length;F7F++){u3s="Ind";u3s+="ex ";g3s="Neg";g3s+=" ";g3s+="Vo";g3s+="l";b3s="Po";b3s+="s";b3s+=" V";b3s+="ol";h3s="ob";h3s+="j";h3s+="ect";F3s="obj";F3s+="e";F3s+="c";F3s+="t";C7F=y7F[F7F][h7F];n7F=y7F[F7F].Volume;if(C7F && typeof C7F == F3s){n7F=C7F.Volume;C7F=C7F[M7F.subField];}t5u.B1T(1);r7F=y7F[t5u.f1T(F7F,1)][h7F];N7F=y7F[F7F - ("1" & 2147483647)].Volume;if(r7F && typeof r7F == h3s){N7F=r7F.Volume;r7F=r7F[M7F.subField];}if(!C7F)continue;if(!r7F)continue;if(M7F.type == b3s && n7F > N7F || M7F.type == g3s && n7F < N7F){t5u.B1T(9);z7F*=t5u.f1T(r7F,C7F);}y7F[F7F][u3s + M7F.name]=z7F;}B7F.Studies.MA(M7F.inputs["Moving Average Type"],M7F.days,j3s + M7F.name,0,"MA",H7F,M7F);};B7F.Studies.studyLibrary=B7F.extend(B7F.Studies.studyLibrary,{"Neg Vol":{name:P3s,calculateFN:B7F.Studies.calculateVolumeIndex,inputs:{Period:255,Field:"field","Moving Average Type":Z3s},outputs:{Index:"auto",MA:C3s}},"On Bal Vol":{name:"On Balance Volume",calculateFN:B7F.Studies.calculateOnBalanceVolume,inputs:{}},"Pos Vol":{name:"Positive Volume Index",calculateFN:B7F.Studies.calculateVolumeIndex,inputs:{Period:255,Field:"field","Moving Average Type":"ma"},outputs:{Index:"auto",MA:"#FF0000"}},"Price Vol":{name:"Price Volume Trend",calculateFN:B7F.Studies.calculatePriceVolumeTrend,inputs:{Field:"field"}},"Trade Vol":{name:z3s,calculateFN:B7F.Studies.calculateOnBalanceVolume,inputs:{"Min Tick Value":0.5}},"Vol ROC":{name:"Volume Rate of Change",calculateFN:function(X7F,K7F){o233.z9u();if(B7F.Studies.calculateRateOfChange){B7F.Studies.calculateRateOfChange(X7F,K7F);}else {console.error("Volume Rate of Change study requires first activating momentum feature.");B7F.Studies.calculateRateOfChange=function(U7F,j7F){};}},parameters:{init:{isVolume:! !{}}}},"vol undr":{name:"Volume Underlay",underlay:!0,range:"0 to max",yAxis:{ground:! ![],initialMarginTop:+"0",position:M3s,zoom:0,heightFactor:"0.25" * 1},seriesFN:B7F.Studies.createVolumeChart,calculateFN:B7F.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":"#8cc176","Down Volume":"#b82c0c"},customRemoval:! !{},removeFN:function(G7F,s7F){o233.z9u();G7F.layout.volumeUnderlay=!"1";G7F.changeOccurred("layout");},attributes:{panelName:{hidden:!0}}}});}};n9E=g7F=>{var E7F;E7F=typeof _CIQ !== "undefined"?_CIQ:g7F.CIQ;if(!E7F.Studies){console.error("vortex feature requires first activating studies feature.");}else {E7F.Studies.calculateVortex=function(w9r,a7F){var g5u=o233;var u9r,L9r,q9r,d3s,V9r,f9r,l9r,P9r,x9r,m3s,L3s,e3s;u9r=a7F.chart.scrubbed;L9r=a7F.days;g5u.z9u();if(u9r.length < L9r + 1){a7F.error=! !1;return;}q9r={tr:0,vmPlus:0,vmMinus:0};if(a7F.startFrom > 1){q9r=E7F.clone(u9r[a7F.startFrom - 1]["_totals " + a7F.name]);}for(var A9r=Math.max(a7F.startFrom,1);A9r < u9r.length;A9r++){d3s="_V";d3s+="MPl";d3s+="us";d3s+=" ";V9r=u9r[A9r];g5u.v1T(1);f9r=u9r[g5u.f1T(A9r,1)];l9r=Math.abs(V9r.High - f9r.Low);P9r=Math.abs(V9r.Low - f9r.High);x9r=Math.max(V9r.High,f9r.Close) - Math.min(V9r.Low,f9r.Close);q9r.tr+=x9r;q9r.vmPlus+=l9r;q9r.vmMinus+=P9r;if(A9r > L9r){m3s="_Tru";m3s+="e ";m3s+="Ran";m3s+="ge ";g5u.v1T(1);q9r.tr-=u9r[g5u.n1T(A9r,L9r)][m3s + a7F.name];g5u.B1T(1);q9r.vmPlus-=u9r[g5u.n1T(A9r,L9r)]["_VMPlus " + a7F.name];g5u.B1T(1);q9r.vmMinus-=u9r[g5u.f1T(A9r,L9r)]["_VMMinus " + a7F.name];}V9r["_True Range " + a7F.name]=x9r;V9r[d3s + a7F.name]=l9r;V9r["_VMMinus " + a7F.name]=P9r;if(A9r >= L9r){L3s="-";L3s+="V";L3s+="I";L3s+=" ";e3s="+";e3s+="V";e3s+="I";e3s+=" ";V9r[e3s + a7F.name]=q9r.vmPlus / q9r.tr;V9r[L3s + a7F.name]=q9r.vmMinus / q9r.tr;}V9r["_totals " + a7F.name]=E7F.clone(q9r);}};E7F.Studies.studyLibrary=E7F.extend(E7F.Studies.studyLibrary,{Vortex:{name:"Vortex Indicator",calculateFN:E7F.Studies.calculateVortex,centerline:1,outputs:{"+VI":"#00FF00","-VI":"#FF0000"},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:+"1.1",studyOverBoughtColor:"auto",studyOverSoldValue:0.9,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:1,step:"0.01"},studyOverSoldValue:{max:1,step:"0.01"}}}});}};N9E=S9r=>{o233.Y9u();var Q9r,c9s;Q9r=typeof _CIQ !== "undefined"?_CIQ:S9r.CIQ;if(!Q9r.Studies){console.error("williamsMFI feature requires first activating studies feature.");}else {c9s="#";c9s+="ff";c9s+="d0c";c9s+="f";Q9r.Studies.calculateMFI=function(O9r,R9r){var J3s,b9r,T9r,v9r,c9r,m9r,B9r,R3s,E3s;J3s="Scale";J3s+=" Factor";b9r=R9r.chart.scrubbed;v9r=0;c9r=R9r.inputs[J3s];if(!c9r){c9r=R9r.study.inputs["Scale Factor"];}m9r=Math.pow(10,Number(c9r));if(R9r.startFrom > +"1"){o233.v1T(186);var q6s=o233.f1T(19,14,5,0,1);v9r=b9r[R9r.startFrom - q6s]["_high " + R9r.name];}for(B9r=R9r.startFrom;B9r < b9r.length;B9r++){if(!b9r[B9r])continue;if(b9r[B9r].Volume){R3s="_hig";R3s+="h ";E3s="_h";E3s+="is";E3s+="t";b9r[B9r][R9r.name + E3s]=T9r=m9r * (b9r[B9r].High - b9r[B9r].Low) / b9r[B9r].Volume;b9r[B9r][R3s + R9r.name]=v9r=Math.max(v9r,T9r);}}R9r.outputMap={};R9r.outputMap[R9r.name + "_hist"]="";};Q9r.Studies.displayMFI=function(d9r,I9r,i9r){var R5u=o233;var t9r,Y9r,k9r,W9r,o9r,D9r,p9r,M9r,y9r,q3s,G3s,e9r,J9r;t9r=d9r.panels[I9r.panel];Y9r=I9r.getContext(d9r);k9r=I9r.getYAxis(d9r);W9r=k9r.flipped?k9r.top:k9r.bottom;R5u.v1T(1);var c4I=R5u.n1T(20,18);o9r=d9r.layout.candleWidth - c4I;if(o9r < 2){R5u.B1T(23);o9r=R5u.f1T(1,"1");}D9r=Q9r.Studies.determineColor(I9r.outputs.Green);p9r=Q9r.Studies.determineColor(I9r.outputs.Fade);M9r=Q9r.Studies.determineColor(I9r.outputs.Fake);y9r=Q9r.Studies.determineColor(I9r.outputs.Squat);d9r.canvasColor("stx_histogram");if(!I9r.underlay){Y9r.globalAlpha=1;}Y9r.fillStyle="#CCCCCC";d9r.startClip(I9r.panel);if(!I9r.highlight && d9r.highlightedDraggable){Y9r.globalAlpha*=0.3;}for(var Z9r=0;Z9r < i9r.length;Z9r++){q3s="_";q3s+="hi";q3s+="s";q3s+="t";G3s="_his";G3s+="t";e9r=i9r[Z9r];R5u.v1T(1);J9r=i9r[R5u.n1T(Z9r,1)];if(!J9r){J9r=d9r.getPreviousBar(d9r.chart,I9r.name + "_hist",Z9r);}if(!e9r)continue;if(!J9r);else if(J9r[I9r.name + "_hist"] < e9r[I9r.name + G3s]){if(J9r.Volume < e9r.Volume){Y9r.fillStyle=D9r;}else if(J9r.Volume > e9r.Volume){Y9r.fillStyle=M9r;}}else if(J9r[I9r.name + "_hist"] > e9r[I9r.name + "_hist"]){if(J9r.Volume < e9r.Volume){Y9r.fillStyle=y9r;}else if(J9r.Volume > e9r.Volume){Y9r.fillStyle=p9r;}}if(e9r.candleWidth){o9r=Math.floor(Math.max(1,e9r.candleWidth - 2));}Y9r.fillRect(Math.floor(d9r.pixelFromBar(Z9r,t9r.chart) - o9r / 2),Math.floor(W9r),Math.floor(o9r),Math.floor(d9r.pixelFromPrice(e9r[I9r.name + q3s],t9r,k9r) - W9r));}d9r.endClip();};Q9r.Studies.studyLibrary=Q9r.extend(Q9r.Studies.studyLibrary,{"W MFI":{name:"Market Facilitation Index",seriesFN:Q9r.Studies.displayMFI,calculateFN:Q9r.Studies.calculateMFI,yAxis:{ground:!0},range:"0 to max",inputs:{"Scale Factor":6},outputs:{Green:"#8bc176",Fade:"#ab611f",Fake:"#5f7cb8",Squat:c9s}}});}};j9E={CIQ:Z7B,SplinePlotter:H9E,timezoneJS:X9E,$$:K9E,$$$:U9E};export {o7B as aggregations};export {k7B as drawingAdvanced};export {i7B as equationsAdvanced};export {t7B as highPerformanceMarkers};export {W7B as renderersAdvanced};export {D7B as accumulationDistribution};export {p7B as adx};export {M7B as alligator};export {y7B as aroon};export {F7B as atr};export {C7B as awesomeOscillator};export {r7B as balanceOfPower};export {h7B as bollinger};export {z7B as cci};export {n7B as centerOfGravity};export {N7B as chaikin};export {H7B as chande};export {X7B as choppiness};export {K7B as comparisonStudies};export {U7B as coppock};export {j7B as darvasBox};export {G7B as detrended};export {s7B as disparity};export {E7B as easeOfMovement};export {g7B as ehlerFisher};export {a7B as elder};export {q9E as fractalChaos};export {V9E as highLowStudies};export {A9E as ichimoku};export {u9E as intradayMomentum};export {L9E as keltner};export {f9E as klinger};export {l9E as linearRegression};export {P9E as macd};export {x9E as massIndex};export {w9E as moneyFlow};export {Q9E as movingAverages};export {S9E as parabolicSAR};export {R9E as pivotPoints};export {b9E as prettyGoodOscillator};export {B9E as priceMomentumOscillator};export {v9E as priceVolumeOscillator};export {c9E as primeNumber};export {T9E as pring};export {m9E as projectedVolume};export {O9E as psychologicalLine};export {I9E as qstick};export {d9E as rainbow};export {e9E as randomWalk};export {J9E as relativeVigor};export {Y9E as rsi};export {Z9E as schaffTrendCycle};export {o9E as shinohara};export {k9E as stochastics};export {i9E as supertrend};export {t9E as swingIndex};export {W9E as trendIntensity};export {D9E as trix};export {p9E as twiggsMoneyFlow};export {M9E as typicalPrice};export {y9E as ulcerIndex};export {F9E as ultimateOscillator};export {C9E as valuationLines};export {r9E as volatilityIndex};export {h9E as volumeProfile};export {z9E as volumeStudies};export {n9E as vortex};export {N9E as williamsMFI};export {Z7B as CIQ, H9E as SplinePlotter, X9E as timezoneJS, K9E as $$, U9E as $$$};if(typeof __TREE_SHAKE__ === g2XX || !__TREE_SHAKE__){(j9E.CIQ || Z7B).activateImports(o7B,k7B,i7B,t7B,W7B,D7B,p7B,M7B,y7B,F7B,C7B,r7B,h7B,z7B,n7B,N7B,H7B,X7B,K7B,U7B,j7B,G7B,s7B,E7B,g7B,a7B,q9E,V9E,A9E,u9E,L9E,f9E,l9E,P9E,x9E,w9E,Q9E,S9E,R9E,b9E,B9E,v9E,c9E,T9E,m9E,O9E,I9E,d9E,e9E,J9E,Y9E,Z9E,o9E,k9E,i9E,t9E,W9E,D9E,p9E,M9E,y9E,F9E,C9E,r9E,h9E,z9E,n9E,N9E,null);}/* eslint-enable  */ /* jshint ignore:end   */ /* ignore jslint end   */
